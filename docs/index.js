"use strict";(()=>{var bv=Object.create;var Ai=Object.defineProperty,wv=Object.defineProperties,Ev=Object.getOwnPropertyDescriptor,xv=Object.getOwnPropertyDescriptors,Cv=Object.getOwnPropertyNames,gs=Object.getOwnPropertySymbols,Tv=Object.getPrototypeOf,ys=Object.prototype.hasOwnProperty,Sv=Object.prototype.propertyIsEnumerable;var ps=(t,e,r)=>e in t?Ai(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ni=(t,e)=>{for(var r in e||={})ys.call(e,r)&&ps(t,r,e[r]);if(gs)for(var r of gs(e))Sv.call(e,r)&&ps(t,r,e[r]);return t},Oi=(t,e)=>wv(t,xv(e));var Ee=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Lv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Cv(e))!ys.call(t,a)&&a!==r&&Ai(t,a,{get:()=>e[a],enumerable:!(n=Ev(e,a))||n.enumerable});return t};var yr=(t,e,r)=>(r=t!=null?bv(Tv(t)):{},Lv(e||!t||!t.__esModule?Ai(r,"default",{value:t,enumerable:!0}):r,t));var un=(t,e,r)=>new Promise((n,a)=>{var i=l=>{try{s(r.next(l))}catch(u){a(u)}},o=l=>{try{s(r.throw(l))}catch(u){a(u)}},s=l=>l.done?n(l.value):Promise.resolve(l.value).then(i,o);s((r=r.apply(t,e)).next())});var Ii=Ee((sC,Dv)=>{Dv.exports={}});var Pi=Ee((uC,Mv)=>{Mv.exports={}});var ks=Ee((lC,Rs)=>{"use strict";function ms(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ms(Object(r),!0).forEach(function(n){Fi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ms(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ki(t){"@babel/helpers - typeof";return ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ki(t)}function Yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wt(t,e,r){return e&&bs(t.prototype,e),r&&bs(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&Bi(t,e)}function Oa(t){return Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},Oa(t)}function Bi(t,e){return Bi=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},Bi(t,e)}function Av(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ov(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nv(t)}function Dr(t){var e=Av();return function(){var n=Oa(t),a;if(e){var i=Oa(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Ov(this,a)}}function $r(t){return Iv(t)||Pv(t)||Rv(t)||kv()}function Iv(t){if(Array.isArray(t))return Gi(t)}function Pv(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rv(t,e){if(t){if(typeof t=="string")return Gi(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gi(t,e)}}function Gi(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mr(t){return Array.isArray?Array.isArray(t):Ds(t)==="[object Array]"}var Fv=1/0;function Bv(t){if(typeof t=="string")return t;var e=t+"";return e=="0"&&1/t==-Fv?"-0":e}function Gv(t){return t==null?"":Bv(t)}function sr(t){return typeof t=="string"}function Ss(t){return typeof t=="number"}function zv(t){return t===!0||t===!1||Uv(t)&&Ds(t)=="[object Boolean]"}function Ls(t){return ki(t)==="object"}function Uv(t){return Ls(t)&&t!==null}function Kt(t){return t!=null}function Ri(t){return!t.trim().length}function Ds(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var Vv="Incorrect 'index' type",qv=function(e){return"Invalid value for key ".concat(e)},Hv=function(e){return"Pattern length exceeds max of ".concat(e,".")},Yv=function(e){return"Missing ".concat(e," property in key")},Wv=function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")},ws=Object.prototype.hasOwnProperty,Xv=function(){function t(e){var r=this;Yt(this,t),this._keys=[],this._keyMap={};var n=0;e.forEach(function(a){var i=Ms(a);n+=i.weight,r._keys.push(i),r._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(function(a){a.weight/=n})}return Wt(t,[{key:"get",value:function(r){return this._keyMap[r]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),t}();function Ms(t){var e=null,r=null,n=null,a=1,i=null;if(sr(t)||mr(t))n=t,e=Es(t),r=zi(t);else{if(!ws.call(t,"name"))throw new Error(Yv("name"));var o=t.name;if(n=o,ws.call(t,"weight")&&(a=t.weight,a<=0))throw new Error(Wv(o));e=Es(o),r=zi(o),i=t.getFn}return{path:e,id:r,weight:a,src:n,getFn:i}}function Es(t){return mr(t)?t:t.split(".")}function zi(t){return mr(t)?t.join("."):t}function _v(t,e){var r=[],n=!1,a=function i(o,s,l){if(Kt(o))if(!s[l])r.push(o);else{var u=s[l],c=o[u];if(!Kt(c))return;if(l===s.length-1&&(sr(c)||Ss(c)||zv(c)))r.push(Gv(c));else if(mr(c)){n=!0;for(var f=0,h=c.length;f<h;f+=1)i(c[f],s,l+1)}else s.length&&i(c,s,l+1)}};return a(t,sr(e)?e.split("."):e,0),n?r:r[0]}var $v={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Kv={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,r){return e.score===r.score?e.idx<r.idx?-1:1:e.score<r.score?-1:1}},Zv={location:0,threshold:.6,distance:100},Qv={useExtendedSearch:!1,getFn:_v,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},rt=ln(ln(ln(ln({},Kv),$v),Zv),Qv),Jv=/[^ ]+/g;function jv(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,r=new Map,n=Math.pow(10,e);return{get:function(i){var o=i.match(Jv).length;if(r.has(o))return r.get(o);var s=1/Math.pow(o,.5*t),l=parseFloat(Math.round(s*n)/n);return r.set(o,l),l},clear:function(){r.clear()}}}var Yi=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.getFn,n=r===void 0?rt.getFn:r,a=e.fieldNormWeight,i=a===void 0?rt.fieldNormWeight:a;Yt(this,t),this.norm=jv(i,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}return Wt(t,[{key:"setSources",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=r}},{key:"setIndexRecords",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=r}},{key:"setKeys",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=n,this._keysMap={},n.forEach(function(a,i){r._keysMap[a.id]=i})}},{key:"create",value:function(){var r=this;this.isCreated||!this.docs.length||(this.isCreated=!0,sr(this.docs[0])?this.docs.forEach(function(n,a){r._addString(n,a)}):this.docs.forEach(function(n,a){r._addObject(n,a)}),this.norm.clear())}},{key:"add",value:function(r){var n=this.size();sr(r)?this._addString(r,n):this._addObject(r,n)}},{key:"removeAt",value:function(r){this.records.splice(r,1);for(var n=r,a=this.size();n<a;n+=1)this.records[n].i-=1}},{key:"getValueForItemAtKeyId",value:function(r,n){return r[this._keysMap[n]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(r,n){if(!(!Kt(r)||Ri(r))){var a={v:r,i:n,n:this.norm.get(r)};this.records.push(a)}}},{key:"_addObject",value:function(r,n){var a=this,i={i:n,$:{}};this.keys.forEach(function(o,s){var l=o.getFn?o.getFn(r):a.getFn(r,o.path);if(Kt(l)){if(mr(l))(function(){for(var c=[],f=[{nestedArrIndex:-1,value:l}];f.length;){var h=f.pop(),d=h.nestedArrIndex,v=h.value;if(Kt(v))if(sr(v)&&!Ri(v)){var g={v,i:d,n:a.norm.get(v)};c.push(g)}else mr(v)&&v.forEach(function(y,p){f.push({nestedArrIndex:p,value:y})})}i.$[s]=c})();else if(sr(l)&&!Ri(l)){var u={v:l,n:a.norm.get(l)};i.$[s]=u}}}),this.records.push(i)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),t}();function As(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.getFn,a=n===void 0?rt.getFn:n,i=r.fieldNormWeight,o=i===void 0?rt.fieldNormWeight:i,s=new Yi({getFn:a,fieldNormWeight:o});return s.setKeys(t.map(Ms)),s.setSources(e),s.create(),s}function eg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.getFn,n=r===void 0?rt.getFn:r,a=e.fieldNormWeight,i=a===void 0?rt.fieldNormWeight:a,o=t.keys,s=t.records,l=new Yi({getFn:n,fieldNormWeight:i});return l.setKeys(o),l.setIndexRecords(s),l}function Na(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.errors,n=r===void 0?0:r,a=e.currentLocation,i=a===void 0?0:a,o=e.expectedLocation,s=o===void 0?0:o,l=e.distance,u=l===void 0?rt.distance:l,c=e.ignoreLocation,f=c===void 0?rt.ignoreLocation:c,h=n/t.length;if(f)return h;var d=Math.abs(s-i);return u?h+d/u:d?1:h}function tg(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rt.minMatchCharLength,r=[],n=-1,a=-1,i=0,o=t.length;i<o;i+=1){var s=t[i];s&&n===-1?n=i:!s&&n!==-1&&(a=i-1,a-n+1>=e&&r.push([n,a]),n=-1)}return t[i-1]&&i-n>=e&&r.push([n,i-1]),r}var _r=32;function rg(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=n.location,i=a===void 0?rt.location:a,o=n.distance,s=o===void 0?rt.distance:o,l=n.threshold,u=l===void 0?rt.threshold:l,c=n.findAllMatches,f=c===void 0?rt.findAllMatches:c,h=n.minMatchCharLength,d=h===void 0?rt.minMatchCharLength:h,v=n.includeMatches,g=v===void 0?rt.includeMatches:v,y=n.ignoreLocation,p=y===void 0?rt.ignoreLocation:y;if(e.length>_r)throw new Error(Hv(_r));for(var m=e.length,E=t.length,T=Math.max(0,Math.min(i,E)),L=u,I=T,N=d>1||g,B=N?Array(E):[],R;(R=t.indexOf(e,I))>-1;){var G=Na(e,{currentLocation:R,expectedLocation:T,distance:s,ignoreLocation:p});if(L=Math.min(G,L),I=R+m,N)for(var z=0;z<m;)B[R+z]=1,z+=1}I=-1;for(var w=[],D=1,C=m+E,P=1<<m-1,S=0;S<m;S+=1){for(var V=0,H=C;V<H;){var _=Na(e,{errors:S,currentLocation:T+H,expectedLocation:T,distance:s,ignoreLocation:p});_<=L?V=H:C=H,H=Math.floor((C-V)/2+V)}C=H;var K=Math.max(1,T-H+1),Y=f?E:Math.min(T+H,E)+m,Q=Array(Y+2);Q[Y+1]=(1<<S)-1;for(var ee=Y;ee>=K;ee-=1){var Z=ee-1,te=r[t.charAt(Z)];if(N&&(B[Z]=+!!te),Q[ee]=(Q[ee+1]<<1|1)&te,S&&(Q[ee]|=(w[ee+1]|w[ee])<<1|1|w[ee+1]),Q[ee]&P&&(D=Na(e,{errors:S,currentLocation:Z,expectedLocation:T,distance:s,ignoreLocation:p}),D<=L)){if(L=D,I=Z,I<=T)break;K=Math.max(1,2*T-I)}}var W=Na(e,{errors:S+1,currentLocation:T,expectedLocation:T,distance:s,ignoreLocation:p});if(W>L)break;w=Q}var k={isMatch:I>=0,score:Math.max(.001,D)};if(N){var X=tg(B,d);X.length?g&&(k.indices=X):k.isMatch=!1}return k}function ng(t){for(var e={},r=0,n=t.length;r<n;r+=1){var a=t.charAt(r);e[a]=(e[a]||0)|1<<n-r-1}return e}var Ns=function(){function t(e){var r=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.location,i=a===void 0?rt.location:a,o=n.threshold,s=o===void 0?rt.threshold:o,l=n.distance,u=l===void 0?rt.distance:l,c=n.includeMatches,f=c===void 0?rt.includeMatches:c,h=n.findAllMatches,d=h===void 0?rt.findAllMatches:h,v=n.minMatchCharLength,g=v===void 0?rt.minMatchCharLength:v,y=n.isCaseSensitive,p=y===void 0?rt.isCaseSensitive:y,m=n.ignoreLocation,E=m===void 0?rt.ignoreLocation:m;if(Yt(this,t),this.options={location:i,threshold:s,distance:u,includeMatches:f,findAllMatches:d,minMatchCharLength:g,isCaseSensitive:p,ignoreLocation:E},this.pattern=p?e:e.toLowerCase(),this.chunks=[],!!this.pattern.length){var T=function(z,w){r.chunks.push({pattern:z,alphabet:ng(z),startIndex:w})},L=this.pattern.length;if(L>_r){for(var I=0,N=L%_r,B=L-N;I<B;)T(this.pattern.substr(I,_r),I),I+=_r;if(N){var R=L-_r;T(this.pattern.substr(R),R)}}else T(this.pattern,0)}}return Wt(t,[{key:"searchIn",value:function(r){var n=this.options,a=n.isCaseSensitive,i=n.includeMatches;if(a||(r=r.toLowerCase()),this.pattern===r){var o={isMatch:!0,score:0};return i&&(o.indices=[[0,r.length-1]]),o}var s=this.options,l=s.location,u=s.distance,c=s.threshold,f=s.findAllMatches,h=s.minMatchCharLength,d=s.ignoreLocation,v=[],g=0,y=!1;this.chunks.forEach(function(m){var E=m.pattern,T=m.alphabet,L=m.startIndex,I=rg(r,E,T,{location:l+L,distance:u,threshold:c,findAllMatches:f,minMatchCharLength:h,includeMatches:i,ignoreLocation:d}),N=I.isMatch,B=I.score,R=I.indices;N&&(y=!0),g+=B,N&&R&&(v=[].concat($r(v),$r(R)))});var p={isMatch:y,score:y?g/this.chunks.length:1};return y&&i&&(p.indices=v),p}}]),t}(),Mr=function(){function t(e){Yt(this,t),this.pattern=e}return Wt(t,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(r){return xs(r,this.multiRegex)}},{key:"isSingleMatch",value:function(r){return xs(r,this.singleRegex)}}]),t}();function xs(t,e){var r=t.match(e);return r?r[1]:null}var ag=function(t){Lr(r,t);var e=Dr(r);function r(n){return Yt(this,r),e.call(this,n)}return Wt(r,[{key:"search",value:function(a){var i=a===this.pattern;return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),r}(Mr),ig=function(t){Lr(r,t);var e=Dr(r);function r(n){return Yt(this,r),e.call(this,n)}return Wt(r,[{key:"search",value:function(a){var i=a.indexOf(this.pattern),o=i===-1;return{isMatch:o,score:o?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),r}(Mr),og=function(t){Lr(r,t);var e=Dr(r);function r(n){return Yt(this,r),e.call(this,n)}return Wt(r,[{key:"search",value:function(a){var i=a.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),r}(Mr),sg=function(t){Lr(r,t);var e=Dr(r);function r(n){return Yt(this,r),e.call(this,n)}return Wt(r,[{key:"search",value:function(a){var i=!a.startsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),r}(Mr),ug=function(t){Lr(r,t);var e=Dr(r);function r(n){return Yt(this,r),e.call(this,n)}return Wt(r,[{key:"search",value:function(a){var i=a.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[a.length-this.pattern.length,a.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),r}(Mr),lg=function(t){Lr(r,t);var e=Dr(r);function r(n){return Yt(this,r),e.call(this,n)}return Wt(r,[{key:"search",value:function(a){var i=!a.endsWith(this.pattern);return{isMatch:i,score:i?0:1,indices:[0,a.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),r}(Mr),Os=function(t){Lr(r,t);var e=Dr(r);function r(n){var a,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.location,s=o===void 0?rt.location:o,l=i.threshold,u=l===void 0?rt.threshold:l,c=i.distance,f=c===void 0?rt.distance:c,h=i.includeMatches,d=h===void 0?rt.includeMatches:h,v=i.findAllMatches,g=v===void 0?rt.findAllMatches:v,y=i.minMatchCharLength,p=y===void 0?rt.minMatchCharLength:y,m=i.isCaseSensitive,E=m===void 0?rt.isCaseSensitive:m,T=i.ignoreLocation,L=T===void 0?rt.ignoreLocation:T;return Yt(this,r),a=e.call(this,n),a._bitapSearch=new Ns(n,{location:s,threshold:u,distance:f,includeMatches:d,findAllMatches:g,minMatchCharLength:p,isCaseSensitive:E,ignoreLocation:L}),a}return Wt(r,[{key:"search",value:function(a){return this._bitapSearch.searchIn(a)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),r}(Mr),Is=function(t){Lr(r,t);var e=Dr(r);function r(n){return Yt(this,r),e.call(this,n)}return Wt(r,[{key:"search",value:function(a){for(var i=0,o,s=[],l=this.pattern.length;(o=a.indexOf(this.pattern,i))>-1;)i=o+l,s.push([o,i-1]);var u=!!s.length;return{isMatch:u,score:u?0:1,indices:s}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),r}(Mr),Ui=[ag,Is,og,sg,lg,ug,ig,Os],Cs=Ui.length,cg=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,fg="|";function hg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.split(fg).map(function(r){for(var n=r.trim().split(cg).filter(function(v){return v&&!!v.trim()}),a=[],i=0,o=n.length;i<o;i+=1){for(var s=n[i],l=!1,u=-1;!l&&++u<Cs;){var c=Ui[u],f=c.isMultiMatch(s);f&&(a.push(new c(f,e)),l=!0)}if(!l)for(u=-1;++u<Cs;){var h=Ui[u],d=h.isSingleMatch(s);if(d){a.push(new h(d,e));break}}}return a})}var dg=new Set([Os.type,Is.type]),vg=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.isCaseSensitive,a=n===void 0?rt.isCaseSensitive:n,i=r.includeMatches,o=i===void 0?rt.includeMatches:i,s=r.minMatchCharLength,l=s===void 0?rt.minMatchCharLength:s,u=r.ignoreLocation,c=u===void 0?rt.ignoreLocation:u,f=r.findAllMatches,h=f===void 0?rt.findAllMatches:f,d=r.location,v=d===void 0?rt.location:d,g=r.threshold,y=g===void 0?rt.threshold:g,p=r.distance,m=p===void 0?rt.distance:p;Yt(this,t),this.query=null,this.options={isCaseSensitive:a,includeMatches:o,minMatchCharLength:l,findAllMatches:h,ignoreLocation:c,location:v,threshold:y,distance:m},this.pattern=a?e:e.toLowerCase(),this.query=hg(this.pattern,this.options)}return Wt(t,[{key:"searchIn",value:function(r){var n=this.query;if(!n)return{isMatch:!1,score:1};var a=this.options,i=a.includeMatches,o=a.isCaseSensitive;r=o?r:r.toLowerCase();for(var s=0,l=[],u=0,c=0,f=n.length;c<f;c+=1){var h=n[c];l.length=0,s=0;for(var d=0,v=h.length;d<v;d+=1){var g=h[d],y=g.search(r),p=y.isMatch,m=y.indices,E=y.score;if(p){if(s+=1,u+=E,i){var T=g.constructor.type;dg.has(T)?l=[].concat($r(l),$r(m)):l.push(m)}}else{u=0,s=0,l.length=0;break}}if(s){var L={isMatch:!0,score:u/s};return i&&(L.indices=l),L}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(r,n){return n.useExtendedSearch}}]),t}(),Ia=[];function gg(){Ia.push.apply(Ia,arguments)}function Vi(t,e){for(var r=0,n=Ia.length;r<n;r+=1){var a=Ia[r];if(a.condition(t,e))return new a(t,e)}return new Ns(t,e)}var Pa={AND:"$and",OR:"$or"},qi={PATH:"$path",PATTERN:"$val"},Hi=function(e){return!!(e[Pa.AND]||e[Pa.OR])},pg=function(e){return!!e[qi.PATH]},yg=function(e){return!mr(e)&&Ls(e)&&!Hi(e)},Ts=function(e){return Fi({},Pa.AND,Object.keys(e).map(function(r){return Fi({},r,e[r])}))};function Ps(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.auto,a=n===void 0?!0:n,i=function o(s){var l=Object.keys(s),u=pg(s);if(!u&&l.length>1&&!Hi(s))return o(Ts(s));if(yg(s)){var c=u?s[qi.PATH]:l[0],f=u?s[qi.PATTERN]:s[c];if(!sr(f))throw new Error(qv(c));var h={keyId:zi(c),pattern:f};return a&&(h.searcher=Vi(f,e)),h}var d={children:[],operator:l[0]};return l.forEach(function(v){var g=s[v];mr(g)&&g.forEach(function(y){d.children.push(o(y))})}),d};return Hi(t)||(t=Ts(t)),i(t)}function mg(t,e){var r=e.ignoreFieldNorm,n=r===void 0?rt.ignoreFieldNorm:r;t.forEach(function(a){var i=1;a.matches.forEach(function(o){var s=o.key,l=o.norm,u=o.score,c=s?s.weight:null;i*=Math.pow(u===0&&c?Number.EPSILON:u,(c||1)*(n?1:l))}),a.score=i})}function bg(t,e){var r=t.matches;e.matches=[],Kt(r)&&r.forEach(function(n){if(!(!Kt(n.indices)||!n.indices.length)){var a=n.indices,i=n.value,o={indices:a,value:i};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),e.matches.push(o)}})}function wg(t,e){e.score=t.score}function Eg(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.includeMatches,a=n===void 0?rt.includeMatches:n,i=r.includeScore,o=i===void 0?rt.includeScore:i,s=[];return a&&s.push(bg),o&&s.push(wg),t.map(function(l){var u=l.idx,c={item:e[u],refIndex:u};return s.length&&s.forEach(function(f){f(l,c)}),c})}var cn=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;Yt(this,t),this.options=ln(ln({},rt),r),this.options.useExtendedSearch,this._keyStore=new Xv(this.options.keys),this.setCollection(e,n)}return Wt(t,[{key:"setCollection",value:function(r,n){if(this._docs=r,n&&!(n instanceof Yi))throw new Error(Vv);this._myIndex=n||As(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(r){Kt(r)&&(this._docs.push(r),this._myIndex.add(r))}},{key:"remove",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},n=[],a=0,i=this._docs.length;a<i;a+=1){var o=this._docs[a];r(o,a)&&(this.removeAt(a),a-=1,i-=1,n.push(o))}return n}},{key:"removeAt",value:function(r){this._docs.splice(r,1),this._myIndex.removeAt(r)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.limit,i=a===void 0?-1:a,o=this.options,s=o.includeMatches,l=o.includeScore,u=o.shouldSort,c=o.sortFn,f=o.ignoreFieldNorm,h=sr(r)?sr(this._docs[0])?this._searchStringList(r):this._searchObjectList(r):this._searchLogical(r);return mg(h,{ignoreFieldNorm:f}),u&&h.sort(c),Ss(i)&&i>-1&&(h=h.slice(0,i)),Eg(h,this._docs,{includeMatches:s,includeScore:l})}},{key:"_searchStringList",value:function(r){var n=Vi(r,this.options),a=this._myIndex.records,i=[];return a.forEach(function(o){var s=o.v,l=o.i,u=o.n;if(Kt(s)){var c=n.searchIn(s),f=c.isMatch,h=c.score,d=c.indices;f&&i.push({item:s,idx:l,matches:[{score:h,value:s,norm:u,indices:d}]})}}),i}},{key:"_searchLogical",value:function(r){var n=this,a=Ps(r,this.options),i=function u(c,f,h){if(!c.children){var d=c.keyId,v=c.searcher,g=n._findMatches({key:n._keyStore.get(d),value:n._myIndex.getValueForItemAtKeyId(f,d),searcher:v});return g&&g.length?[{idx:h,item:f,matches:g}]:[]}for(var y=[],p=0,m=c.children.length;p<m;p+=1){var E=c.children[p],T=u(E,f,h);if(T.length)y.push.apply(y,$r(T));else if(c.operator===Pa.AND)return[]}return y},o=this._myIndex.records,s={},l=[];return o.forEach(function(u){var c=u.$,f=u.i;if(Kt(c)){var h=i(a,c,f);h.length&&(s[f]||(s[f]={idx:f,item:c,matches:[]},l.push(s[f])),h.forEach(function(d){var v,g=d.matches;(v=s[f].matches).push.apply(v,$r(g))}))}}),l}},{key:"_searchObjectList",value:function(r){var n=this,a=Vi(r,this.options),i=this._myIndex,o=i.keys,s=i.records,l=[];return s.forEach(function(u){var c=u.$,f=u.i;if(Kt(c)){var h=[];o.forEach(function(d,v){h.push.apply(h,$r(n._findMatches({key:d,value:c[v],searcher:a})))}),h.length&&l.push({idx:f,item:c,matches:h})}}),l}},{key:"_findMatches",value:function(r){var n=r.key,a=r.value,i=r.searcher;if(!Kt(a))return[];var o=[];if(mr(a))a.forEach(function(d){var v=d.v,g=d.i,y=d.n;if(Kt(v)){var p=i.searchIn(v),m=p.isMatch,E=p.score,T=p.indices;m&&o.push({score:E,key:n,value:v,idx:g,norm:y,indices:T})}});else{var s=a.v,l=a.n,u=i.searchIn(s),c=u.isMatch,f=u.score,h=u.indices;c&&o.push({score:f,key:n,value:s,norm:l,indices:h})}return o}}]),t}();cn.version="6.6.2";cn.createIndex=As;cn.parseIndex=eg;cn.config=rt;cn.parseQuery=Ps;gg(vg);var xg=cn;Rs.exports=xg});var Bs=Ee(fn=>{"use strict";var Cg=fn&&fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fn,"__esModule",{value:!0});fn.Searcher=void 0;var Fs=Cg(ks()),Wi=class{constructor(e,r=[]){this.keys=e,this.index(r)}index(e){let r=this.keys,n={keys:r,threshold:.3,ignoreLocation:!0},a=Fs.default.createIndex(r,e);this.fuse=new Fs.default(e,n,a)}search(e){return this.fuse.search(e).map(r=>r.item)}};fn.Searcher=Wi});var Gs=Ee(Ra=>{"use strict";Object.defineProperty(Ra,"__esModule",{value:!0});Ra.debounce=void 0;function Tg(t,e=250){let r=null;return n=>{r!=null&&(clearTimeout(r),r=null),r=setTimeout(()=>{t(n),r=null},e)}}Ra.debounce=Tg});var Us=Ee(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.createSuggestionsDiv=void 0;Pi();function Sg(t){let e=document.createElement("div");return e.classList.add("suggestion-title"),e.textContent=t,e}function Lg(t){let e=document.createElement("div");return e.classList.add("suggestion-body"),e.textContent=t,e}function zs(t){window.location.href=t.url}function Dg(t,e=zs){let r=document.createElement("div");return r.classList.add("suggestion"),r.appendChild(Sg(t.title)),r.appendChild(Lg(t.body)),r.addEventListener("click",()=>e(t)),r.addEventListener("mouseenter",()=>{let n=new CustomEvent("palasimi-select-suggestion",{bubbles:!0,detail:r});r.dispatchEvent(n)}),r}function Mg(){let t=document.createElement("div");return t.classList.add("suggestion"),t.textContent="No results found.",t}function Ag(t=zs){let e=document.createElement("div");e.classList.add("suggestions");let r=(c,f)=>{if(c.length===0){e.replaceChildren();return}if(f.length===0){e.replaceChildren(Mg());return}let h=f.slice(0,200).map(d=>Dg(d,t));h[0].classList.add("selected"),e.replaceChildren(...h)},n=()=>e.querySelector(".selected.suggestion"),a=c=>{let f=e.getBoundingClientRect(),h=c.getBoundingClientRect();return!(h.top<f.top||h.bottom>f.bottom)},i=c=>{a(c)||c.scrollIntoView({behavior:"smooth",block:"nearest"})},o=c=>{for(let f of e.querySelectorAll(".selected"))f.classList.remove("selected");c.classList.add("selected")},s=()=>{if(e.childElementCount===0)return;let c=n(),f=c?.nextElementSibling||e.firstElementChild;f!=null&&(o(f),i(f))},l=()=>{if(e.childElementCount===0)return;let c=n(),f=c?.previousElementSibling||e.lastElementChild;f!=null&&(o(f),i(f))},u=()=>{let c=n();if(c==null)return;c.click();let f=document.activeElement;f instanceof HTMLInputElement&&f.blur()};return e.addEventListener("palasimi-select-suggestion",c=>{c.target!=null&&o(c.target)}),[e,r,s,l,u]}ka.createSuggestionsDiv=Ag});var qs=Ee(Ar=>{"use strict";var Ng=Ar&&Ar.__awaiter||function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.initSearchBox=Ar.createSearchBox=void 0;Ii();var Og=Gs(),Ig=Us();function Pg(t){t.addEventListener("keydown",e=>{switch(e.keyCode){case 13:case 38:case 40:e.preventDefault();break;case 27:t.blur();break;default:break}})}function Rg(t="Search concepts"){let e=document.createElement("div");e.classList.add("search-box"),e.innerHTML=`
		<div class="search-input">
			<input autocapitalize="none">
		</div>
	`;let r=e.querySelector("input");return r.placeholder=t,e}function kg(t,e={}){let r=Rg(e.placeholder);return Vs(r,t,e),r}Ar.createSearchBox=kg;function Vs(t,e,r={}){let[n,a,i,o,s]=(0,Ig.createSuggestionsDiv)(r.follow);t.append(n);let u=t.querySelector(".search-input").querySelector("input");Pg(u);function c(){return Ng(this,void 0,void 0,function*(){let f=u.value,h=yield e(f);a(f,h)})}t.addEventListener("input",(0,Og.debounce)(c,r.debounceDelay)),t.addEventListener("keydown",f=>{switch(f.keyCode){case 13:s();break;case 38:o();break;case 40:i();break;default:break}})}Ar.initSearchBox=Vs});var Xi=Ee(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.initSearchBox=Nr.createSearchBox=Nr.Searcher=void 0;Ii();Pi();var Fg=Bs();Object.defineProperty(Nr,"Searcher",{enumerable:!0,get:function(){return Fg.Searcher}});var Hs=qs();Object.defineProperty(Nr,"createSearchBox",{enumerable:!0,get:function(){return Hs.createSearchBox}});Object.defineProperty(Nr,"initSearchBox",{enumerable:!0,get:function(){return Hs.initSearchBox}})});var hn=Ee((pC,Ws)=>{function Bg(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}Ws.exports=Bg});var _s=Ee((yC,Xs)=>{var Gg=typeof global=="object"&&global&&global.Object===Object&&global;Xs.exports=Gg});var zn=Ee((mC,$s)=>{var zg=_s(),Ug=typeof self=="object"&&self&&self.Object===Object&&self,Vg=zg||Ug||Function("return this")();$s.exports=Vg});var Zs=Ee((bC,Ks)=>{var qg=zn(),Hg=function(){return qg.Date.now()};Ks.exports=Hg});var Js=Ee((wC,Qs)=>{var Yg=/\s/;function Wg(t){for(var e=t.length;e--&&Yg.test(t.charAt(e)););return e}Qs.exports=Wg});var eu=Ee((EC,js)=>{var Xg=Js(),_g=/^\s+/;function $g(t){return t&&t.slice(0,Xg(t)+1).replace(_g,"")}js.exports=$g});var Fa=Ee((xC,tu)=>{var Kg=zn(),Zg=Kg.Symbol;tu.exports=Zg});var iu=Ee((CC,au)=>{var ru=Fa(),nu=Object.prototype,Qg=nu.hasOwnProperty,Jg=nu.toString,Un=ru?ru.toStringTag:void 0;function jg(t){var e=Qg.call(t,Un),r=t[Un];try{t[Un]=void 0;var n=!0}catch{}var a=Jg.call(t);return n&&(e?t[Un]=r:delete t[Un]),a}au.exports=jg});var su=Ee((TC,ou)=>{var ep=Object.prototype,tp=ep.toString;function rp(t){return tp.call(t)}ou.exports=rp});var _i=Ee((SC,cu)=>{var uu=Fa(),np=iu(),ap=su(),ip="[object Null]",op="[object Undefined]",lu=uu?uu.toStringTag:void 0;function sp(t){return t==null?t===void 0?op:ip:lu&&lu in Object(t)?np(t):ap(t)}cu.exports=sp});var hu=Ee((LC,fu)=>{function up(t){return t!=null&&typeof t=="object"}fu.exports=up});var dn=Ee((DC,du)=>{var lp=_i(),cp=hu(),fp="[object Symbol]";function hp(t){return typeof t=="symbol"||cp(t)&&lp(t)==fp}du.exports=hp});var yu=Ee((MC,pu)=>{var dp=eu(),vu=hn(),vp=dn(),gu=0/0,gp=/^[-+]0x[0-9a-f]+$/i,pp=/^0b[01]+$/i,yp=/^0o[0-7]+$/i,mp=parseInt;function bp(t){if(typeof t=="number")return t;if(vp(t))return gu;if(vu(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vu(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=dp(t);var r=pp.test(t);return r||yp.test(t)?mp(t.slice(2),r?2:8):gp.test(t)?gu:+t}pu.exports=bp});var wu=Ee((AC,bu)=>{var wp=hn(),$i=Zs(),mu=yu(),Ep="Expected a function",xp=Math.max,Cp=Math.min;function Tp(t,e,r){var n,a,i,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Ep);e=mu(e)||0,wp(r)&&(c=!!r.leading,f="maxWait"in r,i=f?xp(mu(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function d(I){var N=n,B=a;return n=a=void 0,u=I,o=t.apply(B,N),o}function v(I){return u=I,s=setTimeout(p,e),c?d(I):o}function g(I){var N=I-l,B=I-u,R=e-N;return f?Cp(R,i-B):R}function y(I){var N=I-l,B=I-u;return l===void 0||N>=e||N<0||f&&B>=i}function p(){var I=$i();if(y(I))return m(I);s=setTimeout(p,g(I))}function m(I){return s=void 0,h&&n?d(I):(n=a=void 0,o)}function E(){s!==void 0&&clearTimeout(s),u=0,n=l=a=s=void 0}function T(){return s===void 0?o:m($i())}function L(){var I=$i(),N=y(I);if(n=arguments,a=this,l=I,N){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(p,e),d(l)}return s===void 0&&(s=setTimeout(p,e)),o}return L.cancel=E,L.flush=T,L}bu.exports=Tp});var xu=Ee((Ki,Eu)=>{(function(){var t,e,r,n,a,i,o,s,l,u,c,f,h,d,v;r=Math.floor,u=Math.min,e=function(g,y){return g<y?-1:g>y?1:0},l=function(g,y,p,m,E){var T;if(p==null&&(p=0),E==null&&(E=e),p<0)throw new Error("lo must be non-negative");for(m==null&&(m=g.length);p<m;)T=r((p+m)/2),E(y,g[T])<0?m=T:p=T+1;return[].splice.apply(g,[p,p-p].concat(y)),y},i=function(g,y,p){return p==null&&(p=e),g.push(y),d(g,0,g.length-1,p)},a=function(g,y){var p,m;return y==null&&(y=e),p=g.pop(),g.length?(m=g[0],g[0]=p,v(g,0,y)):m=p,m},s=function(g,y,p){var m;return p==null&&(p=e),m=g[0],g[0]=y,v(g,0,p),m},o=function(g,y,p){var m;return p==null&&(p=e),g.length&&p(g[0],y)<0&&(m=[g[0],y],y=m[0],g[0]=m[1],v(g,0,p)),y},n=function(g,y){var p,m,E,T,L,I,N,B;for(y==null&&(y=e),I=function(){B=[];for(var R=0,G=r(g.length/2);0<=G?R<G:R>G;0<=G?R++:R--)B.push(R);return B}.apply(this).reverse(),N=[],m=0,T=I.length;m<T;m++)p=I[m],N.push(v(g,p,y));return N},h=function(g,y,p){var m;if(p==null&&(p=e),m=g.indexOf(y),m!==-1)return d(g,0,m,p),v(g,m,p)},c=function(g,y,p){var m,E,T,L,I;if(p==null&&(p=e),E=g.slice(0,y),!E.length)return E;for(n(E,p),I=g.slice(y),T=0,L=I.length;T<L;T++)m=I[T],o(E,m,p);return E.sort(p).reverse()},f=function(g,y,p){var m,E,T,L,I,N,B,R,G,z;if(p==null&&(p=e),y*10<=g.length){if(L=g.slice(0,y).sort(p),!L.length)return L;for(T=L[L.length-1],R=g.slice(y),I=0,B=R.length;I<B;I++)m=R[I],p(m,T)<0&&(l(L,m,0,null,p),L.pop(),T=L[L.length-1]);return L}for(n(g,p),z=[],E=N=0,G=u(y,g.length);0<=G?N<G:N>G;E=0<=G?++N:--N)z.push(a(g,p));return z},d=function(g,y,p,m){var E,T,L;for(m==null&&(m=e),E=g[p];p>y;){if(L=p-1>>1,T=g[L],m(E,T)<0){g[p]=T,p=L;continue}break}return g[p]=E},v=function(g,y,p){var m,E,T,L,I;for(p==null&&(p=e),E=g.length,I=y,T=g[y],m=2*y+1;m<E;)L=m+1,L<E&&!(p(g[m],g[L])<0)&&(m=L),g[y]=g[m],y=m,m=2*y+1;return g[y]=T,d(g,I,y,p)},t=function(){g.push=i,g.pop=a,g.replace=s,g.pushpop=o,g.heapify=n,g.updateItem=h,g.nlargest=c,g.nsmallest=f;function g(y){this.cmp=y??e,this.nodes=[]}return g.prototype.push=function(y){return i(this.nodes,y,this.cmp)},g.prototype.pop=function(){return a(this.nodes,this.cmp)},g.prototype.peek=function(){return this.nodes[0]},g.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},g.prototype.replace=function(y){return s(this.nodes,y,this.cmp)},g.prototype.pushpop=function(y){return o(this.nodes,y,this.cmp)},g.prototype.heapify=function(){return n(this.nodes,this.cmp)},g.prototype.updateItem=function(y){return h(this.nodes,y,this.cmp)},g.prototype.clear=function(){return this.nodes=[]},g.prototype.empty=function(){return this.nodes.length===0},g.prototype.size=function(){return this.nodes.length},g.prototype.clone=function(){var y;return y=new g,y.nodes=this.nodes.slice(0),y},g.prototype.toArray=function(){return this.nodes.slice(0)},g.prototype.insert=g.prototype.push,g.prototype.top=g.prototype.peek,g.prototype.front=g.prototype.peek,g.prototype.has=g.prototype.contains,g.prototype.copy=g.prototype.clone,g}(),function(g,y){return typeof define=="function"&&define.amd?define([],y):typeof Ki=="object"?Eu.exports=y():g.Heap=y()}(this,function(){return t})}).call(Ki)});var Tu=Ee((NC,Cu)=>{Cu.exports=xu()});var Vn=Ee((OC,Su)=>{var Sp=Array.isArray;Su.exports=Sp});var Du=Ee((IC,Lu)=>{var Lp=Vn(),Dp=dn(),Mp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ap=/^\w*$/;function Np(t,e){if(Lp(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||Dp(t)?!0:Ap.test(t)||!Mp.test(t)||e!=null&&t in Object(e)}Lu.exports=Np});var Au=Ee((PC,Mu)=>{var Op=_i(),Ip=hn(),Pp="[object AsyncFunction]",Rp="[object Function]",kp="[object GeneratorFunction]",Fp="[object Proxy]";function Bp(t){if(!Ip(t))return!1;var e=Op(t);return e==Rp||e==kp||e==Pp||e==Fp}Mu.exports=Bp});var Ou=Ee((RC,Nu)=>{var Gp=zn(),zp=Gp["__core-js_shared__"];Nu.exports=zp});var Ru=Ee((kC,Pu)=>{var Zi=Ou(),Iu=function(){var t=/[^.]+$/.exec(Zi&&Zi.keys&&Zi.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Up(t){return!!Iu&&Iu in t}Pu.exports=Up});var Fu=Ee((FC,ku)=>{var Vp=Function.prototype,qp=Vp.toString;function Hp(t){if(t!=null){try{return qp.call(t)}catch{}try{return t+""}catch{}}return""}ku.exports=Hp});var Gu=Ee((BC,Bu)=>{var Yp=Au(),Wp=Ru(),Xp=hn(),_p=Fu(),$p=/[\\^$.*+?()[\]{}|]/g,Kp=/^\[object .+?Constructor\]$/,Zp=Function.prototype,Qp=Object.prototype,Jp=Zp.toString,jp=Qp.hasOwnProperty,ey=RegExp("^"+Jp.call(jp).replace($p,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ty(t){if(!Xp(t)||Wp(t))return!1;var e=Yp(t)?ey:Kp;return e.test(_p(t))}Bu.exports=ty});var Uu=Ee((GC,zu)=>{function ry(t,e){return t?.[e]}zu.exports=ry});var Ba=Ee((zC,Vu)=>{var ny=Gu(),ay=Uu();function iy(t,e){var r=ay(t,e);return ny(r)?r:void 0}Vu.exports=iy});var qn=Ee((UC,qu)=>{var oy=Ba(),sy=oy(Object,"create");qu.exports=sy});var Wu=Ee((VC,Yu)=>{var Hu=qn();function uy(){this.__data__=Hu?Hu(null):{},this.size=0}Yu.exports=uy});var _u=Ee((qC,Xu)=>{function ly(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}Xu.exports=ly});var Ku=Ee((HC,$u)=>{var cy=qn(),fy="__lodash_hash_undefined__",hy=Object.prototype,dy=hy.hasOwnProperty;function vy(t){var e=this.__data__;if(cy){var r=e[t];return r===fy?void 0:r}return dy.call(e,t)?e[t]:void 0}$u.exports=vy});var Qu=Ee((YC,Zu)=>{var gy=qn(),py=Object.prototype,yy=py.hasOwnProperty;function my(t){var e=this.__data__;return gy?e[t]!==void 0:yy.call(e,t)}Zu.exports=my});var ju=Ee((WC,Ju)=>{var by=qn(),wy="__lodash_hash_undefined__";function Ey(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=by&&e===void 0?wy:e,this}Ju.exports=Ey});var tl=Ee((XC,el)=>{var xy=Wu(),Cy=_u(),Ty=Ku(),Sy=Qu(),Ly=ju();function vn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}vn.prototype.clear=xy;vn.prototype.delete=Cy;vn.prototype.get=Ty;vn.prototype.has=Sy;vn.prototype.set=Ly;el.exports=vn});var nl=Ee((_C,rl)=>{function Dy(){this.__data__=[],this.size=0}rl.exports=Dy});var Qi=Ee(($C,al)=>{function My(t,e){return t===e||t!==t&&e!==e}al.exports=My});var Hn=Ee((KC,il)=>{var Ay=Qi();function Ny(t,e){for(var r=t.length;r--;)if(Ay(t[r][0],e))return r;return-1}il.exports=Ny});var sl=Ee((ZC,ol)=>{var Oy=Hn(),Iy=Array.prototype,Py=Iy.splice;function Ry(t){var e=this.__data__,r=Oy(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Py.call(e,r,1),--this.size,!0}ol.exports=Ry});var ll=Ee((QC,ul)=>{var ky=Hn();function Fy(t){var e=this.__data__,r=ky(e,t);return r<0?void 0:e[r][1]}ul.exports=Fy});var fl=Ee((JC,cl)=>{var By=Hn();function Gy(t){return By(this.__data__,t)>-1}cl.exports=Gy});var dl=Ee((jC,hl)=>{var zy=Hn();function Uy(t,e){var r=this.__data__,n=zy(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}hl.exports=Uy});var gl=Ee((eT,vl)=>{var Vy=nl(),qy=sl(),Hy=ll(),Yy=fl(),Wy=dl();function gn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}gn.prototype.clear=Vy;gn.prototype.delete=qy;gn.prototype.get=Hy;gn.prototype.has=Yy;gn.prototype.set=Wy;vl.exports=gn});var yl=Ee((tT,pl)=>{var Xy=Ba(),_y=zn(),$y=Xy(_y,"Map");pl.exports=$y});var wl=Ee((rT,bl)=>{var ml=tl(),Ky=gl(),Zy=yl();function Qy(){this.size=0,this.__data__={hash:new ml,map:new(Zy||Ky),string:new ml}}bl.exports=Qy});var xl=Ee((nT,El)=>{function Jy(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}El.exports=Jy});var Yn=Ee((aT,Cl)=>{var jy=xl();function em(t,e){var r=t.__data__;return jy(e)?r[typeof e=="string"?"string":"hash"]:r.map}Cl.exports=em});var Sl=Ee((iT,Tl)=>{var tm=Yn();function rm(t){var e=tm(this,t).delete(t);return this.size-=e?1:0,e}Tl.exports=rm});var Dl=Ee((oT,Ll)=>{var nm=Yn();function am(t){return nm(this,t).get(t)}Ll.exports=am});var Al=Ee((sT,Ml)=>{var im=Yn();function om(t){return im(this,t).has(t)}Ml.exports=om});var Ol=Ee((uT,Nl)=>{var sm=Yn();function um(t,e){var r=sm(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}Nl.exports=um});var Pl=Ee((lT,Il)=>{var lm=wl(),cm=Sl(),fm=Dl(),hm=Al(),dm=Ol();function pn(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}pn.prototype.clear=lm;pn.prototype.delete=cm;pn.prototype.get=fm;pn.prototype.has=hm;pn.prototype.set=dm;Il.exports=pn});var Fl=Ee((cT,kl)=>{var Rl=Pl(),vm="Expected a function";function Ji(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(vm);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Ji.Cache||Rl),r}Ji.Cache=Rl;kl.exports=Ji});var Gl=Ee((fT,Bl)=>{var gm=Fl(),pm=500;function ym(t){var e=gm(t,function(n){return r.size===pm&&r.clear(),n}),r=e.cache;return e}Bl.exports=ym});var ji=Ee((hT,zl)=>{var mm=Gl(),bm=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wm=/\\(\\)?/g,Em=mm(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(bm,function(r,n,a,i){e.push(a?i.replace(wm,"$1"):n||r)}),e});zl.exports=Em});var eo=Ee((dT,Ul)=>{function xm(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}Ul.exports=xm});var Xl=Ee((vT,Wl)=>{var Vl=Fa(),Cm=eo(),Tm=Vn(),Sm=dn(),Lm=1/0,ql=Vl?Vl.prototype:void 0,Hl=ql?ql.toString:void 0;function Yl(t){if(typeof t=="string")return t;if(Tm(t))return Cm(t,Yl)+"";if(Sm(t))return Hl?Hl.call(t):"";var e=t+"";return e=="0"&&1/t==-Lm?"-0":e}Wl.exports=Yl});var to=Ee((gT,_l)=>{var Dm=Xl();function Mm(t){return t==null?"":Dm(t)}_l.exports=Mm});var ro=Ee((pT,$l)=>{var Am=Vn(),Nm=Du(),Om=ji(),Im=to();function Pm(t,e){return Am(t)?t:Nm(t,e)?[t]:Om(Im(t))}$l.exports=Pm});var Ga=Ee((yT,Kl)=>{var Rm=dn(),km=1/0;function Fm(t){if(typeof t=="string"||Rm(t))return t;var e=t+"";return e=="0"&&1/t==-km?"-0":e}Kl.exports=Fm});var Ql=Ee((mT,Zl)=>{var Bm=ro(),Gm=Ga();function zm(t,e){e=Bm(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[Gm(e[r++])];return r&&r==n?t:void 0}Zl.exports=zm});var jl=Ee((bT,Jl)=>{var Um=Ql();function Vm(t,e,r){var n=t==null?void 0:Um(t,e);return n===void 0?r:n}Jl.exports=Vm});var tc=Ee((wT,ec)=>{var qm=Ba(),Hm=function(){try{var t=qm(Object,"defineProperty");return t({},"",{}),t}catch{}}();ec.exports=Hm});var ac=Ee((ET,nc)=>{var rc=tc();function Ym(t,e,r){e=="__proto__"&&rc?rc(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}nc.exports=Ym});var oc=Ee((xT,ic)=>{var Wm=ac(),Xm=Qi(),_m=Object.prototype,$m=_m.hasOwnProperty;function Km(t,e,r){var n=t[e];(!($m.call(t,e)&&Xm(n,r))||r===void 0&&!(e in t))&&Wm(t,e,r)}ic.exports=Km});var uc=Ee((CT,sc)=>{var Zm=9007199254740991,Qm=/^(?:0|[1-9]\d*)$/;function Jm(t,e){var r=typeof t;return e=e??Zm,!!e&&(r=="number"||r!="symbol"&&Qm.test(t))&&t>-1&&t%1==0&&t<e}sc.exports=Jm});var fc=Ee((TT,cc)=>{var jm=oc(),e0=ro(),t0=uc(),lc=hn(),r0=Ga();function n0(t,e,r,n){if(!lc(t))return t;e=e0(e,t);for(var a=-1,i=e.length,o=i-1,s=t;s!=null&&++a<i;){var l=r0(e[a]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(a!=o){var c=s[l];u=n?n(c,l,s):void 0,u===void 0&&(u=lc(c)?c:t0(e[a+1])?[]:{})}jm(s,l,u),s=s[l]}return t}cc.exports=n0});var dc=Ee((ST,hc)=>{var a0=fc();function i0(t,e,r){return t==null?t:a0(t,e,r)}hc.exports=i0});var gc=Ee((LT,vc)=>{function o0(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}vc.exports=o0});var yc=Ee((DT,pc)=>{var s0=eo(),u0=gc(),l0=Vn(),c0=dn(),f0=ji(),h0=Ga(),d0=to();function v0(t){return l0(t)?s0(t,h0):c0(t)?[t]:u0(f0(d0(t)))}pc.exports=v0});var $h=Ee((MT,_h)=>{"use strict";var g0=wu(),p0=Tu(),y0=jl(),m0=dc(),b0=yc();function fa(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var hi=fa(g0),ha=fa(p0),w0=fa(y0),E0=fa(m0),x0=fa(b0);function Mt(t){"@babel/helpers - typeof";return Mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mt(t)}function Do(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mo(t,e,r){return e&&mc(t.prototype,e),r&&mc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ef(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function br(t,e){return C0(t)||T0(t,e)||S0(t,e)||L0()}function C0(t){if(Array.isArray(t))return t}function T0(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(t);!(a=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));a=!0);}catch(l){i=!0,s=l}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function S0(t,e){if(t){if(typeof t=="string")return bc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bc(t,e)}}function bc(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xt=typeof window>"u"?null:window,wc=xt?xt.navigator:null;xt&&xt.document;var D0=Mt(""),xf=Mt({}),M0=Mt(function(){}),A0=typeof HTMLElement>"u"?"undefined":Mt(HTMLElement),da=function(e){return e&&e.instanceString&&Ct(e.instanceString)?e.instanceString():null},Ke=function(e){return e!=null&&Mt(e)==D0},Ct=function(e){return e!=null&&Mt(e)===M0},pt=function(e){return!Zt(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},ot=function(e){return e!=null&&Mt(e)===xf&&!pt(e)&&e.constructor===Object},N0=function(e){return e!=null&&Mt(e)===xf},Ie=function(e){return e!=null&&Mt(e)===Mt(1)&&!isNaN(e)},O0=function(e){return Ie(e)&&Math.floor(e)===e},ni=function(e){if(A0!=="undefined")return e!=null&&e instanceof HTMLElement},Zt=function(e){return va(e)||Cf(e)},va=function(e){return da(e)==="collection"&&e._private.single},Cf=function(e){return da(e)==="collection"&&!e._private.single},Ao=function(e){return da(e)==="core"},Tf=function(e){return da(e)==="stylesheet"},I0=function(e){return da(e)==="event"},Br=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},P0=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},R0=function(e){return ot(e)&&Ie(e.x1)&&Ie(e.x2)&&Ie(e.y1)&&Ie(e.y2)},k0=function(e){return N0(e)&&Ct(e.then)},F0=function(){return wc&&wc.userAgent.match(/msie|trident|edge/i)},ta=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function a(){var i=this,o=arguments,s,l=r.apply(i,o),u=a.cache;return(s=u[l])||(s=u[l]=e.apply(i,o)),s};return n.cache={},n},No=ta(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),di=ta(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),Sf=ta(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Ec=function(e){return Br(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},Dt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",B0="rgb[a]?\\(("+Dt+"[%]?)\\s*,\\s*("+Dt+"[%]?)\\s*,\\s*("+Dt+"[%]?)(?:\\s*,\\s*("+Dt+"))?\\)",G0="rgb[a]?\\((?:"+Dt+"[%]?)\\s*,\\s*(?:"+Dt+"[%]?)\\s*,\\s*(?:"+Dt+"[%]?)(?:\\s*,\\s*(?:"+Dt+"))?\\)",z0="hsl[a]?\\(("+Dt+")\\s*,\\s*("+Dt+"[%])\\s*,\\s*("+Dt+"[%])(?:\\s*,\\s*("+Dt+"))?\\)",U0="hsl[a]?\\((?:"+Dt+")\\s*,\\s*(?:"+Dt+"[%])\\s*,\\s*(?:"+Dt+"[%])(?:\\s*,\\s*(?:"+Dt+"))?\\)",V0="\\#[0-9a-fA-F]{3}",q0="\\#[0-9a-fA-F]{6}",Lf=function(e,r){return e<r?-1:e>r?1:0},H0=function(e,r){return-1*Lf(e,r)},Je=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];t[o]=n[o]}}return t},Y0=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,a,i,o=16;return r?(n=parseInt(e[1]+e[1],o),a=parseInt(e[2]+e[2],o),i=parseInt(e[3]+e[3],o)):(n=parseInt(e[1]+e[2],o),a=parseInt(e[3]+e[4],o),i=parseInt(e[5]+e[6],o)),[n,a,i]}},W0=function(e){var r,n,a,i,o,s,l,u;function c(v,g,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?v+(g-v)*6*y:y<1/2?g:y<2/3?v+(g-v)*(2/3-y)*6:v}var f=new RegExp("^"+z0+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(f[2]),a<0||a>100||(a=a/100,i=parseFloat(f[3]),i<0||i>100)||(i=i/100,o=f[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)s=l=u=Math.round(i*255);else{var h=i<.5?i*(1+a):i+a-i*a,d=2*i-h;s=Math.round(255*c(d,h,n+1/3)),l=Math.round(255*c(d,h,n)),u=Math.round(255*c(d,h,n-1/3))}r=[s,l,u,o]}return r},X0=function(e){var r,n=new RegExp("^"+B0+"$").exec(e);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=a[1]||a[2]||a[3],l=a[1]&&a[2]&&a[3];if(s&&!l)return;var u=n[4];if(u!==void 0){if(u=parseFloat(u),u<0||u>1)return;r.push(u)}}return r},_0=function(e){return K0[e.toLowerCase()]},$0=function(e){return(pt(e)?e:null)||_0(e)||Y0(e)||X0(e)||W0(e)},K0={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Df=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(ot(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=e.value}},Mf=function(e){for(var r=e.map,n=e.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(ot(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r},no=xt?xt.performance:null,Af=no&&no.now?function(){return no.now()}:function(){return Date.now()},Z0=function(){if(xt){if(xt.requestAnimationFrame)return function(t){xt.requestAnimationFrame(t)};if(xt.mozRequestAnimationFrame)return function(t){xt.mozRequestAnimationFrame(t)};if(xt.webkitRequestAnimationFrame)return function(t){xt.webkitRequestAnimationFrame(t)};if(xt.msRequestAnimationFrame)return function(t){xt.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(Af())},1e3/60)}}(),ai=function(e){return Z0(e)},wr=Af,En=9261,Nf=65599,Kn=5381,Of=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:En,n=r,a;a=e.next(),!a.done;)n=n*Nf+a.value|0;return n},ra=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:En;return r*Nf+e|0},na=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kn;return(r<<5)+r+e|0},Q0=function(e,r){return e*2097152+r},Or=function(e){return e[0]*2097152+e[1]},za=function(e,r){return[ra(e[0],r[0]),na(e[1],r[1])]},J0=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e[a++]:n.done=!0,n}};return Of(o,r)},jr=function(e,r){var n={value:0,done:!1},a=0,i=e.length,o={next:function(){return a<i?n.value=e.charCodeAt(a++):n.done=!0,n}};return Of(o,r)},If=function(){return j0(arguments)},j0=function(e){for(var r,n=0;n<e.length;n++){var a=e[n];n===0?r=jr(a):r=jr(a,r)}return r},xc=!0,eb=console.warn!=null,tb=console.trace!=null,Oo=Number.MAX_SAFE_INTEGER||9007199254740991,Pf=function(){return!0},ii=function(){return!1},Cc=function(){return 0},Io=function(){},Tt=function(e){throw new Error(e)},Rf=function(e){if(e!==void 0)xc=!!e;else return xc},dt=function(e){Rf()&&(eb?console.warn(e):(console.log(e),tb&&console.trace()))},rb=function(e){return Je({},e)},ur=function(e){return e==null?e:pt(e)?e.slice():ot(e)?rb(e):e},nb=function(e){return e.slice()},kf=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},ab={},Ff=function(){return ab},kt=function(e){var r=Object.keys(e);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],s=n?.[o];a[o]=s===void 0?e[o]:s}return a}},Gr=function(e,r,n){for(var a=e.length-1;a>=0&&!(e[a]===r&&(e.splice(a,1),n));a--);},Po=function(e){e.splice(0,e.length)},ib=function(e,r){for(var n=0;n<r.length;n++){var a=r[n];e.push(a)}},ir=function(e,r,n){return n&&(r=Sf(n,r)),e[r]},Pr=function(e,r,n,a){n&&(r=Sf(n,r)),e[r]=a},ob=function(){function t(){Do(this,t),this._obj={}}return Mo(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),t}(),lr=typeof Map<"u"?Map:ob,sb="undefined",ub=function(){function t(e){if(Do(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Mo(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),t}(),On=(typeof Set>"u"?"undefined":Mt(Set))!==sb?Set:ub,vi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!Ao(e)){Tt("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){Tt("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new On,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=e.pan(),l=e.zoom();i.position={x:(o.x-s.x)/l,y:(o.y-s.y)/l}}var u=[];pt(r.classes)?u=r.classes:Ke(r.classes)&&(u=r.classes.split(/\s+/));for(var c=0,f=u.length;c<f;c++){var h=u[c];!h||h===""||i.classes.add(h)}this.createEmitter();var d=r.style||r.css;d&&(dt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(d)),(n===void 0||n)&&this.restore()},Tc=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,a,i){var o;ot(n)&&!Zt(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!Ct(a)?a:i,a=Ct(a)?a:function(){};for(var s=this._private.cy,l=n=Ke(n)?this.filter(n):n,u=[],c=[],f={},h={},d={},v=0,g,y=this.byGroup(),p=y.nodes,m=y.edges,E=0;E<l.length;E++){var T=l[E],L=T.id();T.isNode()&&(u.unshift(T),e.bfs&&(d[L]=!0,c.push(T)),h[L]=0)}for(var I=function(){var D=e.bfs?u.shift():u.pop(),C=D.id();if(e.dfs){if(d[C])return"continue";d[C]=!0,c.push(D)}var P=h[C],S=f[C],V=S!=null?S.source():null,H=S!=null?S.target():null,_=S==null?void 0:D.same(V)?H[0]:V[0],K=void 0;if(K=a(D,S,_,v++,P),K===!0)return g=D,"break";if(K===!1)return"break";for(var Y=D.connectedEdges().filter(function(W){return(!i||W.source().same(D))&&m.has(W)}),Q=0;Q<Y.length;Q++){var ee=Y[Q],Z=ee.connectedNodes().filter(function(W){return!W.same(D)&&p.has(W)}),te=Z.id();Z.length!==0&&!d[te]&&(Z=Z[0],u.push(Z),e.bfs&&(d[te]=!0,c.push(Z)),f[te]=ee,h[te]=h[C]+1)}};u.length!==0;){var N=I();if(N!=="continue"&&N==="break")break}for(var B=s.collection(),R=0;R<c.length;R++){var G=c[R],z=f[G.id()];z!=null&&B.push(z),B.push(G)}return{path:s.collection(B),found:s.collection(g)}}},aa={breadthFirstSearch:Tc({bfs:!0}),depthFirstSearch:Tc({dfs:!0})};aa.bfs=aa.breadthFirstSearch;aa.dfs=aa.depthFirstSearch;var lb=kt({root:null,weight:function(e){return 1},directed:!1}),cb={dijkstra:function(e){if(!ot(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=lb(e),a=n.root,i=n.weight,o=n.directed,s=this,l=i,u=Ke(a)?this.filter(a)[0]:a[0],c={},f={},h={},d=this.byGroup(),v=d.nodes,g=d.edges;g.unmergeBy(function(P){return P.isLoop()});for(var y=function(S){return c[S.id()]},p=function(S,V){c[S.id()]=V,m.updateItem(S)},m=new ha.default(function(P,S){return y(P)-y(S)}),E=0;E<v.length;E++){var T=v[E];c[T.id()]=T.same(u)?0:1/0,m.push(T)}for(var L=function(S,V){for(var H=(o?S.edgesTo(V):S.edgesWith(V)).intersect(g),_=1/0,K,Y=0;Y<H.length;Y++){var Q=H[Y],ee=l(Q);(ee<_||!K)&&(_=ee,K=Q)}return{edge:K,dist:_}};m.size()>0;){var I=m.pop(),N=y(I),B=I.id();if(h[B]=N,N!==1/0)for(var R=I.neighborhood().intersect(v),G=0;G<R.length;G++){var z=R[G],w=z.id(),D=L(I,z),C=N+D.dist;C<y(z)&&(p(z,C),f[w]={node:I,edge:D.edge})}}return{distanceTo:function(S){var V=Ke(S)?v.filter(S)[0]:S[0];return h[V.id()]},pathTo:function(S){var V=Ke(S)?v.filter(S)[0]:S[0],H=[],_=V,K=_.id();if(V.length>0)for(H.unshift(V);f[K];){var Y=f[K];H.unshift(Y.edge),H.unshift(Y.node),_=Y.node,K=_.id()}return s.spawn(H)}}}},fb={kruskal:function(e){e=e||function(E){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),s=n,l=function(T){for(var L=0;L<o.length;L++){var I=o[L];if(I.has(T))return L}},u=0;u<i;u++)o[u]=this.spawn(n[u]);for(var c=a.sort(function(E,T){return e(E)-e(T)}),f=0;f<c.length;f++){var h=c[f],d=h.source()[0],v=h.target()[0],g=l(d),y=l(v),p=o[g],m=o[y];g!==y&&(s.merge(h),p.merge(m),o.splice(y,1))}return s}},hb=kt({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),db={aStar:function(e){var r=this.cy(),n=hb(e),a=n.root,i=n.goal,o=n.heuristic,s=n.directed,l=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var u=a.id(),c=i.id(),f={},h={},d={},v=new ha.default(function(K,Y){return h[K.id()]-h[Y.id()]}),g=new On,y={},p={},m=function(Y,Q){v.push(Y),g.add(Q)},E,T,L=function(){E=v.pop(),T=E.id(),g.delete(T)},I=function(Y){return g.has(Y)};m(a,u),f[u]=0,h[u]=o(a);for(var N=0;v.size()>0;){if(L(),N++,T===c){for(var B=[],R=i,G=c,z=p[G];B.unshift(R),z!=null&&B.unshift(z),R=y[G],R!=null;)G=R.id(),z=p[G];return{found:!0,distance:f[T],path:this.spawn(B),steps:N}}d[T]=!0;for(var w=E._private.edges,D=0;D<w.length;D++){var C=w[D];if(this.hasElementWithId(C.id())&&!(s&&C.data("source")!==T)){var P=C.source(),S=C.target(),V=P.id()!==T?P:S,H=V.id();if(this.hasElementWithId(H)&&!d[H]){var _=f[T]+l(C);if(!I(H)){f[H]=_,h[H]=_+o(V),m(V,H),y[H]=E,p[H]=C;continue}_<f[H]&&(f[H]=_,h[H]=_+o(V),y[H]=E,p[H]=C)}}}}return{found:!1,distance:void 0,path:void 0,steps:N}}},vb=kt({weight:function(e){return 1},directed:!1}),gb={floydWarshall:function(e){for(var r=this.cy(),n=vb(e),a=n.weight,i=n.directed,o=a,s=this.byGroup(),l=s.nodes,u=s.edges,c=l.length,f=c*c,h=function(ee){return l.indexOf(ee)},d=function(ee){return l[ee]},v=new Array(f),g=0;g<f;g++){var y=g%c,p=(g-y)/c;p===y?v[g]=0:v[g]=1/0}for(var m=new Array(f),E=new Array(f),T=0;T<u.length;T++){var L=u[T],I=L.source()[0],N=L.target()[0];if(I!==N){var B=h(I),R=h(N),G=B*c+R,z=o(L);if(v[G]>z&&(v[G]=z,m[G]=R,E[G]=L),!i){var w=R*c+B;!i&&v[w]>z&&(v[w]=z,m[w]=B,E[w]=L)}}}for(var D=0;D<c;D++)for(var C=0;C<c;C++)for(var P=C*c+D,S=0;S<c;S++){var V=C*c+S,H=D*c+S;v[P]+v[H]<v[V]&&(v[V]=v[P]+v[H],m[V]=m[P])}var _=function(ee){return(Ke(ee)?r.filter(ee):ee)[0]},K=function(ee){return h(_(ee))},Y={distance:function(ee,Z){var te=K(ee),W=K(Z);return v[te*c+W]},path:function(ee,Z){var te=K(ee),W=K(Z),k=d(te);if(te===W)return k.collection();if(m[te*c+W]==null)return r.collection();var X=r.collection(),J=te,ae;for(X.merge(k);te!==W;)J=te,te=m[te*c+W],ae=E[J*c+te],X.merge(ae),X.merge(d(te));return X}};return Y}},pb=kt({weight:function(e){return 1},directed:!1,root:null}),yb={bellmanFord:function(e){var r=this,n=pb(e),a=n.weight,i=n.directed,o=n.root,s=a,l=this,u=this.cy(),c=this.byGroup(),f=c.edges,h=c.nodes,d=h.length,v=new lr,g=!1,y=[];o=u.collection(o)[0],f.unmergeBy(function(pe){return pe.isLoop()});for(var p=f.length,m=function(se){var Ce=v.get(se.id());return Ce||(Ce={},v.set(se.id(),Ce)),Ce},E=function(se){return(Ke(se)?u.$(se):se)[0]},T=function(se){return m(E(se)).dist},L=function(se){for(var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,ke=E(se),Pe=[],Me=ke;;){if(Me==null)return r.spawn();var fe=m(Me),U=fe.edge,re=fe.pred;if(Pe.unshift(Me[0]),Me.same(Ce)&&Pe.length>0)break;U!=null&&Pe.unshift(U),Me=re}return l.spawn(Pe)},I=0;I<d;I++){var N=h[I],B=m(N);N.same(o)?B.dist=0:B.dist=1/0,B.pred=null,B.edge=null}for(var R=!1,G=function(se,Ce,ke,Pe,Me,fe){var U=Pe.dist+fe;U<Me.dist&&!ke.same(Pe.edge)&&(Me.dist=U,Me.pred=se,Me.edge=ke,R=!0)},z=1;z<d;z++){R=!1;for(var w=0;w<p;w++){var D=f[w],C=D.source(),P=D.target(),S=s(D),V=m(C),H=m(P);G(C,P,D,V,H,S),i||G(P,C,D,H,V,S)}if(!R)break}if(R)for(var _=[],K=0;K<p;K++){var Y=f[K],Q=Y.source(),ee=Y.target(),Z=s(Y),te=m(Q).dist,W=m(ee).dist;if(te+Z<W||!i&&W+Z<te)if(g||(dt("Graph contains a negative weight cycle for Bellman-Ford"),g=!0),e.findNegativeWeightCycles!==!1){var k=[];te+Z<W&&k.push(Q),!i&&W+Z<te&&k.push(ee);for(var X=k.length,J=0;J<X;J++){var ae=k[J],le=[ae];le.push(m(ae).edge);for(var De=m(ae).pred;le.indexOf(De)===-1;)le.push(De),le.push(m(De).edge),De=m(De).pred;le=le.slice(le.indexOf(De));for(var Re=le[0].id(),ie=0,xe=2;xe<le.length;xe+=2)le[xe].id()<Re&&(Re=le[xe].id(),ie=xe);le=le.slice(ie).concat(le.slice(0,ie)),le.push(le[0]);var Ne=le.map(function(pe){return pe.id()}).join(",");_.indexOf(Ne)===-1&&(y.push(l.spawn(le)),_.push(Ne))}}else break}return{distanceTo:T,pathTo:L,hasNegativeWeightCycle:g,negativeWeightCycles:y}}},mb=Math.sqrt(2),bb=function(e,r,n){n.length===0&&Tt("Karger-Stein must be run on a connected (sub)graph");for(var a=n[e],i=a[1],o=a[2],s=r[i],l=r[o],u=n,c=u.length-1;c>=0;c--){var f=u[c],h=f[1],d=f[2];(r[h]===s&&r[d]===l||r[h]===l&&r[d]===s)&&u.splice(c,1)}for(var v=0;v<u.length;v++){var g=u[v];g[1]===l?(u[v]=g.slice(),u[v][1]=s):g[2]===l&&(u[v]=g.slice(),u[v][2]=s)}for(var y=0;y<r.length;y++)r[y]===l&&(r[y]=s);return u},ao=function(e,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=bb(i,e,r),n--}return r},wb={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(H){return H.isLoop()});var i=n.length,o=a.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),l=Math.floor(i/mb);if(i<2){Tt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var u=[],c=0;c<o;c++){var f=a[c];u.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var h=1/0,d=[],v=new Array(i),g=new Array(i),y=new Array(i),p=function(_,K){for(var Y=0;Y<i;Y++)K[Y]=_[Y]},m=0;m<=s;m++){for(var E=0;E<i;E++)g[E]=E;var T=ao(g,u.slice(),i,l),L=T.slice();p(g,y);var I=ao(g,T,l,2),N=ao(y,L,l,2);I.length<=N.length&&I.length<h?(h=I.length,d=I,p(g,v)):N.length<=I.length&&N.length<h&&(h=N.length,d=N,p(y,v))}for(var B=this.spawn(d.map(function(H){return a[H[0]]})),R=this.spawn(),G=this.spawn(),z=v[0],w=0;w<v.length;w++){var D=v[w],C=n[w];D===z?R.merge(C):G.merge(C)}var P=function(_){var K=e.spawn();return _.forEach(function(Y){K.merge(Y),Y.connectedEdges().forEach(function(Q){e.contains(Q)&&!B.contains(Q)&&K.merge(Q)})}),K},S=[P(R),P(G)],V={cut:B,components:S,partition1:R,partition2:G};return V}},Eb=function(e){return{x:e.x,y:e.y}},gi=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Bf=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},xn=function(e){return{x:e[0],y:e[1]}},xb=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.min(o,a))}return a},Cb=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=-1/0,i=r;i<n;i++){var o=e[i];isFinite(o)&&(a=Math.max(o,a))}return a},Tb=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=0,i=0,o=r;o<n;o++){var s=e[o];isFinite(s)&&(a+=s,i++)}return a/i},Sb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var s=0,l=e.length-1;l>=0;l--){var u=e[l];o?isFinite(u)||(e[l]=-1/0,s++):e.splice(l,1)}i&&e.sort(function(h,d){return h-d});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+s]:(e[f-1+s]+e[f+s])/2},Lb=function(e){return Math.PI*e/180},Ua=function(e,r){return Math.atan2(r,e)-Math.PI/2},Ro=Math.log2||function(t){return Math.log(t)/Math.log(2)},Gf=function(e){return e>0?1:e<0?-1:0},en=function(e,r){return Math.sqrt(Zr(e,r))},Zr=function(e,r){var n=r.x-e.x,a=r.y-e.y;return n*n+a*a},Db=function(e){for(var r=e.length,n=0,a=0;a<r;a++)n+=e[a];for(var i=0;i<r;i++)e[i]=e[i]/n;return e},Ot=function(e,r,n,a){return(1-a)*(1-a)*e+2*(1-a)*a*r+a*a*n},Tn=function(e,r,n,a){return{x:Ot(e.x,r.x,n.x,a),y:Ot(e.y,r.y,n.y,a)}},Mb=function(e,r,n,a){var i={x:r.x-e.x,y:r.y-e.y},o=en(e,r),s={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:e.x+s.x*a,y:e.y+s.y*a}},ia=function(e,r,n){return Math.max(e,Math.min(n,r))},_t=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Ab=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},Nb=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},Ob=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},Ib=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Za=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},io=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var s=br(r,4);n=s[0],a=s[1],i=s[2],o=s[3]}return e.x1-=o,e.x2+=a,e.y1-=n,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Sc=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},ko=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Mn=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},Pb=function(e,r){return Mn(e,r.x,r.y)},zf=function(e,r){return Mn(e,r.x1,r.y1)&&Mn(e,r.x2,r.y2)},Uf=function(e,r,n,a,i,o,s){var l=ga(i,o),u=i/2,c=o/2,f;{var h=n-u+l-s,d=a-c-s,v=n+u-l+s,g=d;if(f=Rr(e,r,n,a,h,d,v,g,!1),f.length>0)return f}{var y=n+u+s,p=a-c+l-s,m=y,E=a+c-l+s;if(f=Rr(e,r,n,a,y,p,m,E,!1),f.length>0)return f}{var T=n-u+l-s,L=a+c+s,I=n+u-l+s,N=L;if(f=Rr(e,r,n,a,T,L,I,N,!1),f.length>0)return f}{var B=n-u-s,R=a-c+l-s,G=B,z=a+c-l+s;if(f=Rr(e,r,n,a,B,R,G,z,!1),f.length>0)return f}var w;{var D=n-u+l,C=a-c+l;if(w=Zn(e,r,n,a,D,C,l+s),w.length>0&&w[0]<=D&&w[1]<=C)return[w[0],w[1]]}{var P=n+u-l,S=a-c+l;if(w=Zn(e,r,n,a,P,S,l+s),w.length>0&&w[0]>=P&&w[1]<=S)return[w[0],w[1]]}{var V=n+u-l,H=a+c-l;if(w=Zn(e,r,n,a,V,H,l+s),w.length>0&&w[0]>=V&&w[1]>=H)return[w[0],w[1]]}{var _=n-u+l,K=a+c-l;if(w=Zn(e,r,n,a,_,K,l+s),w.length>0&&w[0]<=_&&w[1]>=K)return[w[0],w[1]]}return[]},Rb=function(e,r,n,a,i,o,s){var l=s,u=Math.min(n,i),c=Math.max(n,i),f=Math.min(a,o),h=Math.max(a,o);return u-l<=e&&e<=c+l&&f-l<=r&&r<=h+l},kb=function(e,r,n,a,i,o,s,l,u){var c={x1:Math.min(n,s,i)-u,x2:Math.max(n,s,i)+u,y1:Math.min(a,l,o)-u,y2:Math.max(a,l,o)+u};return!(e<c.x1||e>c.x2||r<c.y1||r>c.y2)},Fb=function(e,r,n,a){n-=a;var i=r*r-4*e*n;if(i<0)return[];var o=Math.sqrt(i),s=2*e,l=(-r+o)/s,u=(-r-o)/s;return[l,u]},Bb=function(e,r,n,a,i){var o=1e-5;e===0&&(e=o),r/=e,n/=e,a/=e;var s,l,u,c,f,h,d,v;if(l=(3*n-r*r)/9,u=-(27*a)+r*(9*n-2*(r*r)),u/=54,s=l*l*l+u*u,i[1]=0,d=r/3,s>0){f=u+Math.sqrt(s),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),h=u-Math.sqrt(s),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),i[0]=-d+f+h,d+=(f+h)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-h+f)/2,i[3]=d,i[5]=-d;return}if(i[5]=i[3]=0,s===0){v=u<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-d+2*v,i[4]=i[2]=-(v+d);return}l=-l,c=l*l*l,c=Math.acos(u/Math.sqrt(c)),v=2*Math.sqrt(l),i[0]=-d+v*Math.cos(c/3),i[2]=-d+v*Math.cos((c+2*Math.PI)/3),i[4]=-d+v*Math.cos((c+4*Math.PI)/3)},Gb=function(e,r,n,a,i,o,s,l){var u=1*n*n-4*n*i+2*n*s+4*i*i-4*i*s+s*s+a*a-4*a*o+2*a*l+4*o*o-4*o*l+l*l,c=1*9*n*i-3*n*n-3*n*s-6*i*i+3*i*s+9*a*o-3*a*a-3*a*l-6*o*o+3*o*l,f=1*3*n*n-6*n*i+n*s-n*e+2*i*i+2*i*e-s*e+3*a*a-6*a*o+a*l-a*r+2*o*o+2*o*r-l*r,h=1*n*i-n*n+n*e-i*e+a*o-a*a+a*r-o*r,d=[];Bb(u,c,f,h,d);for(var v=1e-7,g=[],y=0;y<6;y+=2)Math.abs(d[y+1])<v&&d[y]>=0&&d[y]<=1&&g.push(d[y]);g.push(1),g.push(0);for(var p=-1,m,E,T,L=0;L<g.length;L++)m=Math.pow(1-g[L],2)*n+2*(1-g[L])*g[L]*i+g[L]*g[L]*s,E=Math.pow(1-g[L],2)*a+2*(1-g[L])*g[L]*o+g[L]*g[L]*l,T=Math.pow(m-e,2)+Math.pow(E-r,2),p>=0?T<p&&(p=T):p=T;return p},zb=function(e,r,n,a,i,o){var s=[e-n,r-a],l=[i-n,o-a],u=l[0]*l[0]+l[1]*l[1],c=s[0]*s[0]+s[1]*s[1],f=s[0]*l[0]+s[1]*l[1],h=f*f/u;return f<0?c:h>u?(e-i)*(e-i)+(r-o)*(r-o):c-h},Xt=function(e,r,n){for(var a,i,o,s,l,u=0,c=0;c<n.length/2;c++)if(a=n[c*2],i=n[c*2+1],c+1<n.length/2?(o=n[(c+1)*2],s=n[(c+1)*2+1]):(o=n[(c+1-n.length/2)*2],s=n[(c+1-n.length/2)*2+1]),!(a==e&&o==e))if(a>=e&&e>=o||a<=e&&e<=o)l=(e-a)/(o-a)*(s-i)+i,l>r&&u++;else continue;return u%2!==0},Er=function(e,r,n,a,i,o,s,l,u){var c=new Array(n.length),f;l[0]!=null?(f=Math.atan(l[1]/l[0]),l[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=l;for(var h=Math.cos(-f),d=Math.sin(-f),v=0;v<c.length/2;v++)c[v*2]=o/2*(n[v*2]*h-n[v*2+1]*d),c[v*2+1]=s/2*(n[v*2+1]*h+n[v*2]*d),c[v*2]+=a,c[v*2+1]+=i;var g;if(u>0){var y=qf(c,-u);g=Vf(y)}else g=c;return Xt(e,r,g)},Ub=function(e,r,n,a,i,o,s){for(var l=new Array(n.length),u=o/2,c=s/2,f=Fo(o,s),h=f*f,d=0;d<n.length/4;d++){var v=void 0,g=void 0;d===0?v=n.length-2:v=d*4-2,g=d*4+2;var y=a+u*n[d*4],p=i+c*n[d*4+1],m=-n[v]*n[g]-n[v+1]*n[g+1],E=f/Math.tan(Math.acos(m)/2),T=y-E*n[v],L=p-E*n[v+1],I=y+E*n[g],N=p+E*n[g+1];l[d*4]=T,l[d*4+1]=L,l[d*4+2]=I,l[d*4+3]=N;var B=n[v+1],R=-n[v],G=B*n[g]+R*n[g+1];G<0&&(B*=-1,R*=-1);var z=T+B*f,w=L+R*f,D=Math.pow(z-e,2)+Math.pow(w-r,2);if(D<=h)return!0}return Xt(e,r,l)},Vf=function(e){for(var r=new Array(e.length/2),n,a,i,o,s,l,u,c,f=0;f<e.length/4;f++){n=e[f*4],a=e[f*4+1],i=e[f*4+2],o=e[f*4+3],f<e.length/4-1?(s=e[(f+1)*4],l=e[(f+1)*4+1],u=e[(f+1)*4+2],c=e[(f+1)*4+3]):(s=e[0],l=e[1],u=e[2],c=e[3]);var h=Rr(n,a,i,o,s,l,u,c,!0);r[f*2]=h[0],r[f*2+1]=h[1]}return r},qf=function(e,r){for(var n=new Array(e.length*2),a,i,o,s,l=0;l<e.length/2;l++){a=e[l*2],i=e[l*2+1],l<e.length/2-1?(o=e[(l+1)*2],s=e[(l+1)*2+1]):(o=e[0],s=e[1]);var u=s-i,c=-(o-a),f=Math.sqrt(u*u+c*c),h=u/f,d=c/f;n[l*4]=a+h*r,n[l*4+1]=i+d*r,n[l*4+2]=o+h*r,n[l*4+3]=s+d*r}return n},Vb=function(e,r,n,a,i,o){var s=n-e,l=a-r;s/=i,l/=o;var u=Math.sqrt(s*s+l*l),c=u-1;if(c<0)return[];var f=c/u;return[(n-e)*f+e,(a-r)*f+r]},Jr=function(e,r,n,a,i,o,s){return e-=i,r-=o,e/=n/2+s,r/=a/2+s,e*e+r*r<=1},Zn=function(e,r,n,a,i,o,s){var l=[n-e,a-r],u=[e-i,r-o],c=l[0]*l[0]+l[1]*l[1],f=2*(u[0]*l[0]+u[1]*l[1]),h=u[0]*u[0]+u[1]*u[1]-s*s,d=f*f-4*c*h;if(d<0)return[];var v=(-f+Math.sqrt(d))/(2*c),g=(-f-Math.sqrt(d))/(2*c),y=Math.min(v,g),p=Math.max(v,g),m=[];if(y>=0&&y<=1&&m.push(y),p>=0&&p<=1&&m.push(p),m.length===0)return[];var E=m[0]*l[0]+e,T=m[0]*l[1]+r;if(m.length>1){if(m[0]==m[1])return[E,T];var L=m[1]*l[0]+e,I=m[1]*l[1]+r;return[E,T,L,I]}else return[E,T]},oo=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Rr=function(e,r,n,a,i,o,s,l,u){var c=e-i,f=n-e,h=s-i,d=r-o,v=a-r,g=l-o,y=h*d-g*c,p=f*d-v*c,m=g*f-h*v;if(m!==0){var E=y/m,T=p/m,L=.001,I=0-L,N=1+L;return I<=E&&E<=N&&I<=T&&T<=N?[e+E*f,r+E*v]:u?[e+E*f,r+E*v]:[]}else return y===0||p===0?oo(e,n,s)===s?[s,l]:oo(e,n,i)===i?[i,o]:oo(i,s,n)===n?[n,a]:[]:[]},oa=function(e,r,n,a,i,o,s,l){var u=[],c,f=new Array(n.length),h=!0;o==null&&(h=!1);var d;if(h){for(var v=0;v<f.length/2;v++)f[v*2]=n[v*2]*o+a,f[v*2+1]=n[v*2+1]*s+i;if(l>0){var g=qf(f,-l);d=Vf(g)}else d=f}else d=n;for(var y,p,m,E,T=0;T<d.length/2;T++)y=d[T*2],p=d[T*2+1],T<d.length/2-1?(m=d[(T+1)*2],E=d[(T+1)*2+1]):(m=d[0],E=d[1]),c=Rr(e,r,a,i,y,p,m,E),c.length!==0&&u.push(c[0],c[1]);return u},qb=function(e,r,n,a,i,o,s,l){for(var u=[],c,f=new Array(n.length),h=o/2,d=s/2,v=Fo(o,s),g=0;g<n.length/4;g++){var y=void 0,p=void 0;g===0?y=n.length-2:y=g*4-2,p=g*4+2;var m=a+h*n[g*4],E=i+d*n[g*4+1],T=-n[y]*n[p]-n[y+1]*n[p+1],L=v/Math.tan(Math.acos(T)/2),I=m-L*n[y],N=E-L*n[y+1],B=m+L*n[p],R=E+L*n[p+1];g===0?(f[n.length-2]=I,f[n.length-1]=N):(f[g*4-2]=I,f[g*4-1]=N),f[g*4]=B,f[g*4+1]=R;var G=n[y+1],z=-n[y],w=G*n[p]+z*n[p+1];w<0&&(G*=-1,z*=-1);var D=I+G*v,C=N+z*v;c=Zn(e,r,a,i,D,C,v),c.length!==0&&u.push(c[0],c[1])}for(var P=0;P<f.length/4;P++)c=Rr(e,r,a,i,f[P*4],f[P*4+1],f[P*4+2],f[P*4+3],!1),c.length!==0&&u.push(c[0],c[1]);if(u.length>2){for(var S=[u[0],u[1]],V=Math.pow(S[0]-e,2)+Math.pow(S[1]-r,2),H=1;H<u.length/2;H++){var _=Math.pow(u[H*2]-e,2)+Math.pow(u[H*2+1]-r,2);_<=V&&(S[0]=u[H*2],S[1]=u[H*2+1],V=_)}return S}return u},Va=function(e,r,n){var a=[e[0]-r[0],e[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},qt=function(e,r){var n=go(e,r);return n=Hf(n),n},Hf=function(e){for(var r,n,a=e.length/2,i=1/0,o=1/0,s=-1/0,l=-1/0,u=0;u<a;u++)r=e[2*u],n=e[2*u+1],i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);for(var c=2/(s-i),f=2/(l-o),h=0;h<a;h++)r=e[2*h]=e[2*h]*c,n=e[2*h+1]=e[2*h+1]*f,i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),l=Math.max(l,n);if(o<-1)for(var d=0;d<a;d++)n=e[2*d+1]=e[2*d+1]+(-1-o);return e},go=function(e,r){var n=1/e*2*Math.PI,a=e%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(e*2),o,s=0;s<e;s++)o=s*n+a,i[2*s]=Math.cos(o),i[2*s+1]=Math.sin(-o);return i},ga=function(e,r){return Math.min(e/4,r/4,8)},Fo=function(e,r){return Math.min(e/10,r/10,8)},Yf=function(){return 8},Hb=function(e,r,n){return[e-2*r+n,2*(r-e),e]},po=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Yb=kt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Wb={pageRank:function(e){for(var r=Yb(e),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,s=this._private.cy,l=this.byGroup(),u=l.nodes,c=l.edges,f=u.length,h=f*f,d=c.length,v=new Array(h),g=new Array(f),y=(1-n)/f,p=0;p<f;p++){for(var m=0;m<f;m++){var E=p*f+m;v[E]=0}g[p]=0}for(var T=0;T<d;T++){var L=c[T],I=L.data("source"),N=L.data("target");if(I!==N){var B=u.indexOfId(I),R=u.indexOfId(N),G=o(L),z=R*f+B;v[z]+=G,g[B]+=G}}for(var w=1/f+y,D=0;D<f;D++)if(g[D]===0)for(var C=0;C<f;C++){var P=C*f+D;v[P]=w}else for(var S=0;S<f;S++){var V=S*f+D;v[V]=v[V]/g[D]+y}for(var H=new Array(f),_=new Array(f),K,Y=0;Y<f;Y++)H[Y]=1;for(var Q=0;Q<i;Q++){for(var ee=0;ee<f;ee++)_[ee]=0;for(var Z=0;Z<f;Z++)for(var te=0;te<f;te++){var W=Z*f+te;_[Z]+=v[W]*H[te]}Db(_),K=H,H=_,_=K;for(var k=0,X=0;X<f;X++){var J=K[X]-H[X];k+=J*J}if(k<a)break}var ae={rank:function(De){return De=s.collection(De)[0],H[u.indexOf(De)]}};return ae}},Lc=kt({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Sn={degreeCentralityNormalized:function(e){e=Lc(e);var r=this.cy(),n=this.nodes(),a=n.length;if(e.directed){for(var c={},f={},h=0,d=0,v=0;v<a;v++){var g=n[v],y=g.id();e.root=g;var p=this.degreeCentrality(e);h<p.indegree&&(h=p.indegree),d<p.outdegree&&(d=p.outdegree),c[y]=p.indegree,f[y]=p.outdegree}return{indegree:function(E){return h==0?0:(Ke(E)&&(E=r.filter(E)),c[E.id()]/h)},outdegree:function(E){return d===0?0:(Ke(E)&&(E=r.filter(E)),f[E.id()]/d)}}}else{for(var i={},o=0,s=0;s<a;s++){var l=n[s];e.root=l;var u=this.degreeCentrality(e);o<u.degree&&(o=u.degree),i[l.id()]=u.degree}return{degree:function(E){return o===0?0:(Ke(E)&&(E=r.filter(E)),i[E.id()]/o)}}}},degreeCentrality:function(e){e=Lc(e);var r=this.cy(),n=this,a=e,i=a.root,o=a.weight,s=a.directed,l=a.alpha;if(i=r.collection(i)[0],s){for(var d=i.connectedEdges(),v=d.filter(function(I){return I.target().same(i)&&n.has(I)}),g=d.filter(function(I){return I.source().same(i)&&n.has(I)}),y=v.length,p=g.length,m=0,E=0,T=0;T<v.length;T++)m+=o(v[T]);for(var L=0;L<g.length;L++)E+=o(g[L]);return{indegree:Math.pow(y,1-l)*Math.pow(m,l),outdegree:Math.pow(p,1-l)*Math.pow(E,l)}}else{for(var u=i.connectedEdges().intersection(n),c=u.length,f=0,h=0;h<u.length;h++)f+=o(u[h]);return{degree:Math.pow(c,1-l)*Math.pow(f,l)}}}};Sn.dc=Sn.degreeCentrality;Sn.dcn=Sn.degreeCentralityNormalised=Sn.degreeCentralityNormalized;var Dc=kt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Ln={closenessCentralityNormalized:function(e){for(var r=Dc(e),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),s={},l=0,u=this.nodes(),c=this.floydWarshall({weight:a,directed:i}),f=0;f<u.length;f++){for(var h=0,d=u[f],v=0;v<u.length;v++)if(f!==v){var g=c.distance(d,u[v]);n?h+=1/g:h+=g}n||(h=1/h),l<h&&(l=h),s[d.id()]=h}return{closeness:function(p){return l==0?0:(Ke(p)?p=o.filter(p)[0].id():p=p.id(),s[p]/l)}}},closenessCentrality:function(e){var r=Dc(e),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:a,directed:i}),l=0,u=this.nodes(),c=0;c<u.length;c++){var f=u[c];if(!f.same(n)){var h=s.distanceTo(f);o?l+=1/h:l+=h}}return o?l:1/l}};Ln.cc=Ln.closenessCentrality;Ln.ccn=Ln.closenessCentralityNormalised=Ln.closenessCentralityNormalized;var Xb=kt({weight:null,directed:!1}),yo={betweennessCentrality:function(e){for(var r=Xb(e),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),s=this.nodes(),l={},u={},c=0,f={set:function(E,T){u[E]=T,T>c&&(c=T)},get:function(E){return u[E]}},h=0;h<s.length;h++){var d=s[h],v=d.id();n?l[v]=d.outgoers().nodes():l[v]=d.openNeighborhood().nodes(),f.set(v,0)}for(var g=function(E){for(var T=s[E].id(),L=[],I={},N={},B={},R=new ha.default(function(te,W){return B[te]-B[W]}),G=0;G<s.length;G++){var z=s[G].id();I[z]=[],N[z]=0,B[z]=1/0}for(N[T]=1,B[T]=0,R.push(T);!R.empty();){var w=R.pop();if(L.push(w),i)for(var D=0;D<l[w].length;D++){var C=l[w][D],P=o.getElementById(w),S=void 0;P.edgesTo(C).length>0?S=P.edgesTo(C)[0]:S=C.edgesTo(P)[0];var V=a(S);C=C.id(),B[C]>B[w]+V&&(B[C]=B[w]+V,R.nodes.indexOf(C)<0?R.push(C):R.updateItem(C),N[C]=0,I[C]=[]),B[C]==B[w]+V&&(N[C]=N[C]+N[w],I[C].push(w))}else for(var H=0;H<l[w].length;H++){var _=l[w][H].id();B[_]==1/0&&(R.push(_),B[_]=B[w]+1),B[_]==B[w]+1&&(N[_]=N[_]+N[w],I[_].push(w))}}for(var K={},Y=0;Y<s.length;Y++)K[s[Y].id()]=0;for(;L.length>0;){for(var Q=L.pop(),ee=0;ee<I[Q].length;ee++){var Z=I[Q][ee];K[Z]=K[Z]+N[Z]/N[Q]*(1+K[Q])}Q!=s[E].id()&&f.set(Q,f.get(Q)+K[Q])}},y=0;y<s.length;y++)g(y);var p={betweenness:function(E){var T=o.collection(E).id();return f.get(T)},betweennessNormalized:function(E){if(c==0)return 0;var T=o.collection(E).id();return f.get(T)/c}};return p.betweennessNormalised=p.betweennessNormalized,p}};yo.bc=yo.betweennessCentrality;var _b=kt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),$b=function(e){return _b(e)},Kb=function(e,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](e);return n},Zb=function(e,r,n){for(var a=0;a<r;a++)e[a*r+a]=n},Wf=function(e,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=e[i*r+a];for(var o=0;o<r;o++)e[o*r+a]=e[o*r+a]/n}},Qb=function(e,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var s=0;s<n;s++)for(var l=0;l<n;l++)a[i*n+l]+=e[i*n+s]*r[s*n+l]}return a},Jb=function(e,r,n){for(var a=e.slice(0),i=1;i<n;i++)e=Qb(e,a,r);return e},jb=function(e,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(e[i],n);return Wf(a,r),a},ew=function(e,r,n,a){for(var i=0;i<n;i++){var o=Math.round(e[i]*Math.pow(10,a))/Math.pow(10,a),s=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==s)return!1}return!0},tw=function(e,r,n,a){for(var i=[],o=0;o<r;o++){for(var s=[],l=0;l<r;l++)Math.round(e[o*r+l]*1e3)/1e3>0&&s.push(n[l]);s.length!==0&&i.push(a.collection(s))}return i},rw=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},nw=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&rw(e[r],e[n])&&e.splice(n,1);return e},Mc=function(e){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=$b(e),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var l=r.length,u=l*l,c=new Array(u),f,h=0;h<u;h++)c[h]=0;for(var d=0;d<n.length;d++){var v=n[d],g=o[v.source().id()],y=o[v.target().id()],p=Kb(v,i.attributes);c[g*l+y]+=p,c[y*l+g]+=p}Zb(c,l,i.multFactor),Wf(c,l);for(var m=!0,E=0;m&&E<i.maxIterations;)m=!1,f=Jb(c,l,i.expandFactor),c=jb(f,l,i.inflateFactor),ew(c,f,u,4)||(m=!0),E++;var T=tw(c,l,r,a);return T=nw(T),T},aw={markovClustering:Mc,mcl:Mc},iw=function(e){return e},Xf=function(e,r){return Math.abs(r-e)},Ac=function(e,r,n){return e+Xf(r,n)},Nc=function(e,r,n){return e+Math.pow(n-r,2)},ow=function(e){return Math.sqrt(e)},sw=function(e,r,n){return Math.max(e,Xf(r,n))},Wn=function(e,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:iw,s=a,l,u,c=0;c<e;c++)l=r(c),u=n(c),s=i(s,l,u);return o(s)},An={euclidean:function(e,r,n){return e>=2?Wn(e,r,n,0,Nc,ow):Wn(e,r,n,0,Ac)},squaredEuclidean:function(e,r,n){return Wn(e,r,n,0,Nc)},manhattan:function(e,r,n){return Wn(e,r,n,0,Ac)},max:function(e,r,n){return Wn(e,r,n,-1/0,sw)}};An["squared-euclidean"]=An.squaredEuclidean;An.squaredeuclidean=An.squaredEuclidean;function pi(t,e,r,n,a,i){var o;return Ct(t)?o=t:o=An[t]||An.euclidean,e===0&&Ct(t)?o(a,i):o(e,r,n,a,i)}var uw=kt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Bo=function(e){return uw(e)},oi=function(e,r,n,a,i){var o=i!=="kMedoids",s=o?function(f){return n[f]}:function(f){return a[f](n)},l=function(h){return a[h](r)},u=n,c=r;return pi(e,a.length,s,l,u,c)},so=function(e,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),s=new Array(r),l=null,u=0;u<a;u++)i[u]=e.min(n[u]).value,o[u]=e.max(n[u]).value;for(var c=0;c<r;c++){l=[];for(var f=0;f<a;f++)l[f]=Math.random()*(o[f]-i[f])+i[f];s[c]=l}return s},_f=function(e,r,n,a,i){for(var o=1/0,s=0,l=0;l<r.length;l++){var u=oi(n,e,r[l],a,i);u<o&&(o=u,s=l)}return s},$f=function(e,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===e&&a.push(i);return a},lw=function(e,r,n){return Math.abs(r-e)<=n},cw=function(e,r,n){for(var a=0;a<e.length;a++)for(var i=0;i<e[a].length;i++){var o=Math.abs(e[a][i]-r[a][i]);if(o>n)return!1}return!0},fw=function(e,r,n){for(var a=0;a<n;a++)if(e===r[a])return!0;return!1},Oc=function(e,r){var n=new Array(r);if(e.length<50)for(var a=0;a<r;a++){for(var i=e[Math.floor(Math.random()*e.length)];fw(i,n,a);)i=e[Math.floor(Math.random()*e.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},Ic=function(e,r,n){for(var a=0,i=0;i<r.length;i++)a+=oi("manhattan",r[i],e,n,"kMedoids");return a},hw=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Bo(e),o=new Array(i.k),s={},l;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,l=so(n,i.k,i.attributes)):Mt(i.testCentroids)==="object"?l=i.testCentroids:l=so(n,i.k,i.attributes):l=so(n,i.k,i.attributes);for(var u=!0,c=0;u&&c<i.maxIterations;){for(var f=0;f<n.length;f++)a=n[f],s[a.id()]=_f(a,l,i.distance,i.attributes,"kMeans");u=!1;for(var h=0;h<i.k;h++){var d=$f(h,n,s);if(d.length!==0){for(var v=i.attributes.length,g=l[h],y=new Array(v),p=new Array(v),m=0;m<v;m++){p[m]=0;for(var E=0;E<d.length;E++)a=d[E],p[m]+=i.attributes[m](a);y[m]=p[m]/d.length,lw(y[m],g[m],i.sensitivityThreshold)||(u=!0)}l[h]=y,o[h]=r.collection(d)}}c++}return o},dw=function(e){var r=this.cy(),n=this.nodes(),a=null,i=Bo(e),o=new Array(i.k),s,l={},u,c=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(Mt(i.testCentroids)==="object"?s=i.testCentroids:s=Oc(n,i.k)):s=Oc(n,i.k);for(var f=!0,h=0;f&&h<i.maxIterations;){for(var d=0;d<n.length;d++)a=n[d],l[a.id()]=_f(a,s,i.distance,i.attributes,"kMedoids");f=!1;for(var v=0;v<s.length;v++){var g=$f(v,n,l);if(g.length!==0){c[v]=Ic(s[v],g,i.attributes);for(var y=0;y<g.length;y++)u=Ic(g[y],g,i.attributes),u<c[v]&&(c[v]=u,s[v]=g[y],f=!0);o[v]=r.collection(g)}}h++}return o},vw=function(e,r,n,a,i){for(var o,s,l=0;l<r.length;l++)for(var u=0;u<e.length;u++)a[l][u]=Math.pow(n[l][u],i.m);for(var c=0;c<e.length;c++)for(var f=0;f<i.attributes.length;f++){o=0,s=0;for(var h=0;h<r.length;h++)o+=a[h][c]*i.attributes[f](r[h]),s+=a[h][c];e[c][f]=o/s}},gw=function(e,r,n,a,i){for(var o=0;o<e.length;o++)r[o]=e[o].slice();for(var s,l,u,c=2/(i.m-1),f=0;f<n.length;f++)for(var h=0;h<a.length;h++){s=0;for(var d=0;d<n.length;d++)l=oi(i.distance,a[h],n[f],i.attributes,"cmeans"),u=oi(i.distance,a[h],n[d],i.attributes,"cmeans"),s+=Math.pow(l/u,c);e[h][f]=1/s}},pw=function(e,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var s,l,u=0;u<r.length;u++){s=-1/0,l=-1;for(var c=0;c<r[0].length;c++)r[u][c]>s&&(s=r[u][c],l=c);i[l].push(e[u])}for(var f=0;f<i.length;f++)i[f]=a.collection(i[f]);return i},Pc=function(e){var r=this.cy(),n=this.nodes(),a=Bo(e),i,o,s,l,u;l=new Array(n.length);for(var c=0;c<n.length;c++)l[c]=new Array(a.k);s=new Array(n.length);for(var f=0;f<n.length;f++)s[f]=new Array(a.k);for(var h=0;h<n.length;h++){for(var d=0,v=0;v<a.k;v++)s[h][v]=Math.random(),d+=s[h][v];for(var g=0;g<a.k;g++)s[h][g]=s[h][g]/d}o=new Array(a.k);for(var y=0;y<a.k;y++)o[y]=new Array(a.attributes.length);u=new Array(n.length);for(var p=0;p<n.length;p++)u[p]=new Array(a.k);for(var m=!0,E=0;m&&E<a.maxIterations;)m=!1,vw(o,n,s,u,a),gw(s,l,o,n,a),cw(s,l,a.sensitivityThreshold)||(m=!0),E++;return i=pw(n,s,a,r),{clusters:i,degreeOfMembership:s}},yw={kMeans:hw,kMedoids:dw,fuzzyCMeans:Pc,fcm:Pc},mw=kt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),bw={single:"min",complete:"max"},ww=function(e){var r=mw(e),n=bw[r.linkage];return n!=null&&(r.linkage=n),r},Rc=function(e,r,n,a,i){for(var o=0,s=1/0,l,u=i.attributes,c=function(R,G){return pi(i.distance,u.length,function(z){return u[z](R)},function(z){return u[z](G)},R,G)},f=0;f<e.length;f++){var h=e[f].key,d=n[h][a[h]];d<s&&(o=h,s=d)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&e.length===1)return!1;var v=r[o],g=r[a[o]],y;i.mode==="dendrogram"?y={left:v,right:g,key:v.key}:y={value:v.value.concat(g.value),key:v.key},e[v.index]=y,e.splice(g.index,1),r[v.key]=y;for(var p=0;p<e.length;p++){var m=e[p];v.key===m.key?l=1/0:i.linkage==="min"?(l=n[v.key][m.key],n[v.key][m.key]>n[g.key][m.key]&&(l=n[g.key][m.key])):i.linkage==="max"?(l=n[v.key][m.key],n[v.key][m.key]<n[g.key][m.key]&&(l=n[g.key][m.key])):i.linkage==="mean"?l=(n[v.key][m.key]*v.size+n[g.key][m.key]*g.size)/(v.size+g.size):i.mode==="dendrogram"?l=c(m.value,v.value):l=c(m.value[0],v.value[0]),n[v.key][m.key]=n[m.key][v.key]=l}for(var E=0;E<e.length;E++){var T=e[E].key;if(a[T]===v.key||a[T]===g.key){for(var L=T,I=0;I<e.length;I++){var N=e[I].key;n[T][N]<n[T][L]&&(L=N)}a[T]=L}e[E].index=E}return v.key=g.key=v.index=g.index=null,!0},qa=function t(e,r,n){e&&(e.value?r.push(e.value):(e.left&&t(e.left,r),e.right&&t(e.right,r)))},Ew=function t(e,r){if(!e)return"";if(e.left&&e.right){var n=t(e.left,r),a=t(e.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(e.value)return e.value.id()},xw=function t(e,r,n){if(!e)return[];var a=[],i=[],o=[];return r===0?(e.left&&qa(e.left,a),e.right&&qa(e.right,i),o=a.concat(i),[n.collection(o)]):r===1?e.value?[n.collection(e.value)]:(e.left&&qa(e.left,a),e.right&&qa(e.right,i),[n.collection(a),n.collection(i)]):e.value?[n.collection(e.value)]:(e.left&&(a=t(e.left,r-1,n)),e.right&&(i=t(e.right,r-1,n)),a.concat(i))},kc=function(e){for(var r=this.cy(),n=this.nodes(),a=ww(e),i=a.attributes,o=function(E,T){return pi(a.distance,i.length,function(L){return i[L](E)},function(L){return i[L](T)},E,T)},s=[],l=[],u=[],c=[],f=0;f<n.length;f++){var h={value:a.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};s[f]=h,c[f]=h,l[f]=[],u[f]=0}for(var d=0;d<s.length;d++)for(var v=0;v<=d;v++){var g=void 0;a.mode==="dendrogram"?g=d===v?1/0:o(s[d].value,s[v].value):g=d===v?1/0:o(s[d].value[0],s[v].value[0]),l[d][v]=g,l[v][d]=g,g<l[d][u[d]]&&(u[d]=v)}for(var y=Rc(s,c,l,u,a);y;)y=Rc(s,c,l,u,a);var p;return a.mode==="dendrogram"?(p=xw(s[0],a.dendrogramDepth,r),a.addDendrogram&&Ew(s[0],r)):(p=new Array(s.length),s.forEach(function(m,E){m.key=m.index=null,p[E]=r.collection(m.value)})),p},Cw={hierarchicalClustering:kc,hca:kc},Tw=kt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),Sw=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||Tt("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||Ie(n)||Tt("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),Tw(e)},Lw=function(e,r,n,a){var i=function(s,l){return a[l](s)};return-pi(e,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},Dw=function(e,r){var n=null;return r==="median"?n=Sb(e):r==="mean"?n=Tb(e):r==="min"?n=xb(e):r==="max"?n=Cb(e):n=r,n},Mw=function(e,r,n){for(var a=[],i=0;i<e;i++)r[i*e+i]+n[i*e+i]>0&&a.push(i);return a},Fc=function(e,r,n){for(var a=[],i=0;i<e;i++){for(var o=-1,s=-1/0,l=0;l<n.length;l++){var u=n[l];r[i*e+u]>s&&(o=u,s=r[i*e+u])}o>0&&a.push(o)}for(var c=0;c<n.length;c++)a[n[c]]=n[c];return a},Aw=function(e,r,n){for(var a=Fc(e,r,n),i=0;i<n.length;i++){for(var o=[],s=0;s<a.length;s++)a[s]===n[i]&&o.push(s);for(var l=-1,u=-1/0,c=0;c<o.length;c++){for(var f=0,h=0;h<o.length;h++)f+=r[o[h]*e+o[c]];f>u&&(l=c,u=f)}n[i]=o[l]}return a=Fc(e,r,n),a},Bc=function(e){for(var r=this.cy(),n=this.nodes(),a=Sw(e),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var s,l,u,c,f,h;s=n.length,l=s*s,u=new Array(l);for(var d=0;d<l;d++)u[d]=-1/0;for(var v=0;v<s;v++)for(var g=0;g<s;g++)v!==g&&(u[v*s+g]=Lw(a.distance,n[v],n[g],a.attributes));c=Dw(u,a.preference);for(var y=0;y<s;y++)u[y*s+y]=c;f=new Array(l);for(var p=0;p<l;p++)f[p]=0;h=new Array(l);for(var m=0;m<l;m++)h[m]=0;for(var E=new Array(s),T=new Array(s),L=new Array(s),I=0;I<s;I++)E[I]=0,T[I]=0,L[I]=0;for(var N=new Array(s*a.minIterations),B=0;B<N.length;B++)N[B]=0;var R;for(R=0;R<a.maxIterations;R++){for(var G=0;G<s;G++){for(var z=-1/0,w=-1/0,D=-1,C=0,P=0;P<s;P++)E[P]=f[G*s+P],C=h[G*s+P]+u[G*s+P],C>=z?(w=z,z=C,D=P):C>w&&(w=C);for(var S=0;S<s;S++)f[G*s+S]=(1-a.damping)*(u[G*s+S]-z)+a.damping*E[S];f[G*s+D]=(1-a.damping)*(u[G*s+D]-w)+a.damping*E[D]}for(var V=0;V<s;V++){for(var H=0,_=0;_<s;_++)E[_]=h[_*s+V],T[_]=Math.max(0,f[_*s+V]),H+=T[_];H-=T[V],T[V]=f[V*s+V],H+=T[V];for(var K=0;K<s;K++)h[K*s+V]=(1-a.damping)*Math.min(0,H-T[K])+a.damping*E[K];h[V*s+V]=(1-a.damping)*(H-T[V])+a.damping*E[V]}for(var Y=0,Q=0;Q<s;Q++){var ee=h[Q*s+Q]+f[Q*s+Q]>0?1:0;N[R%a.minIterations*s+Q]=ee,Y+=ee}if(Y>0&&(R>=a.minIterations-1||R==a.maxIterations-1)){for(var Z=0,te=0;te<s;te++){L[te]=0;for(var W=0;W<a.minIterations;W++)L[te]+=N[W*s+te];(L[te]===0||L[te]===a.minIterations)&&Z++}if(Z===s)break}}for(var k=Mw(s,f,h),X=Aw(s,u,k),J={},ae=0;ae<k.length;ae++)J[k[ae]]=[];for(var le=0;le<n.length;le++){var De=i[n[le].id()],Re=X[De];Re!=null&&J[Re].push(n[le])}for(var ie=new Array(k.length),xe=0;xe<k.length;xe++)ie[xe]=r.collection(J[k[xe]]);return ie},Nw={affinityPropagation:Bc,ap:Bc},Ow=kt({root:void 0,directed:!1}),Iw={hierholzer:function(e){if(!ot(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=Ow(e),a=n.root,i=n.directed,o=this,s=!1,l,u,c;a&&(c=Ke(a)?this.filter(a)[0].id():a[0].id());var f={},h={};i?o.forEach(function(m){var E=m.id();if(m.isNode()){var T=m.indegree(!0),L=m.outdegree(!0),I=T-L,N=L-T;I==1?l?s=!0:l=E:N==1?u?s=!0:u=E:(N>1||I>1)&&(s=!0),f[E]=[],m.outgoers().forEach(function(B){B.isEdge()&&f[E].push(B.id())})}else h[E]=[void 0,m.target().id()]}):o.forEach(function(m){var E=m.id();if(m.isNode()){var T=m.degree(!0);T%2&&(l?u?s=!0:u=E:l=E),f[E]=[],m.connectedEdges().forEach(function(L){return f[E].push(L.id())})}else h[E]=[m.source().id(),m.target().id()]});var d={found:!1,trail:void 0};if(s)return d;if(u&&l)if(i){if(c&&u!=c)return d;c=u}else{if(c&&u!=c&&l!=c)return d;c||(c=u)}else c||(c=o[0].id());var v=function(E){for(var T=E,L=[E],I,N,B;f[T].length;)I=f[T].shift(),N=h[I][0],B=h[I][1],T!=B?(f[B]=f[B].filter(function(R){return R!=I}),T=B):!i&&T!=N&&(f[N]=f[N].filter(function(R){return R!=I}),T=N),L.unshift(I),L.unshift(T);return L},g=[],y=[];for(y=v(c);y.length!=1;)f[y[0]].length==0?(g.unshift(o.getElementById(y.shift())),g.unshift(o.getElementById(y.shift()))):y=v(y.shift()).concat(y);g.unshift(o.getElementById(y.shift()));for(var p in f)if(f[p].length)return d;return d.found=!0,d.trail=this.spawn(g,!0),d}},Ha=function(){var e=this,r={},n=0,a=0,i=[],o=[],s={},l=function(h,d){for(var v=o.length-1,g=[],y=e.spawn();o[v].x!=h||o[v].y!=d;)g.push(o.pop().edge),v--;g.push(o.pop().edge),g.forEach(function(p){var m=p.connectedNodes().intersection(e);y.merge(p),m.forEach(function(E){var T=E.id(),L=E.connectedEdges().intersection(e);y.merge(E),r[T].cutVertex?y.merge(L.filter(function(I){return I.isLoop()})):y.merge(L)})}),i.push(y)},u=function f(h,d,v){h===v&&(a+=1),r[d]={id:n,low:n++,cutVertex:!1};var g=e.getElementById(d).connectedEdges().intersection(e);if(g.size()===0)i.push(e.spawn(e.getElementById(d)));else{var y,p,m,E;g.forEach(function(T){y=T.source().id(),p=T.target().id(),m=y===d?p:y,m!==v&&(E=T.id(),s[E]||(s[E]=!0,o.push({x:d,y:m,edge:T})),m in r?r[d].low=Math.min(r[d].low,r[m].id):(f(h,m,d),r[d].low=Math.min(r[d].low,r[m].low),r[d].id<=r[m].low&&(r[d].cutVertex=!0,l(d,m))))})}};e.forEach(function(f){if(f.isNode()){var h=f.id();h in r||(a=0,u(h,h),r[h].cutVertex=a>1)}});var c=Object.keys(r).filter(function(f){return r[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:i}},Pw={hopcroftTarjanBiconnected:Ha,htbc:Ha,htb:Ha,hopcroftTarjanBiconnectedComponents:Ha},Ya=function(){var e=this,r={},n=0,a=[],i=[],o=e.spawn(e),s=function l(u){i.push(u),r[u]={index:n,low:n++,explored:!1};var c=e.getElementById(u).connectedEdges().intersection(e);if(c.forEach(function(g){var y=g.target().id();y!==u&&(y in r||l(y),r[y].explored||(r[u].low=Math.min(r[u].low,r[y].low)))}),r[u].index===r[u].low){for(var f=e.spawn();;){var h=i.pop();if(f.merge(e.getElementById(h)),r[h].low=r[u].index,r[h].explored=!0,h===u)break}var d=f.edgesWith(f),v=f.merge(d);a.push(v),o=o.difference(v)}};return e.forEach(function(l){if(l.isNode()){var u=l.id();u in r||s(u)}}),{cut:o,components:a}},Rw={tarjanStronglyConnected:Ya,tsc:Ya,tscc:Ya,tarjanStronglyConnectedComponents:Ya},Kf={};[aa,cb,fb,db,gb,yb,wb,Wb,Sn,Ln,yo,aw,yw,Cw,Nw,Iw,Pw,Rw].forEach(function(t){Je(Kf,t)});var Zf=0,Qf=1,Jf=2,xr=function t(e){if(!(this instanceof t))return new t(e);this.id="Thenable/1.0.7",this.state=Zf,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};xr.prototype={fulfill:function(e){return Gc(this,Qf,"fulfillValue",e)},reject:function(e){return Gc(this,Jf,"rejectReason",e)},then:function(e,r){var n=this,a=new xr;return n.onFulfilled.push(Uc(e,a,"fulfill")),n.onRejected.push(Uc(r,a,"reject")),jf(n),a.proxy}};var Gc=function(e,r,n,a){return e.state===Zf&&(e.state=r,e[n]=a,jf(e)),e},jf=function(e){e.state===Qf?zc(e,"onFulfilled",e.fulfillValue):e.state===Jf&&zc(e,"onRejected",e.rejectReason)},zc=function(e,r,n){if(e[r].length!==0){var a=e[r];e[r]=[];var i=function(){for(var s=0;s<a.length;s++)a[s](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},Uc=function(e,r,n){return function(a){if(typeof e!="function")r[n].call(r,a);else{var i;try{i=e(a)}catch(o){r.reject(o);return}kw(r,i)}}},kw=function t(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Mt(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){e.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?e.reject(new TypeError("circular thenable chain")):t(e,i))},function(i){a||(a=!0,e.reject(i))})}catch(i){a||e.reject(i)}return}e.fulfill(r)};xr.all=function(t){return new xr(function(e,r){for(var n=new Array(t.length),a=0,i=function(l,u){n[l]=u,a++,a===t.length&&e(n)},o=0;o<t.length;o++)(function(s){var l=t[s],u=l!=null&&l.then!=null;if(u)l.then(function(f){i(s,f)},function(f){r(f)});else{var c=l;i(s,c)}})(o)})};xr.resolve=function(t){return new xr(function(e,r){e(t)})};xr.reject=function(t){return new xr(function(e,r){r(t)})};var In=typeof Promise<"u"?Promise:xr,mo=function(e,r,n){var a=Ao(e),i=!a,o=this._private=Je({duration:1e3},r,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&Ct(o.complete)&&o.completes.push(o.complete),i){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(a){var l=e.pan();o.startPan={x:l.x,y:l.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},tn=mo.prototype;Je(tn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Zt(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(u,c){var f=e[u];f!=null&&(e[u]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var a=0;a<e.style.length;a++){var i=e.style[a],o=i.name,s=e.startStyle[o];e.startStyle[o]=i,e.style[a]=s}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new In(function(a,i){n.push(function(){a()})})}});tn.complete=tn.completed;tn.run=tn.play;tn.running=tn.playing;var Fw={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var s=a[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this,l=!i,u=!l;if(!s.styleEnabled())return this;var c=s.style();r=Je({},r,n);var f=Object.keys(r).length===0;if(f)return new mo(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(u&&(r.style=c.getPropsList(r.style||r.css),r.css=void 0),u&&r.renderedPosition!=null){var h=r.renderedPosition,d=s.pan(),v=s.zoom();r.position=Bf(h,v,d)}if(l&&r.panBy!=null){var g=r.panBy,y=s.pan();r.pan={x:y.x+g.x,y:y.y+g.y}}var p=r.center||r.centre;if(l&&p!=null){var m=s.getCenterPan(p.eles,r.zoom);m!=null&&(r.pan=m)}if(l&&r.fit!=null){var E=r.fit,T=s.getFitViewport(E.eles||E.boundingBox,E.padding);T!=null&&(r.pan=T.pan,r.zoom=T.zoom)}if(l&&ot(r.zoom)){var L=s.getZoomedViewport(r.zoom);L!=null?(L.zoomed&&(r.zoom=L.zoom),L.panned&&(r.pan=L.pan)):r.zoom=null}return new mo(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=Je({},r,n));for(var l=0;l<o.length;l++){var u=o[l],c=u.animated()&&(r.queue===void 0||r.queue),f=u.animation(r,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var l=0;l<o.length;l++){for(var u=o[l],c=u._private,f=c.animation.current,h=0;h<f.length;h++){var d=f[h],v=d._private;n&&(v.duration=0)}r&&(c.animation.queue=[]),n||(c.animation.current=[])}return s.notify("draw"),this}}},Bw={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return e=Je({},r,e),function(a,i){var o=e,s=this,l=s.length!==void 0,u=l?s:[s],c=l?s[0]:s;if(Ke(a)){var f=a.indexOf(".")!==-1,h=f&&x0.default(a);if(o.allowGetting&&i===void 0){var d;return c&&(o.beforeGet(c),h&&c._private[o.field][a]===void 0?d=w0.default(c._private[o.field],h):d=c._private[o.field][a]),d}else if(o.allowSetting&&i!==void 0){var v=!o.immutableKeys[a];if(v){var g=Ef({},a,i);o.beforeSet(s,g);for(var y=0,p=u.length;y<p;y++){var m=u[y];o.canSet(m)&&(h&&c._private[o.field][a]===void 0?E0.default(m._private[o.field],h,i):m._private[o.field][a]=i)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&ot(a)){var E=a,T,L,I=Object.keys(E);o.beforeSet(s,E);for(var N=0;N<I.length;N++){T=I[N],L=E[T];var B=!o.immutableKeys[T];if(B)for(var R=0;R<u.length;R++){var G=u[R];o.canSet(G)&&(G._private[o.field][T]=L)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&Ct(a)){var z=a;s.on(o.bindingEvent,z)}else if(o.allowGetting&&a===void 0){var w;return c&&(o.beforeGet(c),w=c._private[o.field]),w}return s}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Je({},r,e),function(a){var i=e,o=this,s=o.length!==void 0,l=s?o:[o];if(Ke(a)){for(var u=a.split(/\s+/),c=u.length,f=0;f<c;f++){var h=u[f];if(!Br(h)){var d=!i.immutableKeys[h];if(d)for(var v=0,g=l.length;v<g;v++)l[v]._private[i.field][h]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var y=0,p=l.length;y<p;y++)for(var m=l[y]._private[i.field],E=Object.keys(m),T=0;T<E.length;T++){var L=E[T],I=!i.immutableKeys[L];I&&(m[L]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},Gw={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new In(function(s,l){var u=function(d){i.off.apply(i,f),s(d)},c=o.concat([u]),f=c.concat([]);i.on.apply(i,c)})}}},ht={};[Fw,Bw,Gw].forEach(function(t){Je(ht,t)});var zw={animate:ht.animate(),animation:ht.animation(),animated:ht.animated(),clearQueue:ht.clearQueue(),delay:ht.delay(),delayAnimation:ht.delayAnimation(),stop:ht.stop()},Qa={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else pt(e)||(e=(e||"").match(/\S+/g)||[]);for(var a=[],i=new On(e),o=0;o<r.length;o++){for(var s=r[o],l=s._private,u=l.classes,c=!1,f=0;f<e.length;f++){var h=e[f],d=u.has(h);if(!d){c=!0;break}}c||(c=u.size!==e.length),c&&(l.classes=i,a.push(s))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){pt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,s=n.length;o<s;o++)for(var l=n[o],u=l._private.classes,c=!1,f=0;f<e.length;f++){var h=e[f],d=u.has(h),v=!1;r||a&&!d?(u.add(h),v=!0):(!r||a&&d)&&(u.delete(h),v=!0),!c&&v&&(i.push(l),c=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Qa.className=Qa.classNames=Qa.classes;var it={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Dt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};it.variable="(?:[\\w-.]|(?:\\\\"+it.metaChar+"))+";it.className="(?:[\\w-]|(?:\\\\"+it.metaChar+"))+";it.value=it.string+"|"+it.number;it.id=it.variable;(function(){var t,e,r;for(t=it.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],it.comparatorOp+="|@"+e;for(t=it.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(it.comparatorOp+="|\\!"+e)})();var vt=function(){return{checks:[]}},qe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},bo=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return H0(t.selector,e.selector)}),Uw=function(){for(var t={},e,r=0;r<bo.length;r++)e=bo[r],t[e.selector]=e.matches;return t}(),Vw=function(e,r){return Uw[e](r)},qw="("+bo.map(function(t){return t.selector}).join("|")+")",yn=function(e){return e.replace(new RegExp("\\\\("+it.metaChar+")","g"),function(r,n){return n})},Ir=function(e,r,n){e[e.length-1]=n},wo=[{name:"group",query:!0,regex:"("+it.group+")",populate:function(e,r,n){var a=br(n,1),i=a[0];r.checks.push({type:qe.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:qw,populate:function(e,r,n){var a=br(n,1),i=a[0];r.checks.push({type:qe.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+it.id+")",populate:function(e,r,n){var a=br(n,1),i=a[0];r.checks.push({type:qe.ID,value:yn(i)})}},{name:"className",query:!0,regex:"\\.("+it.className+")",populate:function(e,r,n){var a=br(n,1),i=a[0];r.checks.push({type:qe.CLASS,value:yn(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+it.variable+")\\s*\\]",populate:function(e,r,n){var a=br(n,1),i=a[0];r.checks.push({type:qe.DATA_EXIST,field:yn(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+it.variable+")\\s*("+it.comparatorOp+")\\s*("+it.value+")\\s*\\]",populate:function(e,r,n){var a=br(n,3),i=a[0],o=a[1],s=a[2],l=new RegExp("^"+it.string+"$").exec(s)!=null;l?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:qe.DATA_COMPARE,field:yn(i),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+it.boolOp+")\\s*("+it.variable+")\\s*\\]",populate:function(e,r,n){var a=br(n,2),i=a[0],o=a[1];r.checks.push({type:qe.DATA_BOOL,field:yn(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+it.meta+")\\s*("+it.comparatorOp+")\\s*("+it.number+")\\s*\\]\\]",populate:function(e,r,n){var a=br(n,3),i=a[0],o=a[1],s=a[2];r.checks.push({type:qe.META_COMPARE,field:yn(i),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:it.separator,populate:function(e,r){var n=e.currentSubject,a=e.edgeCount,i=e.compoundCount,o=e[e.length-1];n!=null&&(o.subject=n,e.currentSubject=null),o.edgeCount=a,o.compoundCount=i,e.edgeCount=0,e.compoundCount=0;var s=e[e.length++]=vt();return s}},{name:"directedEdge",separator:!0,regex:it.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=r,i=vt();return n.checks.push({type:qe.DIRECTED_EDGE,source:a,target:i}),Ir(e,r,n),e.edgeCount++,i}else{var o=vt(),s=r,l=vt();return o.checks.push({type:qe.NODE_SOURCE,source:s,target:l}),Ir(e,r,o),e.edgeCount++,l}}},{name:"undirectedEdge",separator:!0,regex:it.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=r,i=vt();return n.checks.push({type:qe.UNDIRECTED_EDGE,nodes:[a,i]}),Ir(e,r,n),e.edgeCount++,i}else{var o=vt(),s=r,l=vt();return o.checks.push({type:qe.NODE_NEIGHBOR,node:s,neighbor:l}),Ir(e,r,o),l}}},{name:"child",separator:!0,regex:it.child,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=vt(),i=e[e.length-1];return n.checks.push({type:qe.CHILD,parent:i,child:a}),Ir(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=vt(),s=e[e.length-1],l=vt(),u=vt(),c=vt(),f=vt();return o.checks.push({type:qe.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:qe.TRUE}],f.checks.push({type:qe.TRUE}),l.checks.push({type:qe.PARENT,parent:f,child:c}),Ir(e,s,o),e.currentSubject=u,e.compoundCount++,c}else{var h=vt(),d=vt(),v=[{type:qe.PARENT,parent:h,child:d}];return h.checks=r.checks,r.checks=v,e.compoundCount++,d}}},{name:"descendant",separator:!0,regex:it.descendant,populate:function(e,r){if(e.currentSubject==null){var n=vt(),a=vt(),i=e[e.length-1];return n.checks.push({type:qe.DESCENDANT,ancestor:i,descendant:a}),Ir(e,r,n),e.compoundCount++,a}else if(e.currentSubject===r){var o=vt(),s=e[e.length-1],l=vt(),u=vt(),c=vt(),f=vt();return o.checks.push({type:qe.COMPOUND_SPLIT,left:s,right:l,subject:u}),u.checks=r.checks,r.checks=[{type:qe.TRUE}],f.checks.push({type:qe.TRUE}),l.checks.push({type:qe.ANCESTOR,ancestor:f,descendant:c}),Ir(e,s,o),e.currentSubject=u,e.compoundCount++,c}else{var h=vt(),d=vt(),v=[{type:qe.ANCESTOR,ancestor:h,descendant:d}];return h.checks=r.checks,r.checks=v,e.compoundCount++,d}}},{name:"subject",modifier:!0,regex:it.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return dt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],a=n.checks[0],i=a==null?null:a.type;i===qe.DIRECTED_EDGE?a.type=qe.NODE_TARGET:i===qe.UNDIRECTED_EDGE&&(a.type=qe.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];wo.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var Hw=function(e){for(var r,n,a,i=0;i<wo.length;i++){var o=wo[i],s=o.name,l=e.match(o.regexObj);if(l!=null){n=l,r=o,a=s;var u=l[0];e=e.substring(u.length);break}}return{expr:r,match:n,name:a,remaining:e}},Yw=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},Ww=function(e){var r=this,n=r.inputText=e,a=r[0]=vt();for(r.length=1,n=Yw(n);;){var i=Hw(n);if(i.expr==null)return dt("The selector `"+e+"`is invalid"),!1;var o=i.match.slice(1),s=i.expr.populate(r,a,o);if(s===!1)return!1;if(s!=null&&(a=s),n=i.remaining,n.match(/^\s*$/))break}var l=r[r.length-1];r.currentSubject!=null&&(l.subject=r.currentSubject),l.edgeCount=r.edgeCount,l.compoundCount=r.compoundCount;for(var u=0;u<r.length;u++){var c=r[u];if(c.compoundCount>0&&c.edgeCount>0)return dt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return dt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&dt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},Xw=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},r=function(c){return Ke(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},a=function(c,f){var h=c.type,d=c.value;switch(h){case qe.GROUP:{var v=e(d);return v.substring(0,v.length-1)}case qe.DATA_COMPARE:{var g=c.field,y=c.operator;return"["+g+n(e(y))+r(d)+"]"}case qe.DATA_BOOL:{var p=c.operator,m=c.field;return"["+e(p)+m+"]"}case qe.DATA_EXIST:{var E=c.field;return"["+E+"]"}case qe.META_COMPARE:{var T=c.operator,L=c.field;return"[["+L+n(e(T))+r(d)+"]]"}case qe.STATE:return d;case qe.ID:return"#"+d;case qe.CLASS:return"."+d;case qe.PARENT:case qe.CHILD:return i(c.parent,f)+n(">")+i(c.child,f);case qe.ANCESTOR:case qe.DESCENDANT:return i(c.ancestor,f)+" "+i(c.descendant,f);case qe.COMPOUND_SPLIT:{var I=i(c.left,f),N=i(c.subject,f),B=i(c.right,f);return I+(I.length>0?" ":"")+N+B}case qe.TRUE:return""}},i=function(c,f){return c.checks.reduce(function(h,d,v){return h+(f===c&&v===0?"$":"")+a(d,f)},"")},o="",s=0;s<this.length;s++){var l=this[s];o+=i(l,l.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},_w={parse:Ww,toString:Xw},eh=function(e,r,n){var a,i=Ke(e),o=Ie(e),s=Ke(n),l,u,c=!1,f=!1,h=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),f=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),c=!0),(i||s||c)&&(l=!i&&!o?"":""+e,u=""+n),c&&(e=l=l.toLowerCase(),n=u=u.toLowerCase()),r){case"*=":a=l.indexOf(u)>=0;break;case"$=":a=l.indexOf(u,l.length-u.length)>=0;break;case"^=":a=l.indexOf(u)===0;break;case"=":a=e===n;break;case">":h=!0,a=e>n;break;case">=":h=!0,a=e>=n;break;case"<":h=!0,a=e<n;break;case"<=":h=!0,a=e<=n;break;default:a=!1;break}return f&&(e!=null||!h)&&(a=!a),a},$w=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},Kw=function(e){return e!==void 0},Go=function(e,r){return e.data(r)},Zw=function(e,r){return e[r]()},St=[],wt=function(e,r){return e.checks.every(function(n){return St[n.type](n,r)})};St[qe.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};St[qe.STATE]=function(t,e){var r=t.value;return Vw(r,e)};St[qe.ID]=function(t,e){var r=t.value;return e.id()===r};St[qe.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};St[qe.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return eh(Zw(e,r),n,a)};St[qe.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,a=t.value;return eh(Go(e,r),n,a)};St[qe.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return $w(Go(e,r),n)};St[qe.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,Kw(Go(e,r))};St[qe.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],a=e.source(),i=e.target();return wt(r,a)&&wt(n,i)||wt(n,a)&&wt(r,i)};St[qe.NODE_NEIGHBOR]=function(t,e){return wt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&wt(t.neighbor,r)})};St[qe.DIRECTED_EDGE]=function(t,e){return wt(t.source,e.source())&&wt(t.target,e.target())};St[qe.NODE_SOURCE]=function(t,e){return wt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&wt(t.target,r)})};St[qe.NODE_TARGET]=function(t,e){return wt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&wt(t.source,r)})};St[qe.CHILD]=function(t,e){return wt(t.child,e)&&wt(t.parent,e.parent())};St[qe.PARENT]=function(t,e){return wt(t.parent,e)&&e.children().some(function(r){return wt(t.child,r)})};St[qe.DESCENDANT]=function(t,e){return wt(t.descendant,e)&&e.ancestors().some(function(r){return wt(t.ancestor,r)})};St[qe.ANCESTOR]=function(t,e){return wt(t.ancestor,e)&&e.descendants().some(function(r){return wt(t.descendant,r)})};St[qe.COMPOUND_SPLIT]=function(t,e){return wt(t.subject,e)&&wt(t.left,e)&&wt(t.right,e)};St[qe.TRUE]=function(){return!0};St[qe.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};St[qe.FILTER]=function(t,e){var r=t.value;return r(e)};var Qw=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===qe.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var s=r[o];if(wt(s,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},Jw=function(e){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(wt(a,e))return!0}return!1},jw={matches:Jw,filter:Qw},zr=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Ke(e)&&e.match(/^\s*$/)||(Zt(e)?this.addQuery({checks:[{type:qe.COLLECTION,value:e.collection()}]}):Ct(e)?this.addQuery({checks:[{type:qe.FILTER,value:e}]}):Ke(e)?this.parse(e)||(this.invalid=!0):Tt("A selector must be created from a string; found "))},Ur=zr.prototype;[_w,jw].forEach(function(t){return Je(Ur,t)});Ur.text=function(){return this.inputText};Ur.size=function(){return this.length};Ur.eq=function(t){return this[t]};Ur.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Ur.addQuery=function(t){this[this.length++]=t};Ur.selector=Ur.toString;var kr={allAre:function(e){var r=new zr(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new zr(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(a)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var a=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!a)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(a){return e.hasElementWithId(a.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};kr.allAreNeighbours=kr.allAreNeighbors;kr.has=kr.contains;kr.equal=kr.equals=kr.same;var rr=function(e,r){return function(a,i,o,s){var l=a,u=this,c;if(l==null?c="":Zt(l)&&l.length===1&&(c=l.id()),u.length===1&&c){var f=u[0]._private,h=f.traversalCache=f.traversalCache||{},d=h[r]=h[r]||[],v=jr(c),g=d[v];return g||(d[v]=e.call(u,a,i,o,s))}else return e.call(u,a,i,o,s)}},Nn={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:rr(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)e.push(a[i]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function zo(t,e,r,n){for(var a=[],i=new On,o=t.cy(),s=o.hasCompoundNodes(),l=0;l<t.length;l++){var u=t[l];r?a.push(u):s&&n(a,i,u)}for(;a.length>0;){var c=a.shift();e(c),i.add(c.id()),s&&n(a,i,c)}return t}function th(t,e,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];e.has(i.id())||t.push(i)}}Nn.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return zo(this,t,e,th)};function rh(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Nn.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return zo(this,t,e,rh)};function eE(t,e,r){rh(t,e,r),th(t,e,r)}Nn.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return zo(this,t,e,eE)};Nn.ancestors=Nn.parents;var sa,nh;sa=nh={data:ht.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:ht.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:ht.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ht.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:ht.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:ht.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};sa.attr=sa.data;sa.removeAttr=sa.removeData;var tE=nh,yi={};function uo(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var s=i[o];!e&&s.isLoop()||(n+=t(a,s))}return n}else return}}Je(yi,{degree:uo(function(t,e){return e.source().same(e.target())?2:1}),indegree:uo(function(t,e){return e.target().same(t)?1:0}),outdegree:uo(function(t,e){return e.source().same(t)?1:0})});function mn(t,e){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],s=o[t](r);s!==void 0&&(n===void 0||e(s,n))&&(n=s)}return n}}Je(yi,{minDegree:mn("degree",function(t,e){return t<e}),maxDegree:mn("degree",function(t,e){return t>e}),minIndegree:mn("indegree",function(t,e){return t<e}),maxIndegree:mn("indegree",function(t,e){return t>e}),minOutdegree:mn("outdegree",function(t,e){return t<e}),maxOutdegree:mn("outdegree",function(t,e){return t>e})});Je(yi,{totalDegree:function(e){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(e);return r}});var or,ah,ih=function(e,r,n){for(var a=0;a<e.length;a++){var i=e[a];if(!i.locked()){var o=i._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(s.x===0&&s.y===0)&&i.children().shift(s,n),i.dirtyBoundingBoxCache()}}},Vc={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){ih(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};or=ah={position:ht.data(Vc),silentPosition:ht.data(Je({},Vc,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){ih(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(ot(e))r?this.silentPosition(e):this.position(e);else if(Ct(e)){var n=e,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],s=void 0;(s=n(o,i))&&(r?o.silentPosition(s):o.position(s))}a.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var a;if(ot(e)?(a={x:Ie(e.x)?e.x:0,y:Ie(e.y)?e.y:0},n=r):Ke(e)&&Ie(r)&&(a={x:0,y:0},a[e]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var l=s.position(),u={x:l.x+a.x,y:l.y+a.y};n?s.silentPosition(u):s.position(u)}}i.endBatch()}return this},silentShift:function(e,r){return ot(e)?this.shift(e,!0):Ke(e)&&Ie(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),s=ot(e)?e:void 0,l=s!==void 0||r!==void 0&&Ke(e);if(n&&n.isNode())if(l)for(var u=0;u<this.length;u++){var c=this[u];r!==void 0?c.position(e,(r-o[e])/i):s!==void 0&&c.position(Bf(s,i,o))}else{var f=n.position();return s=gi(f,i,o),e===void 0?s:s[e]}else if(!l)return;return this},relativePosition:function(e,r){var n=this[0],a=this.cy(),i=ot(e)?e:void 0,o=i!==void 0||r!==void 0&&Ke(e),s=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var l=0;l<this.length;l++){var u=this[l],c=s?u.parent():null,f=c&&c.length>0,h=f;f&&(c=c[0]);var d=h?c.position():{x:0,y:0};r!==void 0?u.position(e,r+d[e]):i!==void 0&&u.position({x:i.x+d.x,y:i.y+d.y})}else{var v=n.position(),g=s?n.parent():null,y=g&&g.length>0,p=y;y&&(g=g[0]);var m=p?g.position():{x:0,y:0};return i={x:v.x-m.x,y:v.y-m.y},e===void 0?i:i[e]}else if(!o)return;return this}};or.modelPosition=or.point=or.position;or.modelPositions=or.points=or.positions;or.renderedPoint=or.renderedPosition;or.relativePoint=or.relativePosition;var rE=ah,Dn,qr;Dn=qr={};qr.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),a=r.pan(),i=e.x1*n+a.x,o=e.x2*n+a.x,s=e.y1*n+a.y,l=e.y2*n+a.y;return{x1:i,x2:o,y1:s,y2:l,w:o-i,h:l-s}};qr.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};qr.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,l=o.children(),u=o.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},f=l.boundingBox({includeLabels:u,includeOverlays:!1,useCache:!1}),h=s.position;(f.w===0||f.h===0)&&(f={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},f.x1=h.x-f.w/2,f.x2=h.x+f.w/2,f.y1=h.y-f.h/2,f.y2=h.y+f.h/2);function d(R,G,z){var w=0,D=0,C=G+z;return R>0&&C>0&&(w=G/C*R,D=z/C*R),{biasDiff:w,biasComplementDiff:D}}function v(R,G,z,w){if(z.units==="%")switch(w){case"width":return R>0?z.pfValue*R:0;case"height":return G>0?z.pfValue*G:0;case"average":return R>0&&G>0?z.pfValue*(R+G)/2:0;case"min":return R>0&&G>0?R>G?z.pfValue*G:z.pfValue*R:0;case"max":return R>0&&G>0?R>G?z.pfValue*R:z.pfValue*G:0;default:return 0}else return z.units==="px"?z.pfValue:0}var g=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(g=g*100/c.width.val);var y=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var p=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(p=p*100/c.height.val);var m=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(m=m*100/c.height.val);var E=d(c.width.val-f.w,g,y),T=E.biasDiff,L=E.biasComplementDiff,I=d(c.height.val-f.h,p,m),N=I.biasDiff,B=I.biasComplementDiff;s.autoPadding=v(f.w,f.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(f.w,c.width.val),h.x=(-T+f.x1+f.x2+L)/2,s.autoHeight=Math.max(f.h,c.height.val),h.y=(-N+f.y1+f.y2+B)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||t)&&(r(a),e.batching()||(i.compoundBoundsClean=!0))}return this};var tr=function(e){return e===1/0||e===-1/0?0:e},ar=function(e,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(e.x1=r<e.x1?r:e.x1,e.x2=a>e.x2?a:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Qr=function(e,r){return r==null?e:ar(e,r.x1,r.y1,r.x2,r.y2)},Xn=function(e,r,n){return ir(e,r,n)},Wa=function(e,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,l,u;if(s!=="none"){n==="source"?(l=i.srcX,u=i.srcY):n==="target"?(l=i.tgtX,u=i.tgtY):(l=i.midX,u=i.midY);var c=a.arrowBounds=a.arrowBounds||{},f=c[n]=c[n]||{};f.x1=l-o,f.y1=u-o,f.x2=l+o,f.y2=u+o,f.w=f.x2-f.x1,f.h=f.y2-f.y1,Za(f,1),ar(e,f.x1,f.y1,f.x2,f.y2)}}},lo=function(e,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,s=r.pstyle(a+"label").strValue;if(s){var l=r.pstyle("text-halign"),u=r.pstyle("text-valign"),c=Xn(o,"labelWidth",n),f=Xn(o,"labelHeight",n),h=Xn(o,"labelX",n),d=Xn(o,"labelY",n),v=r.pstyle(a+"text-margin-x").pfValue,g=r.pstyle(a+"text-margin-y").pfValue,y=r.isEdge(),p=r.pstyle(a+"text-rotation"),m=r.pstyle("text-outline-width").pfValue,E=r.pstyle("text-border-width").pfValue,T=E/2,L=r.pstyle("text-background-padding").pfValue,I=2,N=f,B=c,R=B/2,G=N/2,z,w,D,C;if(y)z=h-R,w=h+R,D=d-G,C=d+G;else{switch(l.value){case"left":z=h-B,w=h;break;case"center":z=h-R,w=h+R;break;case"right":z=h,w=h+B;break}switch(u.value){case"top":D=d-N,C=d;break;case"center":D=d-G,C=d+G;break;case"bottom":D=d,C=d+N;break}}z+=v-Math.max(m,T)-L-I,w+=v+Math.max(m,T)+L+I,D+=g-Math.max(m,T)-L-I,C+=g+Math.max(m,T)+L+I;var P=n||"main",S=i.labelBounds,V=S[P]=S[P]||{};V.x1=z,V.y1=D,V.x2=w,V.y2=C,V.w=w-z,V.h=C-D;var H=y&&p.strValue==="autorotate",_=p.pfValue!=null&&p.pfValue!==0;if(H||_){var K=H?Xn(i.rstyle,"labelAngle",n):p.pfValue,Y=Math.cos(K),Q=Math.sin(K),ee=(z+w)/2,Z=(D+C)/2;if(!y){switch(l.value){case"left":ee=w;break;case"right":ee=z;break}switch(u.value){case"top":Z=C;break;case"bottom":Z=D;break}}var te=function(Re,ie){return Re=Re-ee,ie=ie-Z,{x:Re*Y-ie*Q+ee,y:Re*Q+ie*Y+Z}},W=te(z,D),k=te(z,C),X=te(w,D),J=te(w,C);z=Math.min(W.x,k.x,X.x,J.x),w=Math.max(W.x,k.x,X.x,J.x),D=Math.min(W.y,k.y,X.y,J.y),C=Math.max(W.y,k.y,X.y,J.y)}var ae=P+"Rot",le=S[ae]=S[ae]||{};le.x1=z,le.y1=D,le.x2=w,le.y2=C,le.w=w-z,le.h=C-D,ar(e,z,D,w,C),ar(i.labelBounds.all,z,D,w,C)}return e}},nE=function(e,r){var n=e._private.cy,a=n.styleEnabled(),i=n.headless(),o=_t(),s=e._private,l=e.isNode(),u=e.isEdge(),c,f,h,d,v,g,y=s.rstyle,p=l&&a?e.pstyle("bounds-expansion").pfValue:[0],m=function(Ne){return Ne.pstyle("display").value!=="none"},E=!a||m(e)&&(!u||m(e.source())&&m(e.target()));if(E){var T=0,L=0;a&&r.includeOverlays&&(T=e.pstyle("overlay-opacity").value,T!==0&&(L=e.pstyle("overlay-padding").value));var I=0,N=0;a&&r.includeUnderlays&&(I=e.pstyle("underlay-opacity").value,I!==0&&(N=e.pstyle("underlay-padding").value));var B=Math.max(L,N),R=0,G=0;if(a&&(R=e.pstyle("width").pfValue,G=R/2),l&&r.includeNodes){var z=e.position();v=z.x,g=z.y;var w=e.outerWidth(),D=w/2,C=e.outerHeight(),P=C/2;c=v-D,f=v+D,h=g-P,d=g+P,ar(o,c,h,f,d)}else if(u&&r.includeEdges)if(a&&!i){var S=e.pstyle("curve-style").strValue;if(c=Math.min(y.srcX,y.midX,y.tgtX),f=Math.max(y.srcX,y.midX,y.tgtX),h=Math.min(y.srcY,y.midY,y.tgtY),d=Math.max(y.srcY,y.midY,y.tgtY),c-=G,f+=G,h-=G,d+=G,ar(o,c,h,f,d),S==="haystack"){var V=y.haystackPts;if(V&&V.length===2){if(c=V[0].x,h=V[0].y,f=V[1].x,d=V[1].y,c>f){var H=c;c=f,f=H}if(h>d){var _=h;h=d,d=_}ar(o,c-G,h-G,f+G,d+G)}}else if(S==="bezier"||S==="unbundled-bezier"||S==="segments"||S==="taxi"){var K;switch(S){case"bezier":case"unbundled-bezier":K=y.bezierPts;break;case"segments":case"taxi":K=y.linePts;break}if(K!=null)for(var Y=0;Y<K.length;Y++){var Q=K[Y];c=Q.x-G,f=Q.x+G,h=Q.y-G,d=Q.y+G,ar(o,c,h,f,d)}}}else{var ee=e.source(),Z=ee.position(),te=e.target(),W=te.position();if(c=Z.x,f=W.x,h=Z.y,d=W.y,c>f){var k=c;c=f,f=k}if(h>d){var X=h;h=d,d=X}c-=G,f+=G,h-=G,d+=G,ar(o,c,h,f,d)}if(a&&r.includeEdges&&u&&(Wa(o,e,"mid-source"),Wa(o,e,"mid-target"),Wa(o,e,"source"),Wa(o,e,"target")),a){var J=e.pstyle("ghost").value==="yes";if(J){var ae=e.pstyle("ghost-offset-x").pfValue,le=e.pstyle("ghost-offset-y").pfValue;ar(o,o.x1+ae,o.y1+le,o.x2+ae,o.y2+le)}}var De=s.bodyBounds=s.bodyBounds||{};Sc(De,o),io(De,p),Za(De,1),a&&(c=o.x1,f=o.x2,h=o.y1,d=o.y2,ar(o,c-B,h-B,f+B,d+B));var Re=s.overlayBounds=s.overlayBounds||{};Sc(Re,o),io(Re,p),Za(Re,1);var ie=s.labelBounds=s.labelBounds||{};ie.all!=null?Nb(ie.all):ie.all=_t(),a&&r.includeLabels&&(r.includeMainLabels&&lo(o,e,null),u&&(r.includeSourceLabels&&lo(o,e,"source"),r.includeTargetLabels&&lo(o,e,"target")))}return o.x1=tr(o.x1),o.y1=tr(o.y1),o.x2=tr(o.x2),o.y2=tr(o.y2),o.w=tr(o.x2-o.x1),o.h=tr(o.y2-o.y1),o.w>0&&o.h>0&&E&&(io(o,p),Za(o,1)),o},oh=function(e){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(e.incudeNodes),a+=n(e.includeEdges),a+=n(e.includeLabels),a+=n(e.includeMainLabels),a+=n(e.includeSourceLabels),a+=n(e.includeTargetLabels),a+=n(e.includeOverlays),a},sh=function(e){if(e.isEdge()){var r=e.source().position(),n=e.target().position(),a=function(o){return Math.round(o)};return J0([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},qc=function(e,r){var n=e._private,a,i=e.isEdge(),o=r==null?Hc:oh(r),s=o===Hc,l=sh(e),u=n.bbCachePosKey===l,c=r.useCache&&u,f=function(g){return g._private.bbCache==null||g._private.styleDirty},h=!c||f(e)||i&&f(e.source())||f(e.target());if(h?(u||e.recalculateRenderedStyle(c),a=nE(e,ua),n.bbCache=a,n.bbCachePosKey=l):a=n.bbCache,!s){var d=e.isNode();a=_t(),(r.includeNodes&&d||r.includeEdges&&!d)&&(r.includeOverlays?Qr(a,n.overlayBounds):Qr(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?Qr(a,n.labelBounds.all):(r.includeMainLabels&&Qr(a,n.labelBounds.mainRot),r.includeSourceLabels&&Qr(a,n.labelBounds.sourceRot),r.includeTargetLabels&&Qr(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},ua={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,useCache:!0},Hc=oh(ua),Yc=kt(ua);qr.boundingBox=function(t){var e;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(t===void 0||t.useCache===void 0||t.useCache===!0))t===void 0?t=ua:t=Yc(t),e=qc(this[0],t);else{e=_t(),t=t||ua;var r=Yc(t),n=this,a=n.cy(),i=a.styleEnabled();if(i)for(var o=0;o<n.length;o++){var s=n[o],l=s._private,u=sh(s),c=l.bbCachePosKey===u,f=r.useCache&&c&&!l.styleDirty;s.recalculateRenderedStyle(f)}this.updateCompoundBounds(!t.useCache);for(var h=0;h<n.length;h++){var d=n[h];Qr(e,qc(d,r))}}return e.x1=tr(e.x1),e.y1=tr(e.y1),e.x2=tr(e.x2),e.y2=tr(e.y2),e.w=tr(e.x2-e.x1),e.h=tr(e.y2-e.y1),e};qr.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};qr.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=e.filter(function(u){return u.isParent()}),e=e.not(a)),ot(t)){var i=t;t=function(){return i}}var o=function(c,f){return c._private.bbAtOldPos=t(c,f)},s=function(c){return c._private.bbAtOldPos};r.startBatch(),e.forEach(o).silentPositions(t),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var l=Ab(this.boundingBox({useCache:!1}));return e.silentPositions(s),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),l};Dn.boundingbox=Dn.bb=Dn.boundingBox;Dn.renderedBoundingbox=Dn.renderedBoundingBox;var aE=qr,Qn,pa;Qn=pa={};var uh=function(e){e.uppercaseName=Ec(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Ec(e.outerName),Qn[e.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[e.autoName]||0;var s=n.pstyle(e.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[e.labelName]||0;default:return s.pfValue}}else return 1},Qn["outer"+e.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var s=n[e.name](),l=n.pstyle("border-width").pfValue,u=2*n.padding();return s+l+u}else return 1},Qn["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var a=n[e.name]();return a*this.cy().zoom()}},Qn["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[e.outerName]();return a*this.cy().zoom()}}};uh({name:"width"});uh({name:"height"});pa.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};pa.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};pa.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var iE=pa,oE=function(e,r){if(e.isEdge())return r(e)},sE=function(e,r){if(e.isEdge()){var n=e.cy();return gi(r(e),n.zoom(),n.pan())}},uE=function(e,r){if(e.isEdge()){var n=e.cy(),a=n.pan(),i=n.zoom();return r(e).map(function(o){return gi(o,i,a)})}},lE=function(e){return e.renderer().getControlPoints(e)},cE=function(e){return e.renderer().getSegmentPoints(e)},fE=function(e){return e.renderer().getSourceEndpoint(e)},hE=function(e){return e.renderer().getTargetEndpoint(e)},dE=function(e){return e.renderer().getEdgeMidpoint(e)},Wc={controlPoints:{get:lE,mult:!0},segmentPoints:{get:cE,mult:!0},sourceEndpoint:{get:fE},targetEndpoint:{get:hE},midpoint:{get:dE}},vE=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},gE=Object.keys(Wc).reduce(function(t,e){var r=Wc[e],n=vE(e);return t[e]=function(){return oE(this,r.get)},r.mult?t[n]=function(){return uE(this,r.get)}:t[n]=function(){return sE(this,r.get)},t},{}),pE=Je({},rE,aE,iE,gE);var lh=function(e,r){this.recycle(e,r)};function _n(){return!1}function Xa(){return!0}lh.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=_n,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Xa:_n):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Xa;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Xa;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Xa,this.stopPropagation()},isDefaultPrevented:_n,isPropagationStopped:_n,isImmediatePropagationStopped:_n};var ch=/^([^.]+)(\.(?:[^.]+))?$/,yE=".*",fh={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Xc=Object.keys(fh),mE={};function mi(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:mE,e=arguments.length>1?arguments[1]:void 0,r=0;r<Xc.length;r++){var n=Xc[r];this[n]=t[n]||fh[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Vr=mi.prototype,hh=function(e,r,n,a,i,o,s){Ct(a)&&(i=a,a=null),s&&(o==null?o=s:o=Je({},o,s));for(var l=pt(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var c=l[u];if(!Br(c)){var f=c.match(ch);if(f){var h=f[1],d=f[2]?f[2]:null,v=r(e,c,h,d,a,i,o);if(v===!1)break}}}},_c=function(e,r){return e.addEventFields(e.context,r),new lh(r.type,r)},bE=function(e,r,n){if(I0(n)){r(e,n);return}else if(ot(n)){r(e,_c(e,n));return}for(var a=pt(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!Br(o)){var s=o.match(ch);if(s){var l=s[1],u=s[2]?s[2]:null,c=_c(e,{type:l,namespace:u,target:e.context});r(e,c)}}}};Vr.on=Vr.addListener=function(t,e,r,n,a){return hh(this,function(i,o,s,l,u,c,f){Ct(c)&&i.listeners.push({event:o,callback:c,type:s,namespace:l,qualifier:u,conf:f})},t,e,r,n,a),this};Vr.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};Vr.removeListener=Vr.off=function(t,e,r,n){var a=this;this.emitting!==0&&(this.listeners=nb(this.listeners));for(var i=this.listeners,o=function(u){var c=i[u];hh(a,function(f,h,d,v,g,y){if((c.type===d||t==="*")&&(!v&&c.namespace!==".*"||c.namespace===v)&&(!g||f.qualifierCompare(c.qualifier,g))&&(!y||c.callback===y))return i.splice(u,1),!1},t,e,r,n)},s=i.length-1;s>=0;s--)o(s);return this};Vr.removeAllListeners=function(){return this.removeListener("*")};Vr.emit=Vr.trigger=function(t,e,r){var n=this.listeners,a=n.length;return this.emitting++,pt(e)||(e=[e]),bE(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var s=function(c){var f=n[c];if(f.type===o.type&&(!f.namespace||f.namespace===o.namespace||f.namespace===yE)&&i.eventMatches(i.context,f,o)){var h=[o];e!=null&&ib(h,e),i.beforeEmit(i.context,f,o),f.conf&&f.conf.one&&(i.listeners=i.listeners.filter(function(g){return g!==f}));var d=i.callbackContext(i.context,f,o),v=f.callback.apply(d,h);i.afterEmit(i.context,f,o),v===!1&&(o.stopPropagation(),o.preventDefault())}},l=0;l<a;l++)s(l);i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,e)},t),this.emitting--,this};var wE={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&va(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},_a=function(e){return Ke(e)?new zr(e):e},dh={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new mi(wE,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var a=_a(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n)}return this},removeListener:function(e,r,n){for(var a=_a(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(e,a,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var a=_a(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(e,a,n)}return this},once:function(e,r,n){for(var a=_a(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(e,a,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};ht.eventAliasesOn(dh);var vh={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?e.push(a):r.push(a)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Ke(e)||Zt(e))return new zr(e).filter(this);if(Ct(e)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],s=r?e.apply(r,[o,i,a]):e(o,i,a);s&&n.push(o)}return n}return this.spawn()},not:function(e){if(e){Ke(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=e.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Ke(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),a=this,i=e,o=this.length<e.length,s=o?a:i,l=o?i:a,u=0;u<s.length;u++){var c=s[u];l.has(c)&&n.push(c)}return n},xor:function(e){var r=this._private.cy;Ke(e)&&(e=r.$(e));var n=this.spawn(),a=this,i=e,o=function(l,u){for(var c=0;c<l.length;c++){var f=l[c],h=f._private.data.id,d=u.hasElementWithId(h);d||n.push(f)}};return o(a,i),o(i,a),n},diff:function(e){var r=this._private.cy;Ke(e)&&(e=r.$(e));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,s=e,l=function(c,f,h){for(var d=0;d<c.length;d++){var v=c[d],g=v._private.data.id,y=f.hasElementWithId(g);y?i.merge(v):h.push(v)}};return l(o,s,n),l(s,o,a),{left:n,right:a,both:i}},add:function(e){var r=this._private.cy;if(!e)return this;if(Ke(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<e.length;i++){var o=e[i],s=!this.has(o);s&&a.push(o)}return a},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Ke(e)){var a=e;e=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<e.length;o++){var s=e[o],l=s._private.data.id,u=!i.has(l);if(u){var c=this.length++;this[c]=s,i.set(l,{ele:s,index:c})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),a=this._private,i=a.map;this[e]=void 0,i.delete(n);var o=e===this.length-1;if(this.length>1&&!o){var s=this.length-1,l=this[s],u=l._private.data.id;this[s]=void 0,this[e]=l,i.set(u,{ele:l,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Ke(e)){var n=e;e=r.mutableElements().filter(n)}for(var a=0;a<e.length;a++)this.unmergeOne(e[a]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],s=r?e.apply(r,[o,i,a]):e(o,i,a);n.push(s)}return n},reduce:function(e,r){for(var n=r,a=this,i=0;i<a.length;i++)n=e(n,a[i],i,a);return n},max:function(e,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],l=r?e.apply(r,[s,o,i]):e(s,o,i);l>n&&(n=l,a=s)}return{value:n,ele:a}},min:function(e,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],l=r?e.apply(r,[s,o,i]):e(s,o,i);l<n&&(n=l,a=s)}return{value:n,ele:a}}},ut=vh;ut.u=ut["|"]=ut["+"]=ut.union=ut.or=ut.add;ut["\\"]=ut["!"]=ut["-"]=ut.difference=ut.relativeComplement=ut.subtract=ut.not;ut.n=ut["&"]=ut["."]=ut.and=ut.intersection=ut.intersect;ut["^"]=ut["(+)"]=ut["(-)"]=ut.symmetricDifference=ut.symdiff=ut.xor;ut.fnFilter=ut.filterFn=ut.stdFilter=ut.filter;ut.complement=ut.abscomp=ut.absoluteComplement;var EE={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},gh=function(e,r){var n=e.cy(),a=n.hasCompoundNodes();function i(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?a?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?Oo:0}var o=i(e)-i(r);if(o!==0)return o;function s(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var l=s(e)-s(r);if(l!==0)return l;var u=e.pstyle("z-index").value-r.pstyle("z-index").value;return u!==0?u:e.poolIndex()-r.poolIndex()},si={forEach:function(e,r){if(Ct(e))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?e.apply(r,[i,a,this]):e(i,a,this);if(o===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],a=this.length;r==null&&(r=a),e==null&&(e=0),e<0&&(e=a+e),r<0&&(r=a+r);for(var i=e;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!Ct(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(gh)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var a=r.data.parent?e.parents().size():0;return e.isParent()?a:Oo-1}else{var i=r.source,o=r.target,s=i.zDepth(),l=o.zDepth();return Math.max(s,l,0)}}}};si.each=si.forEach;var xE=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Mt(Symbol))!=e&&Mt(Symbol.iterator)!=e;r&&(si[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return Ef({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};xE();var CE=kt({nodeDimensionsIncludeLabels:!1}),Ja={layoutDimensions:function(e){e=CE(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var a=this.nodes().filter(function(L){return!L.isParent()}),i=this.cy(),o=r.eles,s=function(I){return I.id()},l=ta(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var u=function(I,N,B){var R={x:N.x1+N.w/2,y:N.y1+N.h/2},G={x:(B.x-R.x)*I,y:(B.y-R.y)*I};return{x:R.x+G.x,y:R.y+G.y}},c=r.spacingFactor&&r.spacingFactor!==1,f=function(){if(!c)return null;for(var I=_t(),N=0;N<a.length;N++){var B=a[N],R=l(B,N);Ib(I,R.x,R.y)}return I},h=f(),d=ta(function(L,I){var N=l(L,I);if(c){var B=Math.abs(r.spacingFactor);N=u(B,h,N)}return r.transform!=null&&(N=r.transform(L,N)),N},s);if(r.animate){for(var v=0;v<a.length;v++){var g=a[v],y=d(g,v),p=r.animateFilter==null||r.animateFilter(g,v);if(p){var m=g.animation({position:y,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(m)}else g.position(y)}if(r.fit){var E=i.animation({fit:{boundingBox:o.boundingBoxAt(d),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(E)}else if(r.zoom!==void 0&&r.pan!==void 0){var T=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(T)}e.animations.forEach(function(L){return L.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),In.all(e.animations.map(function(L){return L.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else a.positions(d),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout(Je({},e,{eles:this}))}};Ja.createLayout=Ja.makeLayout=Ja.layout;function ph(t,e,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[t])!=null||(i=a[t]=e(r)),i}function bi(t,e){return t=jr(t),function(n){return ph(t,e,n)}}function wi(t,e){t=jr(t);var r=function(a){return e.call(a)};return function(){var a=this[0];if(a)return ph(t,r,a)}}var Pt={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(i){return i._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;e=!!(e||e===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return e?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[e];return i??(r?a.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(ot(e)){var o=e;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(Ke(e))if(r===void 0){var s=this[0];return s?i.getStylePropertyValue(s,e):void 0}else i.applyBypass(this,e,r,a),this.emitAndNotify("style");else if(e===void 0){var l=this[0];return l?i.getRawStyle(l):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(e===void 0)for(var o=0;o<i.length;o++){var s=i[o];a.removeAllBypasses(s,n)}else{e=e.split(/\s+/);for(var l=0;l<i.length;l++){var u=i[l];a.removeBypasses(u,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var l=o[s],u=l.pstyle("opacity").value;i=u*i}return i}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function co(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!e(i))return!1}return!0}function Uo(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var s=i._private;if(!e(i))return!1;if(i.isNode())return!o||co(i,n);var l=s.source,u=s.target;return r(l)&&(!o||co(l,r))&&(l===u||r(u)&&(!o||co(u,r)))}}}var Pn=bi("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});Pt.takesUpSpace=wi("takesUpSpace",Uo({ok:Pn}));var TE=bi("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Pn(t)}),SE=bi("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Pn(t)});Pt.interactive=wi("interactive",Uo({ok:TE,parentOk:SE,edgeOkViaNode:Pn}));Pt.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var LE=bi("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Pn(t)}),DE=Pn;Pt.visible=wi("visible",Uo({ok:LE,edgeOkViaNode:DE}));Pt.hidden=function(){var t=this[0];if(t)return!t.visible()};Pt.isBundledBezier=wi("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Pt.bypass=Pt.css=Pt.style;Pt.renderedCss=Pt.renderedStyle;Pt.removeBypass=Pt.removeCss=Pt.removeStyle;Pt.pstyle=Pt.parsedStyle;var Fr={};function $c(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],a=e[1];this.on(t.event,n,a)}else if(e.length===1&&Ct(e[0])){var i=e[0];this.on(t.event,i)}else if(e.length===0||e.length===1&&pt(e[0])){for(var o=e.length===1?e[0]:null,s=0;s<this.length;s++){var l=this[s],u=!t.ableField||l._private[t.ableField],c=l._private[t.field]!=t.value;if(t.overrideAble){var f=t.overrideAble(l);if(f!==void 0&&(u=f,!f))return this}u&&(l._private[t.field]=t.value,c&&r.push(l))}var h=this.spawn(r);h.updateStyle(),h.emit(t.event),o&&h.emit(o)}return this}}function Rn(t){Fr[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},Fr[t.on]=$c({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),Fr[t.off]=$c({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Rn({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Rn({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Rn({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Rn({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Fr.deselect=Fr.unselect;Fr.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Rn({field:"active",on:"activate",off:"unactivate"});Rn({field:"pannable",on:"panify",off:"unpanify"});Fr.inactive=function(){var t=this[0];if(t)return!t._private.active};var Gt={},Kc=function(e){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var s=a[o];if(s.isNode()){for(var l=!1,u=s.connectedEdges(),c=0;c<u.length;c++){var f=u[c],h=f.source(),d=f.target();if(e.noIncomingEdges&&d===s&&h!==s||e.noOutgoingEdges&&h===s&&d!==s){l=!0;break}}l||i.push(s)}}return this.spawn(i,!0).filter(n)}},Zc=function(e){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var s=o.connectedEdges(),l=0;l<s.length;l++){var u=s[l],c=u.source(),f=u.target();e.outgoing&&c===o?(a.push(u),a.push(f)):e.incoming&&f===o&&(a.push(u),a.push(c))}}return this.spawn(a,!0).filter(r)}},Qc=function(e){return function(r){for(var n=this,a=[],i={};;){var o=e.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,l=0;l<o.length;l++){var u=o[l],c=u.id();i[c]||(i[c]=!0,a.push(u),s=!0)}if(!s)break;n=o}return this.spawn(a,!0).filter(r)}};Gt.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};Je(Gt,{roots:Kc({noIncomingEdges:!0}),leaves:Kc({noOutgoingEdges:!0}),outgoers:rr(Zc({outgoing:!0}),"outgoers"),successors:Qc({outgoing:!0}),incomers:rr(Zc({incoming:!0}),"incomers"),predecessors:Qc({incoming:!0})});Je(Gt,{neighborhood:rr(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var s=i[o],l=s.source(),u=s.target(),c=a===l?u:l;c.length>0&&e.push(c[0]),e.push(s[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Gt.neighbourhood=Gt.neighborhood;Gt.closedNeighbourhood=Gt.closedNeighborhood;Gt.openNeighbourhood=Gt.openNeighborhood;Je(Gt,{source:rr(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:rr(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:Jc({attr:"source"}),targets:Jc({attr:"target"})});function Jc(t){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[t.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}Je(Gt,{edgesWith:rr(jc(),"edgesWith"),edgesTo:rr(jc({thisIsSrc:!0}),"edgesTo")});function jc(t){return function(r){var n=[],a=this._private.cy,i=t||{};Ke(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,l=0;l<s.length;l++){var u=s[l],c=u._private.data,f=this.hasElementWithId(c.source)&&r.hasElementWithId(c.target),h=r.hasElementWithId(c.source)&&this.hasElementWithId(c.target),d=f||h;d&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!f||i.thisIsTgt&&!h)||n.push(u))}return this.spawn(n,!0)}}Je(Gt,{connectedEdges:rr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var s=i[o];e.push(s)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:rr(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(e.push(a.source()[0]),e.push(a.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:rr(ef(),"parallelEdges"),codirectedEdges:rr(ef({codirected:!0}),"codirectedEdges")});function ef(t){var e={codirected:!1};return t=Je({},e,t),function(n){for(var a=[],i=this.edges(),o=t,s=0;s<i.length;s++)for(var l=i[s],u=l._private,c=u.source,f=c._private.data.id,h=u.data.target,d=c._private.edges,v=0;v<d.length;v++){var g=d[v],y=g._private.data,p=y.target,m=y.source,E=p===h&&m===f,T=f===p&&h===m;(o.codirected&&E||!o.codirected&&(E||T))&&a.push(g)}return this.spawn(a,!0).filter(n)}}Je(Gt,{components:function(e){var r=this,n=r.cy(),a=n.collection(),i=e==null?r.nodes():e.nodes(),o=[];e!=null&&i.empty()&&(i=e.sources());var s=function(c,f){a.merge(c),i.unmerge(c),f.merge(c)};if(i.empty())return r.spawn();var l=function(){var c=n.collection();o.push(c);var f=i[0];s(f,c),r.bfs({directed:!1,roots:f,visit:function(d){return s(d,c)}}),c.forEach(function(h){h.connectedEdges().forEach(function(d){r.has(d)&&c.has(d.source())&&c.has(d.target())&&c.merge(d)})})};do l();while(i.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Gt.componentsOf=Gt.components;var Rt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){Tt("A collection must have a reference to the core");return}var i=new lr,o=!1;if(!r)r=[];else if(r.length>0&&ot(r[0])&&!va(r[0])){o=!0;for(var s=[],l=new On,u=0,c=r.length;u<c;u++){var f=r[u];f.data==null&&(f.data={});var h=f.data;if(h.id==null)h.id=kf();else if(e.hasElementWithId(h.id)||l.has(h.id))continue;var d=new vi(e,f,!1);s.push(d),l.add(h.id)}r=s}this.length=0;for(var v=0,g=r.length;v<g;v++){var y=r[v][0];if(y!=null){var p=y._private.data.id;(!n||!i.has(p))&&(n&&i.set(p,{index:this.length,ele:y}),this[this.length]=y,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(m){this.lazyMap=m},rebuildMap:function(){for(var E=this.lazyMap=new lr,T=this.eles,L=0;L<T.length;L++){var I=T[L];E.set(I.id(),{index:L,ele:I})}}},n&&(this._private.map=i),o&&!a&&this.restore()},bt=vi.prototype=Rt.prototype=Object.create(Array.prototype);bt.instanceString=function(){return"collection"};bt.spawn=function(t,e){return new Rt(this.cy(),t,e)};bt.spawnSelf=function(){return this.spawn(this)};bt.cy=function(){return this._private.cy};bt.renderer=function(){return this._private.cy.renderer()};bt.element=function(){return this[0]};bt.collection=function(){return Cf(this)?this:new Rt(this._private.cy,[this])};bt.unique=function(){return new Rt(this._private.cy,this,!0)};bt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};bt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Rt(e)};bt.$id=bt.getElementById;bt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};bt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};bt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};bt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(ot(t)){if(r.startBatch(),t.data){e.data(t.data);var a=n.data;if(e.isEdge()){var i=!1,o={},s=t.data.source,l=t.data.target;s!=null&&s!=a.source&&(o.source=""+s,i=!0),l!=null&&l!=a.target&&(o.target=""+l,i=!0),i&&(e=e.move(o))}else{var u="parent"in t.data,c=t.data.parent;u&&(c!=null||a.parent!=null)&&c!=a.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}t.position&&e.position(t.position);var f=function(g,y,p){var m=t[g];m!=null&&m!==n[g]&&(m?e[y]():e[p]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var h={data:ur(n.data),position:ur(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};h.classes="";var d=0;return n.classes.forEach(function(v){return h.classes+=d++===0?v:" "+v}),h}}};bt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};bt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new vi(t,a,!1);e.push(i)}return new Rt(t,e)};bt.copy=bt.clone;bt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],s,l=0,u=r.length;l<u;l++){var c=r[l];e&&!c.removed()||(c.isNode()?i.push(c):o.push(c))}s=i.concat(o);var f,h=function(){s.splice(f,1),f--};for(f=0;f<s.length;f++){var d=s[f],v=d._private,g=v.data;if(d.clearTraversalCache(),!(!e&&!v.removed)){if(g.id===void 0)g.id=kf();else if(Ie(g.id))g.id=""+g.id;else if(Br(g.id)||!Ke(g.id)){Tt("Can not create element with invalid string ID `"+g.id+"`"),h();continue}else if(n.hasElementWithId(g.id)){Tt("Can not create second element with ID `"+g.id+"`"),h();continue}}var y=g.id;if(d.isNode()){var p=v.position;p.x==null&&(p.x=0),p.y==null&&(p.y=0)}if(d.isEdge()){for(var m=d,E=["source","target"],T=E.length,L=!1,I=0;I<T;I++){var N=E[I],B=g[N];Ie(B)&&(B=g[N]=""+g[N]),B==null||B===""?(Tt("Can not create edge `"+y+"` with unspecified "+N),L=!0):n.hasElementWithId(B)||(Tt("Can not create edge `"+y+"` with nonexistant "+N+" `"+B+"`"),L=!0)}if(L){h();continue}var R=n.getElementById(g.source),G=n.getElementById(g.target);R.same(G)?R._private.edges.push(m):(R._private.edges.push(m),G._private.edges.push(m)),m._private.source=R,m._private.target=G}v.map=new lr,v.map.set(y,{ele:d,index:0}),v.removed=!1,e&&n.addToPool(d)}for(var z=0;z<i.length;z++){var w=i[z],D=w._private.data;Ie(D.parent)&&(D.parent=""+D.parent);var C=D.parent,P=C!=null;if(P||w._private.parent){var S=w._private.parent?n.collection().merge(w._private.parent):n.getElementById(C);if(S.empty())D.parent=void 0;else if(S[0].removed())dt("Node added with missing parent, reference to parent removed"),D.parent=void 0,w._private.parent=null;else{for(var V=!1,H=S;!H.empty();){if(w.same(H)){V=!0,D.parent=void 0;break}H=H.parent()}V||(S[0]._private.children.push(w),w._private.parent=S[0],a.hasCompoundNodes=!0)}}}if(s.length>0){for(var _=s.length===r.length?r:new Rt(n,s),K=0;K<_.length;K++){var Y=_[K];Y.isNode()||(Y.parallelEdges().clearTraversalCache(),Y.source().clearTraversalCache(),Y.target().clearTraversalCache())}var Q;a.hasCompoundNodes?Q=n.collection().merge(_).merge(_.connectedNodes()).merge(_.parent()):Q=_,Q.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?_.emitAndNotify("add"):e&&_.emit("add")}return r};bt.removed=function(){var t=this[0];return t&&t._private.removed};bt.inside=function(){var t=this[0];return t&&!t._private.removed};bt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(C){for(var P=C._private.edges,S=0;S<P.length;S++)l(P[S])}function s(C){for(var P=C._private.children,S=0;S<P.length;S++)l(P[S])}function l(C){var P=a[C.id()];e&&C.removed()||P||(a[C.id()]=!0,C.isNode()?(n.push(C),o(C),s(C)):n.unshift(C))}for(var u=0,c=r.length;u<c;u++){var f=r[u];l(f)}function h(C,P){var S=C._private.edges;Gr(S,P),C.clearTraversalCache()}function d(C){C.clearTraversalCache()}var v=[];v.ids={};function g(C,P){P=P[0],C=C[0];var S=C._private.children,V=C.id();Gr(S,P),P._private.parent=null,v.ids[V]||(v.ids[V]=!0,v.push(C))}r.dirtyCompoundBoundsCache(),e&&i.removeFromPool(n);for(var y=0;y<n.length;y++){var p=n[y];if(p.isEdge()){var m=p.source()[0],E=p.target()[0];h(m,p),h(E,p);for(var T=p.parallelEdges(),L=0;L<T.length;L++){var I=T[L];d(I),I.isBundledBezier()&&I.dirtyBoundingBoxCache()}}else{var N=p.parent();N.length!==0&&g(N,p)}e&&(p._private.removed=!0)}var B=i._private.elements;i._private.hasCompoundNodes=!1;for(var R=0;R<B.length;R++){var G=B[R];if(G.isParent()){i._private.hasCompoundNodes=!0;break}}var z=new Rt(this.cy(),n);z.size()>0&&(t?z.emitAndNotify("remove"):e&&z.emit("remove"));for(var w=0;w<v.length;w++){var D=v[w];(!e||!D.removed())&&D.updateStyle()}return z};bt.move=function(t){var e=this._private.cy,r=this,n=!1,a=!1,i=function(v){return v==null?v:""+v};if(t.source!==void 0||t.target!==void 0){var o=i(t.source),s=i(t.target),l=o!=null&&e.hasElementWithId(o),u=s!=null&&e.hasElementWithId(s);(l||u)&&(e.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var d=0;d<r.length;d++){var v=r[d],g=v._private.data;v.isEdge()&&(l&&(g.source=o),u&&(g.target=s))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var c=i(t.parent),f=c===null||e.hasElementWithId(c);if(f){var h=c===null?void 0:c;e.batch(function(){var d=r.remove(n,a);d.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var g=r[v],y=g._private.data;g.isNode()&&(y.parent=h)}d.restore(n,a)}),r.emitAndNotify("move")}}return this};[Kf,zw,Qa,kr,Nn,tE,yi,pE,dh,vh,EE,si,Ja,Pt,Fr,Gt].forEach(function(t){Je(bt,t)});var ME={add:function(e){var r,n=this;if(Zt(e)){var a=e;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var s=a[o];i.push(s.json())}r=new Rt(n,i)}}else if(pt(e)){var l=e;r=new Rt(n,l)}else if(ot(e)&&(pt(e.nodes)||pt(e.edges))){for(var u=e,c=[],f=["nodes","edges"],h=0,d=f.length;h<d;h++){var v=f[h],g=u[v];if(pt(g))for(var y=0,p=g.length;y<p;y++){var m=Je({group:v},g[y]);c.push(m)}}r=new Rt(n,c)}else{var E=e;r=new vi(n,E).collection()}return r},remove:function(e){if(!Zt(e)){if(Ke(e)){var r=e;e=this.$(r)}}return e.remove()}};function AE(t,e,r,n){var a=4,i=.001,o=1e-7,s=10,l=11,u=1/(l-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var h=c?new Float32Array(l):new Array(l);function d(G,z){return 1-3*z+3*G}function v(G,z){return 3*z-6*G}function g(G){return 3*G}function y(G,z,w){return((d(z,w)*G+v(z,w))*G+g(z))*G}function p(G,z,w){return 3*d(z,w)*G*G+2*v(z,w)*G+g(z)}function m(G,z){for(var w=0;w<a;++w){var D=p(z,t,r);if(D===0)return z;var C=y(z,t,r)-G;z-=C/D}return z}function E(){for(var G=0;G<l;++G)h[G]=y(G*u,t,r)}function T(G,z,w){var D,C,P=0;do C=z+(w-z)/2,D=y(C,t,r)-G,D>0?w=C:z=C;while(Math.abs(D)>o&&++P<s);return C}function L(G){for(var z=0,w=1,D=l-1;w!==D&&h[w]<=G;++w)z+=u;--w;var C=(G-h[w])/(h[w+1]-h[w]),P=z+C*u,S=p(P,t,r);return S>=i?m(G,P):S===0?P:T(G,z,z+u)}var I=!1;function N(){I=!0,(t!==e||r!==n)&&E()}var B=function(z){return I||N(),t===e&&r===n?z:z===0?0:z===1?1:y(L(z),e,n)};B.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var R="generateBezier("+[t,e,r,n]+")";return B.toString=function(){return R},B}var NE=function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:t(o)}}function r(n,a){var i={dx:n.v,dv:t(n)},o=e(n,a*.5,i),s=e(n,a*.5,o),l=e(n,a,s),u=1/6*(i.dx+2*(o.dx+s.dx)+l.dx),c=1/6*(i.dv+2*(o.dv+s.dv)+l.dv);return n.x=n.x+u*a,n.v=n.v+c*a,n}return function n(a,i,o){var s={x:-1,v:0,tension:null,friction:null},l=[0],u=0,c=1/1e4,f=16/1e3,h,d,v;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,s.tension=a,s.friction=i,h=o!==null,h?(u=n(a,i),d=u/o*f):d=f;v=r(v||s,d),l.push(1+v.x),u+=16,Math.abs(v.x)>c&&Math.abs(v.v)>c;);return h?function(g){return l[g*(l.length-1)|0]}:u}}(),mt=function(e,r,n,a){var i=AE(e,r,n,a);return function(o,s,l){return o+(s-o)*i(l)}},ja={linear:function(e,r,n){return e+(r-e)*n},ease:mt(.25,.1,.25,1),"ease-in":mt(.42,0,1,1),"ease-out":mt(0,0,.58,1),"ease-in-out":mt(.42,0,.58,1),"ease-in-sine":mt(.47,0,.745,.715),"ease-out-sine":mt(.39,.575,.565,1),"ease-in-out-sine":mt(.445,.05,.55,.95),"ease-in-quad":mt(.55,.085,.68,.53),"ease-out-quad":mt(.25,.46,.45,.94),"ease-in-out-quad":mt(.455,.03,.515,.955),"ease-in-cubic":mt(.55,.055,.675,.19),"ease-out-cubic":mt(.215,.61,.355,1),"ease-in-out-cubic":mt(.645,.045,.355,1),"ease-in-quart":mt(.895,.03,.685,.22),"ease-out-quart":mt(.165,.84,.44,1),"ease-in-out-quart":mt(.77,0,.175,1),"ease-in-quint":mt(.755,.05,.855,.06),"ease-out-quint":mt(.23,1,.32,1),"ease-in-out-quint":mt(.86,0,.07,1),"ease-in-expo":mt(.95,.05,.795,.035),"ease-out-expo":mt(.19,1,.22,1),"ease-in-out-expo":mt(1,0,0,1),"ease-in-circ":mt(.6,.04,.98,.335),"ease-out-circ":mt(.075,.82,.165,1),"ease-in-out-circ":mt(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return ja.linear;var a=NE(e,r,n);return function(i,o,s){return i+(o-i)*a(s)}},"cubic-bezier":mt};function tf(t,e,r,n,a){if(n===1||e===r)return r;var i=a(e,r,n);return t==null||((t.roundValue||t.color)&&(i=Math.round(i)),t.min!==void 0&&(i=Math.max(i,t.min)),t.max!==void 0&&(i=Math.min(i,t.max))),i}function rf(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function bn(t,e,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=rf(t,a),s=rf(e,a);if(Ie(o)&&Ie(s))return tf(i,o,s,r,n);if(pt(o)&&pt(s)){for(var l=[],u=0;u<s.length;u++){var c=o[u],f=s[u];if(c!=null&&f!=null){var h=tf(i,c,f,r,n);l.push(h)}else l.push(f)}return l}}function OE(t,e,r,n){var a=!n,i=t._private,o=e._private,s=o.easing,l=o.startTime,u=n?t:t.cy(),c=u.style();if(!o.easingImpl)if(s==null)o.easingImpl=ja.linear;else{var f;if(Ke(s)){var h=c.parse("transition-timing-function",s);f=h.value}else f=s;var d,v;Ke(f)?(d=f,v=[]):(d=f[1],v=f.slice(2).map(function(_){return+_})),v.length>0?(d==="spring"&&v.push(o.duration),o.easingImpl=ja[d].apply(null,v)):o.easingImpl=ja[d]}var g=o.easingImpl,y;if(o.duration===0?y=1:y=(r-l)/o.duration,o.applying&&(y=o.progress),y<0?y=0:y>1&&(y=1),o.delay==null){var p=o.startPosition,m=o.position;if(m&&a&&!t.locked()){var E={};$n(p.x,m.x)&&(E.x=bn(p.x,m.x,y,g)),$n(p.y,m.y)&&(E.y=bn(p.y,m.y,y,g)),t.position(E)}var T=o.startPan,L=o.pan,I=i.pan,N=L!=null&&n;N&&($n(T.x,L.x)&&(I.x=bn(T.x,L.x,y,g)),$n(T.y,L.y)&&(I.y=bn(T.y,L.y,y,g)),t.emit("pan"));var B=o.startZoom,R=o.zoom,G=R!=null&&n;G&&($n(B,R)&&(i.zoom=ia(i.minZoom,bn(B,R,y,g),i.maxZoom)),t.emit("zoom")),(N||G)&&t.emit("viewport");var z=o.style;if(z&&z.length>0&&a){for(var w=0;w<z.length;w++){var D=z[w],C=D.name,P=D,S=o.startStyle[C],V=c.properties[S.name],H=bn(S,P,y,g,V);c.overrideBypass(t,C,H)}t.emit("style")}}return o.progress=y,y}function $n(t,e){return t==null||e==null?!1:Ie(t)&&Ie(e)?!0:!!(t&&e)}function IE(t,e,r,n){var a=e._private;a.started=!0,a.startTime=r-a.progress*a.duration}function nf(t,e){var r=e._private.aniEles,n=[];function a(c,f){var h=c._private,d=h.animation.current,v=h.animation.queue,g=!1;if(d.length===0){var y=v.shift();y&&d.push(y)}for(var p=function(I){for(var N=I.length-1;N>=0;N--){var B=I[N];B()}I.splice(0,I.length)},m=d.length-1;m>=0;m--){var E=d[m],T=E._private;if(T.stopped){d.splice(m,1),T.hooked=!1,T.playing=!1,T.started=!1,p(T.frames);continue}!T.playing&&!T.applying||(T.playing&&T.applying&&(T.applying=!1),T.started||IE(c,E,t),OE(c,E,t,f),T.applying&&(T.applying=!1),p(T.frames),T.step!=null&&T.step(t),E.completed()&&(d.splice(m,1),T.hooked=!1,T.playing=!1,T.started=!1,p(T.completes)),g=!0)}return!f&&d.length===0&&v.length===0&&n.push(c),g}for(var i=!1,o=0;o<r.length;o++){var s=r[o],l=a(s);i=i||l}var u=a(e,!0);(i||u)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var PE={animate:ht.animate(),animation:ht.animation(),animated:ht.animated(),clearQueue:ht.clearQueue(),delay:ht.delay(),delayAnimation:ht.delayAnimation(),stop:ht.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&ai(function(i){nf(i,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){nf(o,e)},n.beforeRenderPriorities.animations):r()}},RE={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var a=r.qualifier;return a!=null?e!==n.target&&va(n.target)&&a.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},$a=function(e){return Ke(e)?new zr(e):e},yh={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new mi(RE,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,$a(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,$a(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,$a(r),n),this},once:function(e,r,n){return this.emitter().one(e,$a(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};ht.eventAliasesOn(yh);var Eo={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Eo.jpeg=Eo.jpg;var ei={layout:function(e){var r=this;if(e==null){Tt("Layout options must be specified to make a layout");return}if(e.name==null){Tt("A `name` must be specified to make a layout");return}var n=e.name,a=r.extension("layout",n);if(a==null){Tt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;Ke(e.eles)?i=r.$(e.eles):i=e.eles!=null?e.eles:r.$();var o=new a(Je({},e,{cy:r,eles:i}));return o}};ei.createLayout=ei.makeLayout=ei.layout;var kE={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var a=e.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),a=0;a<n.length;a++){var i=n[a],o=e[i],s=r.getElementById(i);s.data(o)}})}},FE=kt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),xo={renderTo:function(e,r,n,a){var i=this._private.renderer;return i.renderTo(e,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){Tt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&dt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=FE(e);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};xo.invalidateDimensions=xo.resize;var ti={collection:function(e,r){return Ke(e)?this.$(e):Zt(e)?e.collection():pt(e)?(r||(r={}),new Rt(this,e,r.unique,r.removed)):new Rt(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};ti.elements=ti.filter=ti.$;var Ut={},jn="t",BE="f";Ut.apply=function(t){for(var e=this,r=e._private,n=r.cy,a=n.collection(),i=0;i<t.length;i++){var o=t[i],s=e.getContextMeta(o);if(!s.empty){var l=e.getContextStyle(s),u=e.applyContextStyle(s,l,o);o._private.appliedInitStyle?e.updateTransitions(o,u.diffProps):o._private.appliedInitStyle=!0;var c=e.updateStyleHints(o);c&&a.push(o)}}return a};Ut.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=t+"-"+e,i=n[a];if(i)return i;for(var o=[],s={},l=0;l<r.length;l++){var u=r[l],c=t[l]===jn,f=e[l]===jn,h=c!==f,d=u.mappedProperties.length>0;if(h||f&&d){var v=void 0;h&&d||h?v=u.properties:d&&(v=u.mappedProperties);for(var g=0;g<v.length;g++){for(var y=v[g],p=y.name,m=!1,E=l+1;E<r.length;E++){var T=r[E],L=e[E]===jn;if(L&&(m=T.properties[y.name]!=null,m))break}!s[p]&&!m&&(s[p]=!0,o.push(p))}}}return n[a]=o,o};Ut.getContextMeta=function(t){for(var e=this,r="",n,a=t._private.styleCxtKey||"",i=0;i<e.length;i++){var o=e[i],s=o.selector&&o.selector.matches(t);s?r+=jn:r+=BE}return n=e.getPropertiesDiff(a,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Ut.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var a={_private:{key:e}},i=0;i<r.length;i++){var o=r[i],s=e[i]===jn;if(s)for(var l=0;l<o.properties.length;l++){var u=o.properties[l];a[u.name]=u}}return n[e]=a,a};Ut.applyContextStyle=function(t,e,r){for(var n=this,a=t.diffPropNames,i={},o=n.types,s=0;s<a.length;s++){var l=a[s],u=e[l],c=r.pstyle(l);if(!u)if(c)c.bypass?u={name:l,deleteBypassed:!0}:u={name:l,delete:!0};else continue;if(c!==u){if(u.mapped===o.fn&&c!=null&&c.mapping!=null&&c.mapping.value===u.value){var f=c.mapping,h=f.fnValue=u.value(r);if(h===f.prevFnValue)continue}var d=i[l]={prev:c};n.applyParsedProperty(r,u),d.next=r.pstyle(l),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:i}};Ut.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(ae,le,De){return r.getPropertiesHash(ae,le,De)},o=e.styleKey;if(t.removed())return!1;var s=e.group==="nodes",l=t._private.style;n=Object.keys(l);for(var u=0;u<a.length;u++){var c=a[u];e.styleKeys[c]=[En,Kn]}for(var f=function(ae,le){return e.styleKeys[le][0]=ra(ae,e.styleKeys[le][0])},h=function(ae,le){return e.styleKeys[le][1]=na(ae,e.styleKeys[le][1])},d=function(ae,le){f(ae,le),h(ae,le)},v=function(ae,le){for(var De=0;De<ae.length;De++){var Re=ae.charCodeAt(De);f(Re,le),h(Re,le)}},g=2e9,y=function(ae){return-128<ae&&ae<128&&Math.floor(ae)!==ae?g-(ae*1024|0):ae},p=0;p<n.length;p++){var m=n[p],E=l[m];if(E!=null){var T=this.properties[m],L=T.type,I=T.groupKey,N=void 0;T.hashOverride!=null?N=T.hashOverride(t,E):E.pfValue!=null&&(N=E.pfValue);var B=T.enums==null?E.value:null,R=N!=null,G=B!=null,z=R||G,w=E.units;if(L.number&&z&&!L.multiple){var D=R?N:B;d(y(D),I),!R&&w!=null&&v(w,I)}else v(E.strValue,I)}}for(var C=[En,Kn],P=0;P<a.length;P++){var S=a[P],V=e.styleKeys[S];C[0]=ra(V[0],C[0]),C[1]=na(V[1],C[1])}e.styleKey=Q0(C[0],C[1]);var H=e.styleKeys;e.labelDimsKey=Or(H.labelDimensions);var _=i(t,["label"],H.labelDimensions);if(e.labelKey=Or(_),e.labelStyleKey=Or(za(H.commonLabel,_)),!s){var K=i(t,["source-label"],H.labelDimensions);e.sourceLabelKey=Or(K),e.sourceLabelStyleKey=Or(za(H.commonLabel,K));var Y=i(t,["target-label"],H.labelDimensions);e.targetLabelKey=Or(Y),e.targetLabelStyleKey=Or(za(H.commonLabel,Y))}if(s){var Q=e.styleKeys,ee=Q.nodeBody,Z=Q.nodeBorder,te=Q.backgroundImage,W=Q.compound,k=Q.pie,X=[ee,Z,te,W,k].filter(function(J){return J!=null}).reduce(za,[En,Kn]);e.nodeKey=Or(X),e.hasPie=k!=null&&k[0]!==En&&k[1]!==Kn}return o!==e.styleKey};Ut.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null};Ut.applyParsedProperty=function(t,e){var r=this,n=e,a=t._private.style,i,o=r.types,s=r.properties[n.name].type,l=n.bypass,u=a[n.name],c=u&&u.bypass,f=t._private,h="mapping",d=function(ee){return ee==null?null:ee.pfValue!=null?ee.pfValue:ee.value},v=function(){var ee=d(u),Z=d(n);r.checkTriggers(t,n.name,ee,Z)};if(n&&n.name.substr(0,3)==="pie"&&dt("The pie style properties are deprecated.  Create charts using background images instead."),e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",l)),n.delete)return a[n.name]=void 0,v(),!0;if(n.deleteBypassed)return u?u.bypass?(u.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return u?u.bypass?(a[n.name]=u.bypassed,v(),!0):!1:(v(),!0);var g=function(){dt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var y=n.field.split("."),p=f.data,m=0;m<y.length&&p;m++){var E=y[m];p=p[E]}if(p==null)return g(),!1;var T;if(Ie(p)){var L=n.fieldMax-n.fieldMin;L===0?T=0:T=(p-n.fieldMin)/L}else return dt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+p+"` for `"+t.id()+"` is non-numeric)"),!1;if(T<0?T=0:T>1&&(T=1),s.color){var I=n.valueMin[0],N=n.valueMax[0],B=n.valueMin[1],R=n.valueMax[1],G=n.valueMin[2],z=n.valueMax[2],w=n.valueMin[3]==null?1:n.valueMin[3],D=n.valueMax[3]==null?1:n.valueMax[3],C=[Math.round(I+(N-I)*T),Math.round(B+(R-B)*T),Math.round(G+(z-G)*T),Math.round(w+(D-w)*T)];i={bypass:n.bypass,name:n.name,value:C,strValue:"rgb("+C[0]+", "+C[1]+", "+C[2]+")"}}else if(s.number){var P=n.valueMin+(n.valueMax-n.valueMin)*T;i=this.parse(n.name,P,n.bypass,h)}else return!1;if(!i)return g(),!1;i.mapping=n,n=i;break}case o.data:{for(var S=n.field.split("."),V=f.data,H=0;H<S.length&&V;H++){var _=S[H];V=V[_]}if(V!=null&&(i=this.parse(n.name,V,n.bypass,h)),!i)return g(),!1;i.mapping=n,n=i;break}case o.fn:{var K=n.value,Y=n.fnValue!=null?n.fnValue:K(t);if(n.prevFnValue=Y,Y==null)return dt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(i=this.parse(n.name,Y,n.bypass,h),!i)return dt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;i.mapping=ur(n),n=i;break}case void 0:break;default:return!1}return l?(c?n.bypassed=u.bypassed:n.bypassed=u,a[n.name]=n):c?u.bypassed=n:a[n.name]=n,v(),!0};Ut.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var s=i[o],l=a[s];l!=null&&(l.bypass?l.bypassed=null:a[s]=null)}}};Ut.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};Ut.updateTransitions=function(t,e){var r=this,n=t._private,a=t.pstyle("transition-property").value,i=t.pstyle("transition-duration").pfValue,o=t.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var s={},l=!1,u=0;u<a.length;u++){var c=a[u],f=t.pstyle(c),h=e[c];if(h){var d=h.prev,v=d,g=h.next!=null?h.next:f,y=!1,p=void 0,m=1e-6;v&&(Ie(v.pfValue)&&Ie(g.pfValue)?(y=g.pfValue-v.pfValue,p=v.pfValue+m*y):Ie(v.value)&&Ie(g.value)?(y=g.value-v.value,p=v.value+m*y):pt(v.value)&&pt(g.value)&&(y=v.value[0]!==g.value[0]||v.value[1]!==g.value[1]||v.value[2]!==g.value[2],p=v.strValue),y&&(s[c]=g.strValue,this.applyBypass(t,c,p),l=!0))}}if(!l)return;n.transitioning=!0,new In(function(E){o>0?t.delayAnimation(o).play().promise().then(E):E()}).then(function(){return t.animation({style:s,duration:i,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,a),t.emitAndNotify("style"),n.transitioning=!1)};Ut.checkTrigger=function(t,e,r,n,a,i){var o=this.properties[e],s=a(o);s!=null&&s(r,n)&&i(o)};Ut.checkZOrderTrigger=function(t,e,r,n){var a=this;this.checkTrigger(t,e,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",t)})};Ut.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(a){return a.triggersBounds},function(a){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&(e==="curve-style"&&(r==="bezier"||n==="bezier")||e==="display"&&(r==="none"||n==="none"))&&t.parallelEdges().forEach(function(i){i.isBundledBezier()&&i.dirtyBoundingBoxCache()})})};Ut.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n)};var ya={};ya.applyBypass=function(t,e,r,n){var a=this,i=[],o=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var s=0;s<a.properties.length;s++){var l=a.properties[s],u=l.name,c=this.parse(u,r,!0);c&&i.push(c)}}else if(Ke(e)){var f=this.parse(e,r,!0);f&&i.push(f)}else if(ot(e)){var h=e;n=r;for(var d=Object.keys(h),v=0;v<d.length;v++){var g=d[v],y=h[g];if(y===void 0&&(y=h[di(g)]),y!==void 0){var p=this.parse(g,y,!0);p&&i.push(p)}}}else return!1;if(i.length===0)return!1;for(var m=!1,E=0;E<t.length;E++){for(var T=t[E],L={},I=void 0,N=0;N<i.length;N++){var B=i[N];if(n){var R=T.pstyle(B.name);I=L[B.name]={prev:R}}m=this.applyParsedProperty(T,ur(B))||m,n&&(I.next=T.pstyle(B.name))}m&&this.updateStyleHints(T),n&&this.updateTransitions(T,L,o)}return m};ya.overrideBypass=function(t,e,r){e=No(e);for(var n=0;n<t.length;n++){var a=t[n],i=a._private.style[e],o=this.properties[e].type,s=o.color,l=o.mutiple,u=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,e,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),s?i.strValue="rgb("+r.join(",")+")":l?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,e,u,r)}};ya.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};ya.removeBypasses=function(t,e,r){for(var n=!0,a=0;a<t.length;a++){for(var i=t[a],o={},s=0;s<e.length;s++){var l=e[s],u=this.properties[l],c=i.pstyle(u.name);if(!(!c||!c.bypass)){var f="",h=this.parse(l,f,!0),d=o[u.name]={prev:c};this.applyParsedProperty(i,h),d.next=i.pstyle(u.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};var Vo={};Vo.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};Vo.containerCss=function(t){var e=this._private.cy,r=e.container();if(xt&&r&&xt.getComputedStyle)return xt.getComputedStyle(r).getPropertyValue(t)};var cr={};cr.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};cr.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(t,i.name,e);o!=null&&(n[i.name]=o,n[di(i.name)]=o)}return n}};cr.getIndexedStyle=function(t,e,r,n){var a=t.pstyle(e)[r][n];return a??t.cy().style().getDefaultProperty(e)[r][0]};cr.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var a=n.properties[e];a.alias&&(a=a.pointsTo);var i=a.type,o=t.pstyle(a.name);if(o){var s=o.value,l=o.units,u=o.strValue;if(r&&i.number&&s!=null&&Ie(s)){var c=t.cy().zoom(),f=function(y){return y*c},h=function(y,p){return f(y)+p},d=pt(s),v=d?l.every(function(g){return g!=null}):l!=null;return v?d?s.map(function(g,y){return h(g,l[y])}).join(" "):h(s,l):d?s.map(function(g){return Ke(g)?g:""+f(g)}).join(" "):""+f(s)}else if(u!=null)return u}return null}};cr.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var a=e[n],i=a.name,o=t.pstyle(i);o!==void 0&&(ot(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r};cr.getPropsList=function(t){var e=this,r=[],n=t,a=e.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],l=n[s],u=a[s]||a[No(s)],c=this.parse(u.name,l);c&&r.push(c)}return r};cr.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),a,i,o,s,l,u;for(l=0;l<e.length;l++)if(a=e[l],i=t.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=ra(s,n[0]),n[1]=na(s,n[1]);else for(o=i.strValue,u=0;u<o.length;u++)s=o.charCodeAt(u),n[0]=ra(s,n[0]),n[1]=na(s,n[1]);return n};cr.getPropertiesHash=cr.getNonDefaultPropertiesHash;var Ei={};Ei.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);e.selector(a);for(var s=0;s<o.length;s++){var l=o[s],u=i[l];e.css(l,u)}}return e};Ei.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Ei.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var s=a[o];i[s.name]=s.strValue}t.push({selector:n?n.toString():"core",style:i})}return t};var qo={};qo.appendFromString=function(t){var e=this,r=this,n=""+t,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>a.length?n=n.substr(a.length):n=""}function l(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var u=n.match(/^\s*$/);if(u)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){dt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=c[0];var f=c[1];if(f!=="core"){var h=new zr(f);if(h.invalid){dt("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),s();continue}}var d=c[2],v=!1;i=d;for(var g=[];;){var y=i.match(/^\s*$/);if(y)break;var p=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!p){dt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+d),v=!0;break}o=p[0];var m=p[1],E=p[2],T=e.properties[m];if(!T){dt("Skipping property: Invalid property name in: "+o),l();continue}var L=r.parse(m,E);if(!L){dt("Skipping property: Invalid property definition in: "+o),l();continue}g.push({name:m,val:E}),l()}if(v){s();break}r.selector(f);for(var I=0;I<g.length;I++){var N=g[I];r.css(N.name,N.val)}s()}return r};qo.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var It={};(function(){var t=Dt,e=G0,r=U0,n=V0,a=q0,i=function(X){return"^"+X+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function(X){var J=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+a;return"^"+X+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+J+")\\s*\\,\\s*("+J+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];It.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(X,J){switch(X.length){case 2:return J[0]!=="deg"&&J[0]!=="rad"&&J[1]!=="deg"&&J[1]!=="rad";case 1:return Ke(X[0])||J[0]==="deg"||J[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(X){var J=X.length;return J===1||J===2||J===4}}};var l={zeroNonZero:function(X,J){return(X==null||J==null)&&X!==J||X==0&&J!=0?!0:X!=0&&J==0},any:function(X,J){return X!=J},emptyNonEmpty:function(X,J){var ae=Br(X),le=Br(J);return ae&&!le||!ae&&le}},u=It.types,c=[{name:"label",type:u.text,triggersBounds:l.any,triggersZOrder:l.emptyNonEmpty},{name:"text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any}],f=[{name:"source-label",type:u.text,triggersBounds:l.any},{name:"source-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"source-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"source-text-offset",type:u.size,triggersBounds:l.any}],h=[{name:"target-label",type:u.text,triggersBounds:l.any},{name:"target-text-rotation",type:u.textRotation,triggersBounds:l.any},{name:"target-text-margin-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-margin-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"target-text-offset",type:u.size,triggersBounds:l.any}],d=[{name:"font-family",type:u.fontFamily,triggersBounds:l.any},{name:"font-style",type:u.fontStyle,triggersBounds:l.any},{name:"font-weight",type:u.fontWeight,triggersBounds:l.any},{name:"font-size",type:u.size,triggersBounds:l.any},{name:"text-transform",type:u.textTransform,triggersBounds:l.any},{name:"text-wrap",type:u.textWrap,triggersBounds:l.any},{name:"text-overflow-wrap",type:u.textOverflowWrap,triggersBounds:l.any},{name:"text-max-width",type:u.size,triggersBounds:l.any},{name:"text-outline-width",type:u.size,triggersBounds:l.any},{name:"line-height",type:u.positiveNumber,triggersBounds:l.any}],v=[{name:"text-valign",type:u.valign,triggersBounds:l.any},{name:"text-halign",type:u.halign,triggersBounds:l.any},{name:"color",type:u.color},{name:"text-outline-color",type:u.color},{name:"text-outline-opacity",type:u.zeroOneNumber},{name:"text-background-color",type:u.color},{name:"text-background-opacity",type:u.zeroOneNumber},{name:"text-background-padding",type:u.size,triggersBounds:l.any},{name:"text-border-opacity",type:u.zeroOneNumber},{name:"text-border-color",type:u.color},{name:"text-border-width",type:u.size,triggersBounds:l.any},{name:"text-border-style",type:u.borderStyle,triggersBounds:l.any},{name:"text-background-shape",type:u.textBackgroundShape,triggersBounds:l.any},{name:"text-justification",type:u.justification}],g=[{name:"events",type:u.bool},{name:"text-events",type:u.bool}],y=[{name:"display",type:u.display,triggersZOrder:l.any,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:u.visibility,triggersZOrder:l.any},{name:"opacity",type:u.zeroOneNumber,triggersZOrder:l.zeroNonZero},{name:"text-opacity",type:u.zeroOneNumber},{name:"min-zoomed-font-size",type:u.size},{name:"z-compound-depth",type:u.zCompoundDepth,triggersZOrder:l.any},{name:"z-index-compare",type:u.zIndexCompare,triggersZOrder:l.any},{name:"z-index",type:u.nonNegativeInt,triggersZOrder:l.any}],p=[{name:"overlay-padding",type:u.size,triggersBounds:l.any},{name:"overlay-color",type:u.color},{name:"overlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"overlay-shape",type:u.overlayShape,triggersBounds:l.any}],m=[{name:"underlay-padding",type:u.size,triggersBounds:l.any},{name:"underlay-color",type:u.color},{name:"underlay-opacity",type:u.zeroOneNumber,triggersBounds:l.zeroNonZero},{name:"underlay-shape",type:u.overlayShape,triggersBounds:l.any}],E=[{name:"transition-property",type:u.propList},{name:"transition-duration",type:u.time},{name:"transition-delay",type:u.time},{name:"transition-timing-function",type:u.easing}],T=function(X,J){return J.value==="label"?-X.poolIndex():J.pfValue},L=[{name:"height",type:u.nodeSize,triggersBounds:l.any,hashOverride:T},{name:"width",type:u.nodeSize,triggersBounds:l.any,hashOverride:T},{name:"shape",type:u.nodeShape,triggersBounds:l.any},{name:"shape-polygon-points",type:u.polygonPointList,triggersBounds:l.any},{name:"background-color",type:u.color},{name:"background-fill",type:u.fill},{name:"background-opacity",type:u.zeroOneNumber},{name:"background-blacken",type:u.nOneOneNumber},{name:"background-gradient-stop-colors",type:u.colors},{name:"background-gradient-stop-positions",type:u.percentages},{name:"background-gradient-direction",type:u.gradientDirection},{name:"padding",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"padding-relative-to",type:u.paddingRelativeTo,triggersBounds:l.any},{name:"bounds-expansion",type:u.boundsExpansion,triggersBounds:l.any}],I=[{name:"border-color",type:u.color},{name:"border-opacity",type:u.zeroOneNumber},{name:"border-width",type:u.size,triggersBounds:l.any},{name:"border-style",type:u.borderStyle}],N=[{name:"background-image",type:u.urls},{name:"background-image-crossorigin",type:u.bgCrossOrigin},{name:"background-image-opacity",type:u.zeroOneNumbers},{name:"background-image-containment",type:u.bgContainment},{name:"background-image-smoothing",type:u.bools},{name:"background-position-x",type:u.bgPos},{name:"background-position-y",type:u.bgPos},{name:"background-width-relative-to",type:u.bgRelativeTo},{name:"background-height-relative-to",type:u.bgRelativeTo},{name:"background-repeat",type:u.bgRepeat},{name:"background-fit",type:u.bgFit},{name:"background-clip",type:u.bgClip},{name:"background-width",type:u.bgWH},{name:"background-height",type:u.bgWH},{name:"background-offset-x",type:u.bgPos},{name:"background-offset-y",type:u.bgPos}],B=[{name:"position",type:u.position,triggersBounds:l.any},{name:"compound-sizing-wrt-labels",type:u.compoundIncludeLabels,triggersBounds:l.any},{name:"min-width",type:u.size,triggersBounds:l.any},{name:"min-width-bias-left",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-width-bias-right",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height",type:u.size,triggersBounds:l.any},{name:"min-height-bias-top",type:u.sizeMaybePercent,triggersBounds:l.any},{name:"min-height-bias-bottom",type:u.sizeMaybePercent,triggersBounds:l.any}],R=[{name:"line-style",type:u.lineStyle},{name:"line-color",type:u.color},{name:"line-fill",type:u.fill},{name:"line-cap",type:u.lineCap},{name:"line-opacity",type:u.zeroOneNumber},{name:"line-dash-pattern",type:u.numbers},{name:"line-dash-offset",type:u.number},{name:"line-gradient-stop-colors",type:u.colors},{name:"line-gradient-stop-positions",type:u.percentages},{name:"curve-style",type:u.curveStyle,triggersBounds:l.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:u.zeroOneNumber,triggersBounds:l.any},{name:"source-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"target-endpoint",type:u.edgeEndpoint,triggersBounds:l.any},{name:"control-point-step-size",type:u.size,triggersBounds:l.any},{name:"control-point-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"control-point-weights",type:u.numbers,triggersBounds:l.any},{name:"segment-distances",type:u.bidirectionalSizes,triggersBounds:l.any},{name:"segment-weights",type:u.numbers,triggersBounds:l.any},{name:"taxi-turn",type:u.bidirectionalSizeMaybePercent,triggersBounds:l.any},{name:"taxi-turn-min-distance",type:u.size,triggersBounds:l.any},{name:"taxi-direction",type:u.axisDirection,triggersBounds:l.any},{name:"edge-distances",type:u.edgeDistances,triggersBounds:l.any},{name:"arrow-scale",type:u.positiveNumber,triggersBounds:l.any},{name:"loop-direction",type:u.angle,triggersBounds:l.any},{name:"loop-sweep",type:u.angle,triggersBounds:l.any},{name:"source-distance-from-node",type:u.size,triggersBounds:l.any},{name:"target-distance-from-node",type:u.size,triggersBounds:l.any}],G=[{name:"ghost",type:u.bool,triggersBounds:l.any},{name:"ghost-offset-x",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-offset-y",type:u.bidirectionalSize,triggersBounds:l.any},{name:"ghost-opacity",type:u.zeroOneNumber}],z=[{name:"selection-box-color",type:u.color},{name:"selection-box-opacity",type:u.zeroOneNumber},{name:"selection-box-border-color",type:u.color},{name:"selection-box-border-width",type:u.size},{name:"active-bg-color",type:u.color},{name:"active-bg-opacity",type:u.zeroOneNumber},{name:"active-bg-size",type:u.size},{name:"outside-texture-bg-color",type:u.color},{name:"outside-texture-bg-opacity",type:u.zeroOneNumber}],w=[];It.pieBackgroundN=16,w.push({name:"pie-size",type:u.sizeMaybePercent});for(var D=1;D<=It.pieBackgroundN;D++)w.push({name:"pie-"+D+"-background-color",type:u.color}),w.push({name:"pie-"+D+"-background-size",type:u.percent}),w.push({name:"pie-"+D+"-background-opacity",type:u.zeroOneNumber});var C=[],P=It.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:u.arrowShape,triggersBounds:l.any},{name:"arrow-color",type:u.color},{name:"arrow-fill",type:u.arrowFill}].forEach(function(k){P.forEach(function(X){var J=X+"-"+k.name,ae=k.type,le=k.triggersBounds;C.push({name:J,type:ae,triggersBounds:le})})},{});var S=It.properties=[].concat(g,E,y,p,m,G,v,d,c,f,h,L,I,N,w,B,R,C,z),V=It.propertyGroups={behavior:g,transition:E,visibility:y,overlay:p,underlay:m,ghost:G,commonLabel:v,labelDimensions:d,mainLabel:c,sourceLabel:f,targetLabel:h,nodeBody:L,nodeBorder:I,backgroundImage:N,pie:w,compound:B,edgeLine:R,edgeArrow:C,core:z},H=It.propertyGroupNames={},_=It.propertyGroupKeys=Object.keys(V);_.forEach(function(k){H[k]=V[k].map(function(X){return X.name}),V[k].forEach(function(X){return X.groupKey=k})});var K=It.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];It.propertyNames=S.map(function(k){return k.name});for(var Y=0;Y<S.length;Y++){var Q=S[Y];S[Q.name]=Q}for(var ee=0;ee<K.length;ee++){var Z=K[ee],te=S[Z.pointsTo],W={name:Z.name,alias:!0,pointsTo:te};S.push(W),S[Z.name]=W}})();It.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};It.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=Je({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(l,u){for(var c=1;c<=It.pieBackgroundN;c++){var f=u.name.replace("{{i}}",c),h=u.value;l[f]=h}return l},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce(function(l,u){return It.arrowPrefixes.forEach(function(c){var f=c+"-"+u.name,h=u.value;l[f]=h}),l},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=e[i],s=this.parse(i,o);r[i]=s}}return t.defaultProperties=r,t.defaultProperties};It.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var xi={};xi.parse=function(t,e,r,n){var a=this;if(Ct(e))return a.parseImplWarn(t,e,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+e,l=If(t,s,o,i),u=a.propCache=a.propCache||[],c;return(c=u[l])||(c=u[l]=a.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(c=ur(c),c&&(c.value=ur(c.value))),c};xi.parseImplWarn=function(t,e,r,n){var a=this.parseImpl(t,e,r,n);return!a&&e!=null&&dt("The style property `".concat(t,": ").concat(e,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&e==="label"&&dt("The style value of `label` is deprecated for `"+a.name+"`"),a};xi.parseImpl=function(t,e,r,n){var a=this;t=No(t);var i=a.properties[t],o=e,s=a.types;if(!i||e===void 0)return null;i.alias&&(i=i.pointsTo,t=i.name);var l=Ke(e);l&&(e=e.trim());var u=i.type;if(!u)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(Ct(e))return{name:t,value:e,strValue:"fn",mapped:s.fn,bypass:r};var c,f;if(!(!l||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(s.data.regex).exec(e))){if(r)return!1;var h=s.data;return{name:t,value:c,strValue:""+e,mapped:h,field:c[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(s.mapData.regex).exec(e))){if(r||u.multiple)return!1;var d=s.mapData;if(!(u.color||u.number))return!1;var v=this.parse(t,f[4]);if(!v||v.mapped)return!1;var g=this.parse(t,f[5]);if(!g||g.mapped)return!1;if(v.pfValue===g.pfValue||v.strValue===g.strValue)return dt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+v.strValue+"`"),this.parse(t,v.strValue);if(u.color){var y=v.value,p=g.value,m=y[0]===p[0]&&y[1]===p[1]&&y[2]===p[2]&&(y[3]===p[3]||(y[3]==null||y[3]===1)&&(p[3]==null||p[3]===1));if(m)return!1}return{name:t,value:f,strValue:""+e,mapped:d,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:v.value,valueMax:g.value,bypass:r}}}if(u.multiple&&n!=="multiple"){var E;if(l?E=e.split(/\s+/):pt(e)?E=e:E=[e],u.evenMultiple&&E.length%2!==0)return null;for(var T=[],L=[],I=[],N="",B=!1,R=0;R<E.length;R++){var G=a.parse(t,E[R],r,"multiple");B=B||Ke(G.value),T.push(G.value),I.push(G.pfValue!=null?G.pfValue:G.value),L.push(G.units),N+=(R>0?" ":"")+G.strValue}return u.validate&&!u.validate(T,L)?null:u.singleEnum&&B?T.length===1&&Ke(T[0])?{name:t,value:T[0],strValue:T[0],bypass:r}:null:{name:t,value:T,pfValue:I,strValue:N,bypass:r,units:L}}var z=function(){for(var J=0;J<u.enums.length;J++){var ae=u.enums[J];if(ae===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(u.number){var w,D="px";if(u.units&&(w=u.units),u.implicitUnits&&(D=u.implicitUnits),!u.unitless)if(l){var C="px|em"+(u.allowPercent?"|\\%":"");w&&(C=w);var P=e.match("^("+Dt+")("+C+")?$");P&&(e=P[1],w=P[2]||D)}else(!w||u.implicitUnits)&&(w=D);if(e=parseFloat(e),isNaN(e)&&u.enums===void 0)return null;if(isNaN(e)&&u.enums!==void 0)return e=o,z();if(u.integer&&!O0(e)||u.min!==void 0&&(e<u.min||u.strictMin&&e===u.min)||u.max!==void 0&&(e>u.max||u.strictMax&&e===u.max))return null;var S={name:t,value:e,strValue:""+e+(w||""),units:w,bypass:r};return u.unitless||w!=="px"&&w!=="em"?S.pfValue=e:S.pfValue=w==="px"||!w?e:this.getEmSizeInPixels()*e,(w==="ms"||w==="s")&&(S.pfValue=w==="ms"?e:1e3*e),(w==="deg"||w==="rad")&&(S.pfValue=w==="rad"?e:Lb(e)),w==="%"&&(S.pfValue=e/100),S}else if(u.propList){var V=[],H=""+e;if(H!=="none"){for(var _=H.split(/\s*,\s*|\s+/),K=0;K<_.length;K++){var Y=_[K].trim();a.properties[Y]?V.push(Y):dt("`"+Y+"` is not a valid property name")}if(V.length===0)return null}return{name:t,value:V,strValue:V.length===0?"none":V.join(" "),bypass:r}}else if(u.color){var Q=$0(e);return Q?{name:t,value:Q,pfValue:Q,strValue:"rgb("+Q[0]+","+Q[1]+","+Q[2]+")",bypass:r}:null}else if(u.regex||u.regexes){if(u.enums){var ee=z();if(ee)return ee}for(var Z=u.regexes?u.regexes:[u.regex],te=0;te<Z.length;te++){var W=new RegExp(Z[te]),k=W.exec(e);if(k)return{name:t,value:u.singleRegexMatchValue?k[1]:k,strValue:""+e,bypass:r}}return null}else return u.string?{name:t,value:""+e,strValue:""+e,bypass:r}:u.enums?z():null};var Bt=function t(e){if(!(this instanceof t))return new t(e);if(!Ao(e)){Tt("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},zt=Bt.prototype;zt.instanceString=function(){return"style"};zt.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};zt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};zt.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};zt.selector=function(t){var e=t==="core"?null:new zr(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};zt.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var a=t.properties[n],i=r[a.name];i===void 0&&(i=r[di(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else e.length===2&&this.cssRule(e[0],e[1]);return this};zt.style=zt.css;zt.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};zt.append=function(t){return Tf(t)?t.appendToStyle(this):pt(t)?this.appendFromJson(t):Ke(t)&&this.appendFromString(t),this};Bt.fromJson=function(t,e){var r=new Bt(t);return r.fromJson(e),r};Bt.fromString=function(t,e){return new Bt(t).fromString(e)};[Ut,ya,Vo,cr,Ei,qo,It,xi].forEach(function(t){Je(zt,t)});Bt.types=zt.types;Bt.properties=zt.properties;Bt.propertyGroups=zt.propertyGroups;Bt.propertyGroupNames=zt.propertyGroupNames;Bt.propertyGroupKeys=zt.propertyGroupKeys;var GE={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return Tf(e)?r.style=e.generateStyle(this):pt(e)?r.style=Bt.fromJson(this,e):Ke(e)?r.style=Bt.fromString(this,e):r.style=Bt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},zE="single",rn={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=zE),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,a,i,o,s;switch(e.length){case 0:return r;case 1:if(Ke(e[0]))return n=e[0],r[n];if(ot(e[0])){if(!this._private.panningEnabled)return this;i=e[0],o=i.x,s=i.y,Ie(o)&&(r.x=o),Ie(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],a=e[1],(n==="x"||n==="y")&&Ie(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,a=this._private.pan,i,o,s,l,u;if(!this._private.panningEnabled)return this;switch(n.length){case 1:ot(e)&&(s=n[0],l=s.x,u=s.y,Ie(l)&&(a.x+=l),Ie(u)&&(a.y+=u),this.emit("pan viewport"));break;case 2:i=e,o=r,(i==="x"||i==="y")&&Ie(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Ie(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Ke(e)){var a=e;e=this.$(a)}else if(R0(e)){var i=e;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Zt(e)||(e=this.mutableElements());if(!(Zt(e)&&e.empty())){n=n||e.boundingBox();var o=this.width(),s=this.height(),l;if(r=Ie(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){l=Math.min((o-2*r)/n.w,(s-2*r)/n.h),l=l>this._private.maxZoom?this._private.maxZoom:l,l=l<this._private.minZoom?this._private.minZoom:l;var u={x:(o-l*(n.x1+n.x2))/2,y:(s-l*(n.y1+n.y2))/2};return{zoom:l,pan:u}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var a=e;e=a.min,r=a.max}return Ie(e)&&Ie(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Ie(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Ie(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,a=r.zoom,i,o,s=!1;if(r.zoomingEnabled||(s=!0),Ie(e)?o=e:ot(e)&&(o=e.level,e.position!=null?i=gi(e.position,a,n):e.renderedPosition!=null&&(i=e.renderedPosition),i!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!Ie(o)||o===a||i!=null&&(!Ie(i.x)||!Ie(i.y)))return null;if(i!=null){var l=n,u=a,c=o,f={x:-c/u*(i.x-l.x)+i.x,y:-c/u*(i.y-l.y)+i.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,a=!0,i=[],o=!1,s=!1;if(!e)return this;if(Ie(e.zoom)||(n=!1),ot(e.pan)||(a=!1),!n&&!a)return this;if(n){var l=e.zoom;l<r.minZoom||l>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=l,i.push("zoom"))}if(a&&(!o||!e.cancelOnFailedZoom)&&r.panningEnabled){var u=e.pan;Ie(u.x)&&(r.pan.x=u.x,s=!1),Ie(u.y)&&(r.pan.y=u.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Ke(e)){var n=e;e=this.mutableElements().filter(n)}else Zt(e)||(e=this.mutableElements());if(e.length!==0){var a=e.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container;return e.sizeCache=e.sizeCache||(r?function(){var n=xt.getComputedStyle(r),a=function(o){return parseFloat(n.getPropertyValue(o))};return{width:r.clientWidth-a("padding-left")-a("padding-right"),height:r.clientHeight-a("padding-top")-a("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};rn.centre=rn.center;rn.autolockNodes=rn.autolock;rn.autoungrabifyNodes=rn.autoungrabify;var la={data:ht.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:ht.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:ht.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:ht.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};la.attr=la.data;la.removeAttr=la.removeData;var ca=function(e){var r=this;e=Je({},e);var n=e.container;n&&!ni(n)&&ni(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=xt!==void 0&&n!==void 0&&!e.headless,s=e;s.layout=Je({name:o?"grid":"null"},s.layout),s.renderer=Je({name:o?"canvas":"null"},s.renderer);var l=function(v,g,y){return g!==void 0?g:y!==void 0?y:v},u=this._private={container:n,ready:!1,options:s,elements:new Rt(this),listeners:[],aniEles:new Rt(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:l(!0,s.zoomingEnabled),userZoomingEnabled:l(!0,s.userZoomingEnabled),panningEnabled:l(!0,s.panningEnabled),userPanningEnabled:l(!0,s.userPanningEnabled),boxSelectionEnabled:l(!0,s.boxSelectionEnabled),autolock:l(!1,s.autolock,s.autolockNodes),autoungrabify:l(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:l(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:Ie(s.zoom)?s.zoom:1,pan:{x:ot(s.pan)&&Ie(s.pan.x)?s.pan.x:0,y:ot(s.pan)&&Ie(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:l(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var c=function(v,g){var y=v.some(k0);if(y)return In.all(v).then(g);g(v)};u.styleEnabled&&r.setStyle([]);var f=Je({},s,s.renderer);r.initRenderer(f);var h=function(v,g,y){r.notifications(!1);var p=r.mutableElements();p.length>0&&p.remove(),v!=null&&(ot(v)||pt(v))&&r.add(v),r.one("layoutready",function(E){r.notifications(!0),r.emit(E),r.one("load",g),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",y),r.emit("done")});var m=Je({},r._private.options.layout);m.eles=r.elements(),r.layout(m).run()};c([s.style,s.elements],function(d){var v=d[0],g=d[1];u.styleEnabled&&r.style().append(v),h(g,function(){r.startAnimationLoop(),u.ready=!0,Ct(s.ready)&&r.on("ready",s.ready);for(var y=0;y<i.length;y++){var p=i[y];r.on("ready",p)}a&&(a.readies=[]),r.emit("ready")},s.done)})},ui=ca.prototype;Je(ui,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(e!=null){var r=this,n=r._private,a=n.options;return!ni(e)&&ni(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(Je({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return ur(this._private.options)},json:function(e){var r=this,n=r._private,a=r.mutableElements(),i=function(T){return r.getElementById(T.id())};if(ot(e)){if(r.startBatch(),e.elements){var o={},s=function(T,L){for(var I=[],N=[],B=0;B<T.length;B++){var R=T[B];if(!R.data.id){dt("cy.json() cannot handle elements without an ID attribute");continue}var G=""+R.data.id,z=r.getElementById(G);o[G]=!0,z.length!==0?N.push({ele:z,json:R}):(L&&(R.group=L),I.push(R))}r.add(I);for(var w=0;w<N.length;w++){var D=N[w],C=D.ele,P=D.json;C.json(P)}};if(pt(e.elements))s(e.elements);else for(var l=["nodes","edges"],u=0;u<l.length;u++){var c=l[u],f=e.elements[c];pt(f)&&s(f,c)}var h=r.collection();a.filter(function(E){return!o[E.id()]}).forEach(function(E){E.isParent()?h.merge(E):E.remove()}),h.forEach(function(E){return E.children().move({parent:null})}),h.forEach(function(E){return i(E).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<d.length;v++){var g=d[v];e[g]!=null&&r[g](e[g])}return r.endBatch(),this}else{var y=!!e,p={};y?p.elements=this.elements().map(function(E){return E.json()}):(p.elements={},a.forEach(function(E){var T=E.group();p.elements[T]||(p.elements[T]=[]),p.elements[T].push(E.json())})),this._private.styleEnabled&&(p.style=r.style().json()),p.data=ur(r.data());var m=n.options;return p.zoomingEnabled=n.zoomingEnabled,p.userZoomingEnabled=n.userZoomingEnabled,p.zoom=n.zoom,p.minZoom=n.minZoom,p.maxZoom=n.maxZoom,p.panningEnabled=n.panningEnabled,p.userPanningEnabled=n.userPanningEnabled,p.pan=ur(n.pan),p.boxSelectionEnabled=n.boxSelectionEnabled,p.renderer=ur(m.renderer),p.hideEdgesOnViewport=m.hideEdgesOnViewport,p.textureOnViewport=m.textureOnViewport,p.wheelSensitivity=m.wheelSensitivity,p.motionBlur=m.motionBlur,p.multiClickDebounceTime=m.multiClickDebounceTime,p}}});ui.$id=ui.getElementById;[ME,PE,yh,Eo,ei,kE,xo,ti,GE,rn,la].forEach(function(t){Je(ui,t)});var UE={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},VE={maximal:!1,acyclic:!1},wn=function(e){return e.scratch("breadthfirst")},af=function(e,r){return e.scratch("breadthfirst",r)};function mh(t){this.options=Je({},UE,VE,t)}mh.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().filter(function(ie){return!ie.isParent()}),i=n,o=e.directed,s=e.acyclic||e.maximal||e.maximalAdjustments>0,l=_t(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),u;if(Zt(e.roots))u=e.roots;else if(pt(e.roots)){for(var c=[],f=0;f<e.roots.length;f++){var h=e.roots[f],d=r.getElementById(h);c.push(d)}u=r.collection(c)}else if(Ke(e.roots))u=r.$(e.roots);else if(o)u=a.roots();else{var v=n.components();u=r.collection();for(var g=function(xe){var Ne=v[xe],pe=Ne.maxDegree(!1),se=Ne.filter(function(Ce){return Ce.degree(!1)===pe});u=u.add(se)},y=0;y<v.length;y++)g(y)}var p=[],m={},E=function(xe,Ne){p[Ne]==null&&(p[Ne]=[]);var pe=p[Ne].length;p[Ne].push(xe),af(xe,{index:pe,depth:Ne})},T=function(xe,Ne){var pe=wn(xe),se=pe.depth,Ce=pe.index;p[se][Ce]=null,E(xe,Ne)};i.bfs({roots:u,directed:e.directed,visit:function(xe,Ne,pe,se,Ce){var ke=xe[0],Pe=ke.id();E(ke,Ce),m[Pe]=!0}});for(var L=[],I=0;I<a.length;I++){var N=a[I];m[N.id()]||L.push(N)}var B=function(xe){for(var Ne=p[xe],pe=0;pe<Ne.length;pe++){var se=Ne[pe];if(se==null){Ne.splice(pe,1),pe--;continue}af(se,{depth:xe,index:pe})}},R=function(){for(var xe=0;xe<p.length;xe++)B(xe)},G=function(xe,Ne){for(var pe=wn(xe),se=xe.incomers().filter(function(re){return re.isNode()&&n.has(re)}),Ce=-1,ke=xe.id(),Pe=0;Pe<se.length;Pe++){var Me=se[Pe],fe=wn(Me);Ce=Math.max(Ce,fe.depth)}if(pe.depth<=Ce){if(!e.acyclic&&Ne[ke])return null;var U=Ce+1;return T(xe,U),Ne[ke]=U,!0}return!1};if(o&&s){var z=[],w={},D=function(xe){return z.push(xe)},C=function(){return z.shift()};for(a.forEach(function(ie){return z.push(ie)});z.length>0;){var P=C(),S=G(P,w);if(S)P.outgoers().filter(function(ie){return ie.isNode()&&n.has(ie)}).forEach(D);else if(S===null){dt("Detected double maximal shift for node `"+P.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}R();var V=0;if(e.avoidOverlap)for(var H=0;H<a.length;H++){var _=a[H],K=_.layoutDimensions(e),Y=K.w,Q=K.h;V=Math.max(V,Y,Q)}var ee={},Z=function(xe){if(ee[xe.id()])return ee[xe.id()];for(var Ne=wn(xe).depth,pe=xe.neighborhood(),se=0,Ce=0,ke=0;ke<pe.length;ke++){var Pe=pe[ke];if(!(Pe.isEdge()||Pe.isParent()||!a.has(Pe))){var Me=wn(Pe);if(Me!=null){var fe=Me.index,U=Me.depth;if(!(fe==null||U==null)){var re=p[U].length;U<Ne&&(se+=fe/re,Ce++)}}}}return Ce=Math.max(1,Ce),se=se/Ce,Ce===0&&(se=0),ee[xe.id()]=se,se},te=function(xe,Ne){var pe=Z(xe),se=Z(Ne),Ce=pe-se;return Ce===0?Lf(xe.id(),Ne.id()):Ce};e.depthSort!==void 0&&(te=e.depthSort);for(var W=0;W<p.length;W++)p[W].sort(te),B(W);for(var k=[],X=0;X<L.length;X++)k.push(L[X]);p.unshift(k),R();for(var J=0,ae=0;ae<p.length;ae++)J=Math.max(p[ae].length,J);var le={x:l.x1+l.w/2,y:l.x1+l.h/2},De=p.reduce(function(ie,xe){return Math.max(ie,xe.length)},0),Re=function(xe){var Ne=wn(xe),pe=Ne.depth,se=Ne.index,Ce=p[pe].length,ke=Math.max(l.w/((e.grid?De:Ce)+1),V),Pe=Math.max(l.h/(p.length+1),V),Me=Math.min(l.w/2/p.length,l.h/2/p.length);if(Me=Math.max(Me,V),e.circle){var U=Me*pe+Me-(p.length>0&&p[0].length<=3?Me/2:0),re=2*Math.PI/p[pe].length*se;return pe===0&&p[0].length===1&&(U=1),{x:le.x+U*Math.cos(re),y:le.y+U*Math.sin(re)}}else{var fe={x:le.x+(se+1-(Ce+1)/2)*ke,y:(pe+1)*Pe};return fe}};return n.nodes().layoutPositions(this,e,Re),this};var qE={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function bh(t){this.options=Je({},qE,t)}bh.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));for(var o=_t(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=e.sweep===void 0?2*Math.PI-2*Math.PI/i.length:e.sweep,u=l/Math.max(1,i.length-1),c,f=0,h=0;h<i.length;h++){var d=i[h],v=d.layoutDimensions(e),g=v.w,y=v.h;f=Math.max(f,g,y)}if(Ie(e.radius)?c=e.radius:i.length<=1?c=0:c=Math.min(o.h,o.w)/2-f,i.length>1&&e.avoidOverlap){f*=1.75;var p=Math.cos(u)-Math.cos(0),m=Math.sin(u)-Math.sin(0),E=Math.sqrt(f*f/(p*p+m*m));c=Math.max(E,c)}var T=function(I,N){var B=e.startAngle+N*u*(a?1:-1),R=c*Math.cos(B),G=c*Math.sin(B),z={x:s.x+R,y:s.y+G};return z};return n.nodes().layoutPositions(this,e,T),this};var HE={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function wh(t){this.options=Je({},HE,t)}wh.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,a=e.eles,i=a.nodes().not(":parent"),o=_t(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},l=[],u=0,c=0;c<i.length;c++){var f=i[c],h=void 0;h=e.concentric(f),l.push({value:h,node:f}),f._private.scratch.concentric=h}i.updateStyle();for(var d=0;d<i.length;d++){var v=i[d],g=v.layoutDimensions(e);u=Math.max(u,g.w,g.h)}l.sort(function(ie,xe){return xe.value-ie.value});for(var y=e.levelWidth(i),p=[[]],m=p[0],E=0;E<l.length;E++){var T=l[E];if(m.length>0){var L=Math.abs(m[0].value-T.value);L>=y&&(m=[],p.push(m))}m.push(T)}var I=u+e.minNodeSpacing;if(!e.avoidOverlap){var N=p.length>0&&p[0].length>1,B=Math.min(o.w,o.h)/2-I,R=B/(p.length+N?1:0);I=Math.min(I,R)}for(var G=0,z=0;z<p.length;z++){var w=p[z],D=e.sweep===void 0?2*Math.PI-2*Math.PI/w.length:e.sweep,C=w.dTheta=D/Math.max(1,w.length-1);if(w.length>1&&e.avoidOverlap){var P=Math.cos(C)-Math.cos(0),S=Math.sin(C)-Math.sin(0),V=Math.sqrt(I*I/(P*P+S*S));G=Math.max(V,G)}w.r=G,G+=I}if(e.equidistant){for(var H=0,_=0,K=0;K<p.length;K++){var Y=p[K],Q=Y.r-_;H=Math.max(H,Q)}_=0;for(var ee=0;ee<p.length;ee++){var Z=p[ee];ee===0&&(_=Z.r),Z.r=_,_+=H}}for(var te={},W=0;W<p.length;W++)for(var k=p[W],X=k.dTheta,J=k.r,ae=0;ae<k.length;ae++){var le=k[ae],De=e.startAngle+(r?1:-1)*X*ae,Re={x:s.x+J*Math.cos(De),y:s.y+J*Math.sin(De)};te[le.node.id()]=Re}return a.nodes().layoutPositions(this,e,function(ie){var xe=ie.id();return te[xe]}),this};var fo,YE={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Ci(t){this.options=Je({},YE,t),this.options.layout=this}Ci.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?fo=!0:fo=!1;var n=WE(e,r,t);fo&&$E(n),t.randomize&&KE(n);var a=wr(),i=function(){ZE(n,e,t),t.fit===!0&&e.fit(t.padding)},o=function(h){return!(r.stopped||h>=t.numIter||(QE(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},s=function(){if(t.animate===!0||t.animate===!1)i(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var h=t.eles.nodes(),d=Eh(n,t,h);h.layoutPositions(r,t,d)}},l=0,u=!0;if(t.animate===!0){var c=function f(){for(var h=0;u&&h<t.refresh;)u=o(l),l++,h++;if(!u)sf(n,t),s();else{var d=wr();d-a>=t.animationThreshold&&i(),ai(f)}};c()}else{for(;u;)u=o(l),l++;sf(n,t),s()}return this};Ci.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Ci.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var WE=function(e,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=_t(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),s={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},l=n.eles.components(),u={},c=0;c<l.length;c++)for(var f=l[c],h=0;h<f.length;h++){var d=f[h];u[d.id()]=c}for(var c=0;c<s.nodeSize;c++){var v=i[c],g=v.layoutDimensions(n),y={};y.isLocked=v.locked(),y.id=v.data("id"),y.parentId=v.data("parent"),y.cmptId=u[v.id()],y.children=[],y.positionX=v.position("x"),y.positionY=v.position("y"),y.offsetX=0,y.offsetY=0,y.height=g.w,y.width=g.h,y.maxX=y.positionX+y.width/2,y.minX=y.positionX-y.width/2,y.maxY=y.positionY+y.height/2,y.minY=y.positionY-y.height/2,y.padLeft=parseFloat(v.style("padding")),y.padRight=parseFloat(v.style("padding")),y.padTop=parseFloat(v.style("padding")),y.padBottom=parseFloat(v.style("padding")),y.nodeRepulsion=Ct(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,s.layoutNodes.push(y),s.idToIndex[y.id]=c}for(var p=[],m=0,E=-1,T=[],c=0;c<s.nodeSize;c++){var v=s.layoutNodes[c],L=v.parentId;L!=null?s.layoutNodes[s.idToIndex[L]].children.push(v.id):(p[++E]=v.id,T.push(v.id))}for(s.graphSet.push(T);m<=E;){var I=p[m++],N=s.idToIndex[I],d=s.layoutNodes[N],B=d.children;if(B.length>0){s.graphSet.push(B);for(var c=0;c<B.length;c++)p[++E]=B[c]}}for(var c=0;c<s.graphSet.length;c++)for(var R=s.graphSet[c],h=0;h<R.length;h++){var G=s.idToIndex[R[h]];s.indexToGraph[G]=c}for(var c=0;c<s.edgeSize;c++){var z=a[c],w={};w.id=z.data("id"),w.sourceId=z.data("source"),w.targetId=z.data("target");var D=Ct(n.idealEdgeLength)?n.idealEdgeLength(z):n.idealEdgeLength,C=Ct(n.edgeElasticity)?n.edgeElasticity(z):n.edgeElasticity,P=s.idToIndex[w.sourceId],S=s.idToIndex[w.targetId],V=s.indexToGraph[P],H=s.indexToGraph[S];if(V!=H){for(var _=XE(w.sourceId,w.targetId,s),K=s.graphSet[_],Y=0,y=s.layoutNodes[P];K.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],Y++;for(y=s.layoutNodes[S];K.indexOf(y.id)===-1;)y=s.layoutNodes[s.idToIndex[y.parentId]],Y++;D*=Y*n.nestingFactor}w.idealLength=D,w.elasticity=C,s.layoutEdges.push(w)}return s},XE=function(e,r,n){var a=_E(e,r,0,n);return 2>a.count?0:a.graph},_E=function t(e,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(e)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<i.length;s++){var l=i[s],u=a.idToIndex[l],c=a.layoutNodes[u].children;if(c.length!==0){var f=a.indexToGraph[a.idToIndex[c[0]]],h=t(e,r,f,a);if(h.count!==0)if(h.count===1){if(o++,o===2)break}else return h}}return{count:o,graph:n}},$E,KE=function(e,r){for(var n=e.clientWidth,a=e.clientHeight,i=0;i<e.nodeSize;i++){var o=e.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},Eh=function(e,r,n){var a=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=e.layoutNodes[e.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,s){var l=e.layoutNodes[e.idToIndex[o.data("id")]];if(r.boundingBox){var u=(l.positionX-i.x1)/i.w,c=(l.positionY-i.y1)/i.h;return{x:a.x1+u*a.w,y:a.y1+c*a.h}}else return{x:l.positionX,y:l.positionY}}},ZE=function(e,r,n){var a=n.layout,i=n.eles.nodes(),o=Eh(e,n,i);i.positions(o),e.ready!==!0&&(e.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},QE=function(e,r,n){JE(e,r),t1(e),r1(e,r),n1(e),a1(e)},JE=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var a=e.graphSet[n],i=a.length,o=0;o<i;o++)for(var s=e.layoutNodes[e.idToIndex[a[o]]],l=o+1;l<i;l++){var u=e.layoutNodes[e.idToIndex[a[l]]];jE(s,u,e,r)}},of=function(e){return-e+2*e*Math.random()},jE=function(e,r,n,a){var i=e.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var s=r.positionX-e.positionX,l=r.positionY-e.positionY,u=1;s===0&&l===0&&(s=of(u),l=of(u));var c=e1(e,r,s,l);if(c>0)var f=a.nodeOverlap*c,h=Math.sqrt(s*s+l*l),d=f*s/h,v=f*l/h;else var g=li(e,s,l),y=li(r,-1*s,-1*l),p=y.x-g.x,m=y.y-g.y,E=p*p+m*m,h=Math.sqrt(E),f=(e.nodeRepulsion+r.nodeRepulsion)/E,d=f*p/h,v=f*m/h;e.isLocked||(e.offsetX-=d,e.offsetY-=v),r.isLocked||(r.offsetX+=d,r.offsetY+=v)}},e1=function(e,r,n,a){if(n>0)var i=e.maxX-r.minX;else var i=r.maxX-e.minX;if(a>0)var o=e.maxY-r.minY;else var o=r.maxY-e.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},li=function(e,r,n){var a=e.positionX,i=e.positionY,o=e.height||1,s=e.width||1,l=n/r,u=o/s,c={};return r===0&&0<n||r===0&&0>n?(c.x=a,c.y=i+o/2,c):0<r&&-1*u<=l&&l<=u?(c.x=a+s/2,c.y=i+s*n/2/r,c):0>r&&-1*u<=l&&l<=u?(c.x=a-s/2,c.y=i-s*n/2/r,c):0<n&&(l<=-1*u||l>=u)?(c.x=a+o*r/2/n,c.y=i+o/2,c):(0>n&&(l<=-1*u||l>=u)&&(c.x=a-o*r/2/n,c.y=i-o/2),c)},t1=function(e,r){for(var n=0;n<e.edgeSize;n++){var a=e.layoutEdges[n],i=e.idToIndex[a.sourceId],o=e.layoutNodes[i],s=e.idToIndex[a.targetId],l=e.layoutNodes[s],u=l.positionX-o.positionX,c=l.positionY-o.positionY;if(!(u===0&&c===0)){var f=li(o,u,c),h=li(l,-1*u,-1*c),d=h.x-f.x,v=h.y-f.y,g=Math.sqrt(d*d+v*v),y=Math.pow(a.idealLength-g,2)/a.elasticity;if(g!==0)var p=y*d/g,m=y*v/g;else var p=0,m=0;o.isLocked||(o.offsetX+=p,o.offsetY+=m),l.isLocked||(l.offsetX-=p,l.offsetY-=m)}}},r1=function(e,r){if(r.gravity!==0)for(var n=1,a=0;a<e.graphSet.length;a++){var i=e.graphSet[a],o=i.length;if(a===0)var s=e.clientHeight/2,l=e.clientWidth/2;else var u=e.layoutNodes[e.idToIndex[i[0]]],c=e.layoutNodes[e.idToIndex[u.parentId]],s=c.positionX,l=c.positionY;for(var f=0;f<o;f++){var h=e.layoutNodes[e.idToIndex[i[f]]];if(!h.isLocked){var d=s-h.positionX,v=l-h.positionY,g=Math.sqrt(d*d+v*v);if(g>n){var y=r.gravity*d/g,p=r.gravity*v/g;h.offsetX+=y,h.offsetY+=p}}}}},n1=function(e,r){var n=[],a=0,i=-1;for(n.push.apply(n,e.graphSet[0]),i+=e.graphSet[0].length;a<=i;){var o=n[a++],s=e.idToIndex[o],l=e.layoutNodes[s],u=l.children;if(0<u.length&&!l.isLocked){for(var c=l.offsetX,f=l.offsetY,h=0;h<u.length;h++){var d=e.layoutNodes[e.idToIndex[u[h]]];d.offsetX+=c,d.offsetY+=f,n[++i]=u[h]}l.offsetX=0,l.offsetY=0}}},a1=function(e,r){for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=i1(a.offsetX,a.offsetY,e.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,o1(a,e)}}for(var n=0;n<e.nodeSize;n++){var a=e.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},i1=function(e,r,n){var a=Math.sqrt(e*e+r*r);if(a>n)var i={x:n*e/a,y:n*r/a};else var i={x:e,y:r};return i},o1=function t(e,r){var n=e.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||e.maxX+a.padRight>a.maxX)&&(a.maxX=e.maxX+a.padRight,i=!0),(a.minX==null||e.minX-a.padLeft<a.minX)&&(a.minX=e.minX-a.padLeft,i=!0),(a.maxY==null||e.maxY+a.padBottom>a.maxY)&&(a.maxY=e.maxY+a.padBottom,i=!0),(a.minY==null||e.minY-a.padTop<a.minY)&&(a.minY=e.minY-a.padTop,i=!0),i)return t(a,r)}},sf=function(e,r){for(var n=e.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],s=o.cmptId,l=a[s]=a[s]||[];l.push(o)}for(var u=0,i=0;i<a.length;i++){var c=a[i];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var h=c[f];c.x1=Math.min(c.x1,h.positionX-h.width/2),c.x2=Math.max(c.x2,h.positionX+h.width/2),c.y1=Math.min(c.y1,h.positionY-h.height/2),c.y2=Math.max(c.y2,h.positionY+h.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,u+=c.w*c.h}}a.sort(function(m,E){return E.w*E.h-m.w*m.h});for(var d=0,v=0,g=0,y=0,p=Math.sqrt(u)*e.clientWidth/e.clientHeight,i=0;i<a.length;i++){var c=a[i];if(c){for(var f=0;f<c.length;f++){var h=c[f];h.isLocked||(h.positionX+=d-c.x1,h.positionY+=v-c.y1)}d+=c.w+r.componentSpacing,g+=c.w+r.componentSpacing,y=Math.max(y,c.h),g>p&&(v+=y+r.componentSpacing,d=0,g=0,y=0)}}},s1={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function xh(t){this.options=Je({},s1,t)}xh.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,a=n.nodes().not(":parent");e.sort&&(a=a.sort(e.sort));var i=_t(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,e,function(ee){return{x:i.x1,y:i.y1}});else{var o=a.size(),s=Math.sqrt(o*i.h/i.w),l=Math.round(s),u=Math.round(i.w/i.h*s),c=function(Z){if(Z==null)return Math.min(l,u);var te=Math.min(l,u);te==l?l=Z:u=Z},f=function(Z){if(Z==null)return Math.max(l,u);var te=Math.max(l,u);te==l?l=Z:u=Z},h=e.rows,d=e.cols!=null?e.cols:e.columns;if(h!=null&&d!=null)l=h,u=d;else if(h!=null&&d==null)l=h,u=Math.ceil(o/l);else if(h==null&&d!=null)u=d,l=Math.ceil(o/u);else if(u*l>o){var v=c(),g=f();(v-1)*g>=o?c(v-1):(g-1)*v>=o&&f(g-1)}else for(;u*l<o;){var y=c(),p=f();(p+1)*y>=o?f(p+1):c(y+1)}var m=i.w/u,E=i.h/l;if(e.condense&&(m=0,E=0),e.avoidOverlap)for(var T=0;T<a.length;T++){var L=a[T],I=L._private.position;(I.x==null||I.y==null)&&(I.x=0,I.y=0);var N=L.layoutDimensions(e),B=e.avoidOverlapPadding,R=N.w+B,G=N.h+B;m=Math.max(m,R),E=Math.max(E,G)}for(var z={},w=function(Z,te){return!!z["c-"+Z+"-"+te]},D=function(Z,te){z["c-"+Z+"-"+te]=!0},C=0,P=0,S=function(){P++,P>=u&&(P=0,C++)},V={},H=0;H<a.length;H++){var _=a[H],K=e.position(_);if(K&&(K.row!==void 0||K.col!==void 0)){var Y={row:K.row,col:K.col};if(Y.col===void 0)for(Y.col=0;w(Y.row,Y.col);)Y.col++;else if(Y.row===void 0)for(Y.row=0;w(Y.row,Y.col);)Y.row++;V[_.id()]=Y,D(Y.row,Y.col)}}var Q=function(Z,te){var W,k;if(Z.locked()||Z.isParent())return!1;var X=V[Z.id()];if(X)W=X.col*m+m/2+i.x1,k=X.row*E+E/2+i.y1;else{for(;w(C,P);)S();W=P*m+m/2+i.x1,k=C*E+E/2+i.y1,D(C,P),S()}return{x:W,y:k}};a.layoutPositions(this,e,Q)}return this};var u1={ready:function(){},stop:function(){}};function Ho(t){this.options=Je({},u1,t)}Ho.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Ho.prototype.stop=function(){return this};var l1={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Ch(t){this.options=Je({},l1,t)}Ch.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=Ct(t.positions);function a(i){if(t.positions==null)return Eb(i.position());if(n)return t.positions(i);var o=t.positions[i._private.data.id];return o??null}return r.layoutPositions(this,t,function(i,o){var s=a(i);return i.locked()||s==null?!1:s}),this};var c1={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function Th(t){this.options=Je({},c1,t)}Th.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=_t(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),a=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,a),this};var f1=[{name:"breadthfirst",impl:mh},{name:"circle",impl:bh},{name:"concentric",impl:wh},{name:"cose",impl:Ci},{name:"grid",impl:xh},{name:"null",impl:Ho},{name:"preset",impl:Ch},{name:"random",impl:Th}];function Sh(t){this.options=t,this.notifications=0}var uf=function(){},lf=function(){throw new Error("A headless instance can not render images")};Sh.prototype={recalculateRenderedStyle:uf,notify:function(){this.notifications++},init:uf,isHeadless:function(){return!0},png:lf,jpg:lf};var Yo={};Yo.arrowShapeWidth=.3;Yo.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(u,c,f,h,d,v,g){var y=d.x-f/2-g,p=d.x+f/2+g,m=d.y-f/2-g,E=d.y+f/2+g,T=y<=u&&u<=p&&m<=c&&c<=E;return T},n=function(u,c,f,h,d){var v=u*Math.cos(h)-c*Math.sin(h),g=u*Math.sin(h)+c*Math.cos(h),y=v*f,p=g*f,m=y+d.x,E=p+d.y;return{x:m,y:E}},a=function(u,c,f,h){for(var d=[],v=0;v<u.length;v+=2){var g=u[v],y=u[v+1];d.push(n(g,y,c,f,h))}return d},i=function(u){for(var c=[],f=0;f<u.length;f++){var h=u[f];c.push(h.x,h.y)}return c},o=function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").pfValue*2},s=function(u,c){Ke(c)&&(c=t[c]),t[u]=Je({name:u,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,d,v,g,y,p){var m=i(a(this.points,v+2*p,g,y)),E=Xt(h,d,m);return E},roughCollide:r,draw:function(h,d,v,g){var y=a(this.points,d,v,g);e.arrowShapeImpl("polygon")(h,y)},spacing:function(h){return 0},gap:o},c)};s("none",{collide:ii,roughCollide:ii,draw:Io,spacing:Cc,gap:Cc}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(u,c,f,h,d){var v=a(this.points,c,f,h),g=this.controlPoint,y=n(g[0],g[1],c,f,h);e.arrowShapeImpl(this.name)(u,v,y)},gap:function(u){return o(u)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(u,c,f,h,d,v,g){var y=i(a(this.points,f+2*g,h,d)),p=i(a(this.pointsTee,f+2*g,h,d)),m=Xt(u,c,y)||Xt(u,c,p);return m},draw:function(u,c,f,h,d){var v=a(this.points,c,f,h),g=a(this.pointsTee,c,f,h);e.arrowShapeImpl(this.name)(u,v,g)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(u,c,f,h,d,v,g){var y=d,p=Math.pow(y.x-u,2)+Math.pow(y.y-c,2)<=Math.pow((f+2*g)*this.radius,2),m=i(a(this.points,f+2*g,h,d));return Xt(u,c,m)||p},draw:function(u,c,f,h,d){var v=a(this.pointsTr,c,f,h);e.arrowShapeImpl(this.name)(u,v,h.x,h.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(u,c){var f=this.baseCrossLinePts.slice(),h=c/u,d=3,v=5;return f[d]=f[d]-h,f[v]=f[v]-h,f},collide:function(u,c,f,h,d,v,g){var y=i(a(this.points,f+2*g,h,d)),p=i(a(this.crossLinePts(f,v),f+2*g,h,d)),m=Xt(u,c,y)||Xt(u,c,p);return m},draw:function(u,c,f,h,d){var v=a(this.points,c,f,h),g=a(this.crossLinePts(c,d),c,f,h);e.arrowShapeImpl(this.name)(u,v,g)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(u){return o(u)*.525}}),s("circle",{radius:.15,collide:function(u,c,f,h,d,v,g){var y=d,p=Math.pow(y.x-u,2)+Math.pow(y.y-c,2)<=Math.pow((f+2*g)*this.radius,2);return p},draw:function(u,c,f,h,d){e.arrowShapeImpl(this.name)(u,h.x,h.y,this.radius*c)},spacing:function(u){return e.getArrowWidth(u.pstyle("width").pfValue,u.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(u){return 1},gap:function(u){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(u){return u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(u){return .95*u.pstyle("width").pfValue*u.pstyle("arrow-scale").value}})};var on={};on.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],s=r.pan(),l=r.zoom(),u=((t-a)/o-s.x)/l,c=((e-i)/o-s.y)/l;return[u,c]};on.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=xt.getComputedStyle(t),n=function(p){return parseFloat(r.getPropertyValue(p))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=t.clientWidth,s=t.clientHeight,l=a.left+a.right,u=a.top+a.bottom,c=i.left+i.right,f=e.width/(o+c),h=o-l,d=s-u,v=e.left+a.left+i.left,g=e.top+a.top+i.top;return this.containerBB=[v,g,h,d,f]};on.invalidateContainerClientCoordsCache=function(){this.containerBB=null};on.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};on.findNearestElements=function(t,e,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),s=[],l=i.cy.zoom(),u=i.cy.hasCompoundNodes(),c=(n?24:8)/l,f=(n?8:2)/l,h=(n?8:2)/l,d=1/0,v,g;r&&(o=o.interactive);function y(N,B){if(N.isNode()){if(g)return;g=N,s.push(N)}if(N.isEdge()&&(B==null||B<d))if(v){if(v.pstyle("z-compound-depth").value===N.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===N.pstyle("z-compound-depth").value){for(var R=0;R<s.length;R++)if(s[R].isEdge()){s[R]=N,v=N,d=B??d;break}}}else s.push(N),v=N,d=B??d}function p(N){var B=N.outerWidth()+2*f,R=N.outerHeight()+2*f,G=B/2,z=R/2,w=N.position();if(w.x-G<=t&&t<=w.x+G&&w.y-z<=e&&e<=w.y+z){var D=i.nodeShapes[a.getNodeShape(N)];if(D.checkPoint(t,e,0,B,R,w.x,w.y))return y(N,0),!0}}function m(N){var B=N._private,R=B.rscratch,G=N.pstyle("width").pfValue,z=N.pstyle("arrow-scale").value,w=G/2+c,D=w*w,C=w*2,H=B.source,_=B.target,P;if(R.edgeType==="segments"||R.edgeType==="straight"||R.edgeType==="haystack"){for(var S=R.allpts,V=0;V+3<S.length;V+=2)if(Rb(t,e,S[V],S[V+1],S[V+2],S[V+3],C)&&D>(P=zb(t,e,S[V],S[V+1],S[V+2],S[V+3])))return y(N,P),!0}else if(R.edgeType==="bezier"||R.edgeType==="multibezier"||R.edgeType==="self"||R.edgeType==="compound"){for(var S=R.allpts,V=0;V+5<R.allpts.length;V+=4)if(kb(t,e,S[V],S[V+1],S[V+2],S[V+3],S[V+4],S[V+5],C)&&D>(P=Gb(t,e,S[V],S[V+1],S[V+2],S[V+3],S[V+4],S[V+5])))return y(N,P),!0}for(var H=H||B.source,_=_||B.target,K=a.getArrowWidth(G,z),Y=[{name:"source",x:R.arrowStartX,y:R.arrowStartY,angle:R.srcArrowAngle},{name:"target",x:R.arrowEndX,y:R.arrowEndY,angle:R.tgtArrowAngle},{name:"mid-source",x:R.midX,y:R.midY,angle:R.midsrcArrowAngle},{name:"mid-target",x:R.midX,y:R.midY,angle:R.midtgtArrowAngle}],V=0;V<Y.length;V++){var Q=Y[V],ee=i.arrowShapes[N.pstyle(Q.name+"-arrow-shape").value],Z=N.pstyle("width").pfValue;if(ee.roughCollide(t,e,K,Q.angle,{x:Q.x,y:Q.y},Z,c)&&ee.collide(t,e,K,Q.angle,{x:Q.x,y:Q.y},Z,c))return y(N),!0}u&&s.length>0&&(p(H),p(_))}function E(N,B,R){return ir(N,B,R)}function T(N,B){var R=N._private,G=h,z;B?z=B+"-":z="",N.boundingBox();var w=R.labelBounds[B||"main"],D=N.pstyle(z+"label").value,C=N.pstyle("text-events").strValue==="yes";if(!(!C||!D)){var P=E(R.rscratch,"labelX",B),S=E(R.rscratch,"labelY",B),V=E(R.rscratch,"labelAngle",B),H=N.pstyle(z+"text-margin-x").pfValue,_=N.pstyle(z+"text-margin-y").pfValue,K=w.x1-G-H,Y=w.x2+G-H,Q=w.y1-G-_,ee=w.y2+G-_;if(V){var Z=Math.cos(V),te=Math.sin(V),W=function(Re,ie){return Re=Re-P,ie=ie-S,{x:Re*Z-ie*te+P,y:Re*te+ie*Z+S}},k=W(K,Q),X=W(K,ee),J=W(Y,Q),ae=W(Y,ee),le=[k.x+H,k.y+_,J.x+H,J.y+_,ae.x+H,ae.y+_,X.x+H,X.y+_];if(Xt(t,e,le))return y(N),!0}else if(Mn(w,t,e))return y(N),!0}}for(var L=o.length-1;L>=0;L--){var I=o[L];I.isNode()?p(I)||T(I):m(I)||T(I)||T(I,"source")||T(I,"target")}return s};on.getAllInBox=function(t,e,r,n){var a=this.getCachedZSortedEles().interactive,i=[],o=Math.min(t,r),s=Math.max(t,r),l=Math.min(e,n),u=Math.max(e,n);t=o,r=s,e=l,n=u;for(var c=_t({x1:t,y1:e,x2:r,y2:n}),f=0;f<a.length;f++){var h=a[f];if(h.isNode()){var d=h,v=d.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});ko(c,v)&&!zf(v,c)&&i.push(d)}else{var g=h,y=g._private,p=y.rscratch;if(p.startX!=null&&p.startY!=null&&!Mn(c,p.startX,p.startY)||p.endX!=null&&p.endY!=null&&!Mn(c,p.endX,p.endY))continue;if(p.edgeType==="bezier"||p.edgeType==="multibezier"||p.edgeType==="self"||p.edgeType==="compound"||p.edgeType==="segments"||p.edgeType==="haystack"){for(var m=y.rstyle.bezierPts||y.rstyle.linePts||y.rstyle.haystackPts,E=!0,T=0;T<m.length;T++)if(!Pb(c,m[T])){E=!1;break}E&&i.push(g)}else(p.edgeType==="haystack"||p.edgeType==="straight")&&i.push(g)}}return i};var ci={};ci.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",a=e.edgeType==="multibezier",i=e.edgeType==="segments",o=e.edgeType==="compound",s=e.edgeType==="self",l,u,c,f,h,d,p,m;if(r?(c=e.haystackPts[0],f=e.haystackPts[1],h=e.haystackPts[2],d=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,h=e.arrowEndX,d=e.arrowEndY),p=e.midX,m=e.midY,i)l=c-e.segpts[0],u=f-e.segpts[1];else if(a||o||s||n){var v=e.allpts,g=Ot(v[0],v[2],v[4],.1),y=Ot(v[1],v[3],v[5],.1);l=c-g,u=f-y}else l=c-p,u=f-m;e.srcArrowAngle=Ua(l,u);var p=e.midX,m=e.midY;if(r&&(p=(c+h)/2,m=(f+d)/2),l=h-c,u=d-f,i){var v=e.allpts;if(v.length/2%2===0){var E=v.length/2,T=E-2;l=v[E]-v[T],u=v[E+1]-v[T+1]}else{var E=v.length/2-1,T=E-2,L=E+2;l=v[E]-v[T],u=v[E+1]-v[T+1]}}else if(a||o||s){var v=e.allpts,I=e.ctrlpts,N,B,R,G;if(I.length/2%2===0){var z=v.length/2-1,w=z+2,D=w+2;N=Ot(v[z],v[w],v[D],0),B=Ot(v[z+1],v[w+1],v[D+1],0),R=Ot(v[z],v[w],v[D],1e-4),G=Ot(v[z+1],v[w+1],v[D+1],1e-4)}else{var w=v.length/2-1,z=w-2,D=w+2;N=Ot(v[z],v[w],v[D],.4999),B=Ot(v[z+1],v[w+1],v[D+1],.4999),R=Ot(v[z],v[w],v[D],.5),G=Ot(v[z+1],v[w+1],v[D+1],.5)}l=R-N,u=G-B}if(e.midtgtArrowAngle=Ua(l,u),e.midDispX=l,e.midDispY=u,l*=-1,u*=-1,i){var v=e.allpts;if(v.length/2%2!==0){var E=v.length/2-1,L=E+2;l=-(v[L]-v[E]),u=-(v[L+1]-v[E+1])}}if(e.midsrcArrowAngle=Ua(l,u),i)l=h-e.segpts[e.segpts.length-2],u=d-e.segpts[e.segpts.length-1];else if(a||o||s||n){var v=e.allpts,C=v.length,g=Ot(v[C-6],v[C-4],v[C-2],.9),y=Ot(v[C-5],v[C-3],v[C-1],.9);l=h-g,u=d-y}else l=h-p,u=d-m;e.tgtArrowAngle=Ua(l,u)};ci.getArrowWidth=ci.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Ht={};Ht.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,s=n.target,l=o.position(),u=s.position(),c=o.width(),f=s.width(),h=o.height(),d=s.height(),v=r.pstyle("haystack-radius").value,g=v/2;a.haystackPts=a.allpts=[a.source.x*c*g+l.x,a.source.y*h*g+l.y,a.target.x*f*g+u.x,a.target.y*d*g+u.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Ht.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=e.posPts,a=e.intersectionPts,i=e.vectorNormInverse,o=t.pstyle("edge-distances").value,s=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),u=Math.min(s.pfValue.length,l.pfValue.length);r.edgeType="segments",r.segpts=[];for(var c=0;c<u;c++){var f=s.pfValue[c],h=l.pfValue[c],d=1-f,v=f,g=o==="node-position"?n:a,y={x:g.x1*d+g.x2*v,y:g.y1*d+g.y2*v};r.segpts.push(y.x+i.x*h,y.y+i.y*h)}};Ht.findLoopPoints=function(t,e,r,n){var a=t._private.rscratch,i=e.dirCounts,o=e.srcPos,s=t.pstyle("control-point-distances"),l=s?s.pfValue[0]:void 0,u=t.pstyle("loop-direction").pfValue,c=t.pstyle("loop-sweep").pfValue,f=t.pstyle("control-point-step-size").pfValue;a.edgeType="self";var h=r,d=f;n&&(h=0,d=l);var v=u-Math.PI/2,g=v-c/2,y=v+c/2,p=u+"_"+c;h=i[p]===void 0?i[p]=0:++i[p],a.ctrlpts=[o.x+Math.cos(g)*1.4*d*(h/3+1),o.y+Math.sin(g)*1.4*d*(h/3+1),o.x+Math.cos(y)*1.4*d*(h/3+1),o.y+Math.sin(y)*1.4*d*(h/3+1)]};Ht.findCompoundLoopPoints=function(t,e,r,n){var a=t._private.rscratch;a.edgeType="compound";var i=e.srcPos,o=e.tgtPos,s=e.srcW,l=e.srcH,u=e.tgtW,c=e.tgtH,f=t.pstyle("control-point-step-size").pfValue,h=t.pstyle("control-point-distances"),d=h?h.pfValue[0]:void 0,v=r,g=f;n&&(v=0,g=d);var y=50,p={x:i.x-s/2,y:i.y-l/2},m={x:o.x-u/2,y:o.y-c/2},E={x:Math.min(p.x,m.x),y:Math.min(p.y,m.y)},T=.5,L=Math.max(T,Math.log(s*.01)),I=Math.max(T,Math.log(u*.01));a.ctrlpts=[E.x,E.y-(1+Math.pow(y,1.12)/100)*g*(v/3+1)*L,E.x-(1+Math.pow(y,1.12)/100)*g*(v/3+1)*I,E.y]};Ht.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Ht.findBezierPoints=function(t,e,r,n,a){var i=t._private.rscratch,o=e.vectorNormInverse,s=e.posPts,l=e.intersectionPts,u=t.pstyle("edge-distances").value,c=t.pstyle("control-point-step-size").pfValue,f=t.pstyle("control-point-distances"),h=t.pstyle("control-point-weights"),d=f&&h?Math.min(f.value.length,h.value.length):1,v=f?f.pfValue[0]:void 0,g=h.value[0],y=n;i.edgeType=y?"multibezier":"bezier",i.ctrlpts=[];for(var p=0;p<d;p++){var m=(.5-e.eles.length/2+r)*c*(a?-1:1),E=void 0,T=Gf(m);y&&(v=f?f.pfValue[p]:c,g=h.value[p]),n?E=v:E=v!==void 0?T*v:void 0;var L=E!==void 0?E:m,I=1-g,N=g,B=u==="node-position"?s:l,R={x:B.x1*I+B.x2*N,y:B.y1*I+B.y2*N};i.ctrlpts.push(R.x+o.x*L,R.y+o.y*L)}};Ht.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",s="downward",l="upward",u="auto",c=e.posPts,f=e.srcW,h=e.srcH,d=e.tgtW,v=e.tgtH,g=t.pstyle("edge-distances").value,y=g!=="node-position",p=t.pstyle("taxi-direction").value,m=p,E=t.pstyle("taxi-turn"),T=E.units==="%",L=E.pfValue,I=L<0,N=t.pstyle("taxi-turn-min-distance").pfValue,B=y?(f+d)/2:0,R=y?(h+v)/2:0,G=c.x2-c.x1,z=c.y2-c.y1,w=function(oe,he){return oe>0?Math.max(oe-he,0):Math.min(oe+he,0)},D=w(G,B),C=w(z,R),P=!1;m===u?p=Math.abs(D)>Math.abs(C)?a:n:m===l||m===s?(p=n,P=!0):(m===i||m===o)&&(p=a,P=!0);var S=p===n,V=S?C:D,H=S?z:G,_=Gf(H),K=!1;!(P&&(T||I))&&(m===s&&H<0||m===l&&H>0||m===i&&H>0||m===o&&H<0)&&(_*=-1,V=_*Math.abs(V),K=!0);var Y;if(T){var Q=L<0?1+L:L;Y=Q*V}else{var ee=L<0?V:0;Y=ee+L*_}var Z=function(oe){return Math.abs(oe)<N||Math.abs(oe)>=Math.abs(V)},te=Z(Y),W=Z(Math.abs(V)-Math.abs(Y)),k=te||W;if(k&&!K)if(S){var X=Math.abs(H)<=h/2,J=Math.abs(G)<=d/2;if(X){var ae=(c.x1+c.x2)/2,le=c.y1,De=c.y2;r.segpts=[ae,le,ae,De]}else if(J){var Re=(c.y1+c.y2)/2,ie=c.x1,xe=c.x2;r.segpts=[ie,Re,xe,Re]}else r.segpts=[c.x1,c.y2]}else{var Ne=Math.abs(H)<=f/2,pe=Math.abs(z)<=v/2;if(Ne){var se=(c.y1+c.y2)/2,Ce=c.x1,ke=c.x2;r.segpts=[Ce,se,ke,se]}else if(pe){var Pe=(c.x1+c.x2)/2,Me=c.y1,fe=c.y2;r.segpts=[Pe,Me,Pe,fe]}else r.segpts=[c.x2,c.y1]}else if(S){var U=c.y1+Y+(y?h/2*_:0),re=c.x1,ge=c.x2;r.segpts=[re,U,ge,U]}else{var ue=c.x1+Y+(y?f/2*_:0),ce=c.y1,Ue=c.y2;r.segpts=[ue,ce,ue,Ue]}};Ht.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,a=e.tgtPos,i=e.srcW,o=e.srcH,s=e.tgtW,l=e.tgtH,u=e.srcShape,c=e.tgtShape,f=!Ie(r.startX)||!Ie(r.startY),h=!Ie(r.arrowStartX)||!Ie(r.arrowStartY),d=!Ie(r.endX)||!Ie(r.endY),v=!Ie(r.arrowEndX)||!Ie(r.arrowEndY),g=3,y=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,p=g*y,m=en({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),E=m<p,T=en({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),L=T<p,I=!1;if(f||h||E){I=!0;var N={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},B=Math.sqrt(N.x*N.x+N.y*N.y),R={x:N.x/B,y:N.y/B},G=Math.max(i,o),z={x:r.ctrlpts[0]+R.x*2*G,y:r.ctrlpts[1]+R.y*2*G},w=u.intersectLine(n.x,n.y,i,o,z.x,z.y,0);E?(r.ctrlpts[0]=r.ctrlpts[0]+R.x*(p-m),r.ctrlpts[1]=r.ctrlpts[1]+R.y*(p-m)):(r.ctrlpts[0]=w[0]+R.x*p,r.ctrlpts[1]=w[1]+R.y*p)}if(d||v||L){I=!0;var D={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},C=Math.sqrt(D.x*D.x+D.y*D.y),P={x:D.x/C,y:D.y/C},S=Math.max(i,o),V={x:r.ctrlpts[0]+P.x*2*S,y:r.ctrlpts[1]+P.y*2*S},H=c.intersectLine(a.x,a.y,s,l,V.x,V.y,0);L?(r.ctrlpts[0]=r.ctrlpts[0]+P.x*(p-T),r.ctrlpts[1]=r.ctrlpts[1]+P.y*(p-T)):(r.ctrlpts[0]=H[0]+P.x*p,r.ctrlpts[1]=H[1]+P.y*p)}I&&this.findEndpoints(t)}};Ht.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,a;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,a=.5,e.midX=Ot(e.allpts[n],e.allpts[n+2],e.allpts[n+4],a),e.midY=Ot(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],a))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments")if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.segpts.length%4===0){var i=e.segpts.length/2,o=i-2;e.midX=(e.segpts[o]+e.segpts[i])/2,e.midY=(e.segpts[o+1]+e.segpts[i+1])/2}else{var s=e.segpts.length/2-1;e.midX=e.segpts[s],e.midY=e.segpts[s+1]}};Ht.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Ie(e.startX)&&Ie(e.startY)&&Ie(e.endX)&&Ie(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,dt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Ht.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i={map:new lr,get:function(N){var B=this.map.get(N[0]);return B!=null?B.get(N[1]):null},set:function(N,B){var R=this.map.get(N[0]);R==null&&(R=new lr,this.map.set(N[0],R)),R.set(N[1],B)}},o=[],s=[],l=0;l<t.length;l++){var u=t[l],c=u._private,f=u.pstyle("curve-style").value;if(!(u.removed()||!u.takesUpSpace())){if(f==="haystack"){s.push(u);continue}var h=f==="unbundled-bezier"||f==="segments"||f==="straight"||f==="straight-triangle"||f==="taxi",d=f==="unbundled-bezier"||f==="bezier",v=c.source,g=c.target,y=v.poolIndex(),p=g.poolIndex(),m=[y,p].sort(),E=i.get(m);E==null&&(E={eles:[]},i.set(m,E),o.push(m)),E.eles.push(u),h&&(E.hasUnbundled=!0),d&&(E.hasBezier=!0)}}for(var T=function(N){var B=o[N],R=i.get(B),G=void 0;if(!R.hasUnbundled){var z=R.eles[0].parallelEdges().filter(function(fe){return fe.isBundledBezier()});Po(R.eles),z.forEach(function(fe){return R.eles.push(fe)}),R.eles.sort(function(fe,U){return fe.poolIndex()-U.poolIndex()})}var w=R.eles[0],D=w.source(),C=w.target();if(D.poolIndex()>C.poolIndex()){var P=D;D=C,C=P}var S=R.srcPos=D.position(),V=R.tgtPos=C.position(),H=R.srcW=D.outerWidth(),_=R.srcH=D.outerHeight(),K=R.tgtW=C.outerWidth(),Y=R.tgtH=C.outerHeight(),Q=R.srcShape=r.nodeShapes[e.getNodeShape(D)],ee=R.tgtShape=r.nodeShapes[e.getNodeShape(C)];R.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var Z=0;Z<R.eles.length;Z++){var te=R.eles[Z],W=te[0]._private.rscratch,k=te.pstyle("curve-style").value,X=k==="unbundled-bezier"||k==="segments"||k==="taxi",J=!D.same(te.source());if(!R.calculatedIntersection&&D!==C&&(R.hasBezier||R.hasUnbundled)){R.calculatedIntersection=!0;var ae=Q.intersectLine(S.x,S.y,H,_,V.x,V.y,0),le=R.srcIntn=ae,De=ee.intersectLine(V.x,V.y,K,Y,S.x,S.y,0),Re=R.tgtIntn=De,ie=R.intersectionPts={x1:ae[0],x2:De[0],y1:ae[1],y2:De[1]},xe=R.posPts={x1:S.x,x2:V.x,y1:S.y,y2:V.y},Ne=De[1]-ae[1],pe=De[0]-ae[0],se=Math.sqrt(pe*pe+Ne*Ne),Ce=R.vector={x:pe,y:Ne},ke=R.vectorNorm={x:Ce.x/se,y:Ce.y/se},Pe={x:-ke.y,y:ke.x};R.nodesOverlap=!Ie(se)||ee.checkPoint(ae[0],ae[1],0,K,Y,V.x,V.y)||Q.checkPoint(De[0],De[1],0,H,_,S.x,S.y),R.vectorNormInverse=Pe,G={nodesOverlap:R.nodesOverlap,dirCounts:R.dirCounts,calculatedIntersection:!0,hasBezier:R.hasBezier,hasUnbundled:R.hasUnbundled,eles:R.eles,srcPos:V,tgtPos:S,srcW:K,srcH:Y,tgtW:H,tgtH:_,srcIntn:Re,tgtIntn:le,srcShape:ee,tgtShape:Q,posPts:{x1:xe.x2,y1:xe.y2,x2:xe.x1,y2:xe.y1},intersectionPts:{x1:ie.x2,y1:ie.y2,x2:ie.x1,y2:ie.y1},vector:{x:-Ce.x,y:-Ce.y},vectorNorm:{x:-ke.x,y:-ke.y},vectorNormInverse:{x:-Pe.x,y:-Pe.y}}}var Me=J?G:R;W.nodesOverlap=Me.nodesOverlap,W.srcIntn=Me.srcIntn,W.tgtIntn=Me.tgtIntn,a&&(D.isParent()||D.isChild()||C.isParent()||C.isChild())&&(D.parents().anySame(C)||C.parents().anySame(D)||D.same(C)&&D.isParent())?e.findCompoundLoopPoints(te,Me,Z,X):D===C?e.findLoopPoints(te,Me,Z,X):k==="segments"?e.findSegmentsPoints(te,Me):k==="taxi"?e.findTaxiPoints(te,Me):k==="straight"||!X&&R.eles.length%2===1&&Z===Math.floor(R.eles.length/2)?e.findStraightEdgePoints(te):e.findBezierPoints(te,Me,Z,X,J),e.findEndpoints(te),e.tryToCorrectInvalidPoints(te,Me),e.checkForInvalidEdgeWarning(te),e.storeAllpts(te),e.storeEdgeProjections(te),e.calculateArrowAngles(te),e.recalculateEdgeLabelProjections(te),e.calculateLabelAngles(te)}},L=0;L<o.length;L++)T(L);this.findHaystackPoints(s)}};function Lh(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],a=t[r+1];e.push({x:n,y:a})}return e}}Ht.getSegmentPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="segments")return this.recalculateRenderedStyle(t),Lh(e.segpts)};Ht.getControlPoints=function(t){var e=t[0]._private.rscratch,r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return this.recalculateRenderedStyle(t),Lh(e.ctrlpts)};Ht.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var ma={};ma.manualEndptToPx=function(t,e){var r=this,n=t.position(),a=t.outerWidth(),i=t.outerHeight();if(e.value.length===2){var o=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(o[0]=o[0]*a),e.units[1]==="%"&&(o[1]=o[1]*i),o[0]+=n.x,o[1]+=n.y,o}else{var s=e.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(a,i),u=[n.x+Math.cos(s)*l,n.y+Math.sin(s)*l];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,a,i,u[0],u[1],0)}};ma.findEndpoints=function(t){var e=this,r,n=t.source()[0],a=t.target()[0],i=n.position(),o=a.position(),s=t.pstyle("target-arrow-shape").value,l=t.pstyle("source-arrow-shape").value,u=t.pstyle("target-distance-from-node").pfValue,c=t.pstyle("source-distance-from-node").pfValue,f=t.pstyle("curve-style").value,h=t._private.rscratch,d=h.edgeType,v=f==="taxi",g=d==="self"||d==="compound",y=d==="bezier"||d==="multibezier"||g,p=d!=="bezier",m=d==="straight"||d==="segments",E=d==="segments",T=y||p||m,L=g||v,I=t.pstyle("source-endpoint"),N=L?"outside-to-node":I.value,B=t.pstyle("target-endpoint"),R=L?"outside-to-node":B.value;h.srcManEndpt=I,h.tgtManEndpt=B;var G,z,w,D;if(y){var C=[h.ctrlpts[0],h.ctrlpts[1]],P=p?[h.ctrlpts[h.ctrlpts.length-2],h.ctrlpts[h.ctrlpts.length-1]]:C;G=P,z=C}else if(m){var S=E?h.segpts.slice(0,2):[o.x,o.y],V=E?h.segpts.slice(h.segpts.length-2):[i.x,i.y];G=V,z=S}if(R==="inside-to-node")r=[o.x,o.y];else if(B.units)r=this.manualEndptToPx(a,B);else if(R==="outside-to-line")r=h.tgtIntn;else if(R==="outside-to-node"||R==="outside-to-node-or-label"?w=G:(R==="outside-to-line"||R==="outside-to-line-or-label")&&(w=[i.x,i.y]),r=e.nodeShapes[this.getNodeShape(a)].intersectLine(o.x,o.y,a.outerWidth(),a.outerHeight(),w[0],w[1],0),R==="outside-to-node-or-label"||R==="outside-to-line-or-label"){var H=a._private.rscratch,_=H.labelWidth,K=H.labelHeight,Y=H.labelX,Q=H.labelY,ee=_/2,Z=K/2,te=a.pstyle("text-valign").value;te==="top"?Q-=Z:te==="bottom"&&(Q+=Z);var W=a.pstyle("text-halign").value;W==="left"?Y-=ee:W==="right"&&(Y+=ee);var k=oa(w[0],w[1],[Y-ee,Q-Z,Y+ee,Q-Z,Y+ee,Q+Z,Y-ee,Q+Z],o.x,o.y);if(k.length>0){var X=i,J=Zr(X,xn(r)),ae=Zr(X,xn(k)),le=J;if(ae<J&&(r=k,le=ae),k.length>2){var De=Zr(X,{x:k[2],y:k[3]});De<le&&(r=[k[2],k[3]])}}}var Re=Va(r,G,e.arrowShapes[s].spacing(t)+u),ie=Va(r,G,e.arrowShapes[s].gap(t)+u);if(h.endX=ie[0],h.endY=ie[1],h.arrowEndX=Re[0],h.arrowEndY=Re[1],N==="inside-to-node")r=[i.x,i.y];else if(I.units)r=this.manualEndptToPx(n,I);else if(N==="outside-to-line")r=h.srcIntn;else if(N==="outside-to-node"||N==="outside-to-node-or-label"?D=z:(N==="outside-to-line"||N==="outside-to-line-or-label")&&(D=[o.x,o.y]),r=e.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),D[0],D[1],0),N==="outside-to-node-or-label"||N==="outside-to-line-or-label"){var xe=n._private.rscratch,Ne=xe.labelWidth,pe=xe.labelHeight,se=xe.labelX,Ce=xe.labelY,ke=Ne/2,Pe=pe/2,Me=n.pstyle("text-valign").value;Me==="top"?Ce-=Pe:Me==="bottom"&&(Ce+=Pe);var fe=n.pstyle("text-halign").value;fe==="left"?se-=ke:fe==="right"&&(se+=ke);var U=oa(D[0],D[1],[se-ke,Ce-Pe,se+ke,Ce-Pe,se+ke,Ce+Pe,se-ke,Ce+Pe],i.x,i.y);if(U.length>0){var re=o,ge=Zr(re,xn(r)),ue=Zr(re,xn(U)),ce=ge;if(ue<ge&&(r=[U[0],U[1]],ce=ue),U.length>2){var Ue=Zr(re,{x:U[2],y:U[3]});Ue<ce&&(r=[U[2],U[3]])}}}var j=Va(r,z,e.arrowShapes[l].spacing(t)+c),oe=Va(r,z,e.arrowShapes[l].gap(t)+c);h.startX=oe[0],h.startY=oe[1],h.arrowStartX=j[0],h.arrowStartY=j[1],T&&(!Ie(h.startX)||!Ie(h.startY)||!Ie(h.endX)||!Ie(h.endY)?h.badLine=!0:h.badLine=!1)};ma.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};ma.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;switch(this.recalculateRenderedStyle(t),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var Wo={};function h1(t,e,r){for(var n=function(u,c,f,h){return Ot(u,c,f,h)},a=e._private,i=a.rstyle.bezierPts,o=0;o<t.bezierProjPcts.length;o++){var s=t.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}Wo.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)h1(this,t,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=e.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;e.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Wo.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var fr={};fr.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Br(e)){var r,n,a=t._private,i=t.width(),o=t.height(),s=t.padding(),l=t.position(),u=t.pstyle("text-halign").strValue,c=t.pstyle("text-valign").strValue,f=a.rscratch,h=a.rstyle;switch(u){case"left":r=l.x-i/2-s;break;case"right":r=l.x+i/2+s;break;default:r=l.x}switch(c){case"top":n=l.y-o/2-s;break;case"bottom":n=l.y+o/2+s;break;default:n=l.y}f.labelX=r,f.labelY=n,h.labelX=r,h.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var Dh=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},Mh=function(e,r){var n=r.x-e.x,a=r.y-e.y;return Dh(n,a)},d1=function(e,r,n,a){var i=ia(0,a-.001,1),o=ia(0,a+.001,1),s=Tn(e,r,n,i),l=Tn(e,r,n,o);return Mh(s,l)};fr.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,a=this,i={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(i.mid||i.source||i.target){e={x:n.midX,y:n.midY};var o=function(f,h,d){Pr(r.rscratch,f,h,d),Pr(r.rstyle,f,h,d)};o("labelX",null,e.x),o("labelY",null,e.y);var s=Dh(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var l=function c(){if(c.cache)return c.cache;for(var f=[],h=0;h+5<n.allpts.length;h+=4){var d={x:n.allpts[h],y:n.allpts[h+1]},v={x:n.allpts[h+2],y:n.allpts[h+3]},g={x:n.allpts[h+4],y:n.allpts[h+5]};f.push({p0:d,p1:v,p2:g,startDist:0,length:0,segments:[]})}var y=r.rstyle.bezierPts,p=a.bezierProjPcts.length;function m(N,B,R,G,z){var w=en(B,R),D=N.segments[N.segments.length-1],C={p0:B,p1:R,t0:G,t1:z,startDist:D?D.startDist+D.length:0,length:w};N.segments.push(C),N.length+=w}for(var E=0;E<f.length;E++){var T=f[E],L=f[E-1];L&&(T.startDist=L.startDist+L.length),m(T,T.p0,y[E*p],0,a.bezierProjPcts[0]);for(var I=0;I<p-1;I++)m(T,y[E*p+I],y[E*p+I+1],a.bezierProjPcts[I],a.bezierProjPcts[I+1]);m(T,y[E*p+p-1],T.p2,a.bezierProjPcts[p-1],1)}return c.cache=f},u=function(f){var h,d=f==="source";if(i[f]){var v=t.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var g=l(),y,p=0,m=0,E=0;E<g.length;E++){for(var T=g[d?E:g.length-1-E],L=0;L<T.segments.length;L++){var I=T.segments[d?L:T.segments.length-1-L],N=E===g.length-1&&L===T.segments.length-1;if(p=m,m+=I.length,m>=v||N){y={cp:T,segment:I};break}}if(y)break}var B=y.cp,R=y.segment,G=(v-p)/R.length,z=R.t1-R.t0,w=d?R.t0+z*G:R.t1-z*G;w=ia(0,w,1),e=Tn(B.p0,B.p1,B.p2,w),h=d1(B.p0,B.p1,B.p2,w);break}case"straight":case"segments":case"haystack":{for(var D=0,C,P,S,V,H=n.allpts.length,_=0;_+3<H&&(d?(S={x:n.allpts[_],y:n.allpts[_+1]},V={x:n.allpts[_+2],y:n.allpts[_+3]}):(S={x:n.allpts[H-2-_],y:n.allpts[H-1-_]},V={x:n.allpts[H-4-_],y:n.allpts[H-3-_]}),C=en(S,V),P=D,D+=C,!(D>=v));_+=2);var K=v-P,Y=K/C;Y=ia(0,Y,1),e=Mb(S,V,Y),h=Mh(S,V);break}}o("labelX",f,e.x),o("labelY",f,e.y),o("labelAutoAngle",f,h)}};u("source"),u("target"),this.applyLabelDimensions(t)}};fr.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};fr.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),a=this.calculateLabelDimensions(t,n),i=t.pstyle("line-height").pfValue,o=t.pstyle("text-wrap").strValue,s=ir(r.rscratch,"labelWrapCachedLines",e)||[],l=o!=="wrap"?1:Math.max(s.length,1),u=a.height/l,c=u*i,f=a.width,h=a.height+(l-1)*(i-1)*u;Pr(r.rstyle,"labelWidth",e,f),Pr(r.rscratch,"labelWidth",e,f),Pr(r.rstyle,"labelHeight",e,h),Pr(r.rscratch,"labelHeight",e,h),Pr(r.rscratch,"labelLineHeight",e,c)};fr.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",a=t.pstyle(n+"label").strValue,i=t.pstyle("text-transform").value,o=function(K,Y){return Y?(Pr(r.rscratch,K,e,Y),Y):ir(r.rscratch,K,e)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var s=t.pstyle("text-wrap").value;if(s==="wrap"){var l=o("labelKey");if(l!=null&&o("labelWrapKey")===l)return o("labelWrapCachedText");for(var u="\u200B",c=a.split(`
`),f=t.pstyle("text-max-width").pfValue,h=t.pstyle("text-overflow-wrap").value,d=h==="anywhere",v=[],g=/[\s\u200b]+/,y=d?"":" ",p=0;p<c.length;p++){var m=c[p],E=this.calculateLabelDimensions(t,m),T=E.width;if(d){var L=m.split("").join(u);m=L}if(T>f){for(var I=m.split(g),N="",B=0;B<I.length;B++){var R=I[B],G=N.length===0?R:N+y+R,z=this.calculateLabelDimensions(t,G),w=z.width;w<=f?N+=R+y:(N&&v.push(N),N=R+y)}N.match(/^[\s\u200b]+$/)||v.push(N)}else v.push(m)}o("labelWrapCachedLines",v),a=o("labelWrapCachedText",v.join(`
`)),o("labelWrapKey",l)}else if(s==="ellipsis"){var D=t.pstyle("text-max-width").pfValue,C="",P="\u2026",S=!1;if(this.calculateLabelDimensions(t,a).width<D)return a;for(var V=0;V<a.length;V++){var H=this.calculateLabelDimensions(t,C+a[V]+P).width;if(H>D)break;C+=a[V],V===a.length-1&&(S=!0)}return S||(C+=P),C}return a};fr.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};fr.calculateLabelDimensions=function(t,e){var r=this,n=jr(e,t._private.labelDimsKey),a=r.labelDimCache||(r.labelDimCache=[]),i=a[n];if(i!=null)return i;var o=0,s=t.pstyle("font-style").strValue,l=t.pstyle("font-size").pfValue,u=t.pstyle("font-family").strValue,c=t.pstyle("font-weight").strValue,f=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!f){f=this.labelCalcCanvas=document.createElement("canvas"),h=this.labelCalcCanvasContext=f.getContext("2d");var d=f.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}h.font="".concat(s," ").concat(c," ").concat(l,"px ").concat(u);for(var v=0,g=0,y=e.split(`
`),p=0;p<y.length;p++){var m=y[p],E=h.measureText(m),T=Math.ceil(E.width),L=l;v=Math.max(T,v),g+=L}return v+=o,g+=o,a[n]={width:v,height:g}};fr.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,a=t.isEdge(),i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),s=o.strValue;return s==="none"?0:a&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};fr.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,a=n.rscratch;a.labelAngle=e.calculateLabelAngle(t),r&&(a.sourceLabelAngle=e.calculateLabelAngle(t,"source"),a.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var Ah={},cf=28,ff=!1;Ah.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<cf||t.height()<cf))return ff||(dt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),ff=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Ti={};Ti.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(o),s)for(var l=0;l<o.length;l++){var u=o[l],c=u._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var a=function(o){if(o){var s=r.onUpdateEleCalcsFns;e.cleanStyle();for(var l=0;l<e.length;l++){var u=e[l],c=u._private.rstyle;u.isNode()&&!c.cleanConnected&&(n(u.connectedEdges()),c.cleanConnected=!0)}if(s)for(var f=0;f<s.length;f++){var h=s[f];h(o,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Ti.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Ti.recalculateRenderedStyle=function(t,e){var r=function(T){return T._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){e===void 0&&(e=!0);for(var i=0;i<t.length;i++){var o=t[i],s=o._private,l=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(l.clean=!1),!(e&&l.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?a.push(o):n.push(o),l.clean=!0)}for(var u=0;u<a.length;u++){var c=a[u],f=c._private,h=f.rstyle,d=c.position();this.recalculateNodeLabelProjection(c),h.nodeX=d.x,h.nodeY=d.y,h.nodeW=c.pstyle("width").pfValue,h.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var g=n[v],y=g._private,p=y.rstyle,m=y.rscratch;p.srcX=m.arrowStartX,p.srcY=m.arrowStartY,p.tgtX=m.arrowEndX,p.tgtY=m.arrowEndY,p.midX=m.midX,p.midY=m.midY,p.labelAngle=m.labelAngle,p.sourceLabelAngle=m.sourceLabelAngle,p.targetLabelAngle=m.targetLabelAngle}}};var Si={};Si.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):a.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Si.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Si.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(gh),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Nh={};[on,ci,Ht,ma,Wo,fr,Ah,Ti,Si].forEach(function(t){Je(Nh,t)});var Oh={};Oh.getCachedImage=function(t,e,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[t];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[t]=a[t]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",l=t.substring(0,s.length).toLowerCase()===s;return l||(e=e==="null"?null:e,o.crossOrigin=e),o.src=t,o};var kn={};kn.registerBinding=function(t,e,r,n){var a=Array.prototype.slice.apply(arguments,[1]),i=this.binder(t);return i.on.apply(i,a)};kn.binder=function(t){var e=this,r=t===window||t===document||t===document.body||P0(t);if(e.supportsPassiveEvents==null){var n=!1;try{var a=Object.defineProperty({},"passive",{get:function(){return n=!0,!0}});window.addEventListener("test",null,a)}catch{}e.supportsPassiveEvents=n}var i=function(s,l,u){var c=Array.prototype.slice.call(arguments);return r&&e.supportsPassiveEvents&&(c[2]={capture:u??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:c}),(t.addEventListener||t.on).apply(t,c),this};return{on:i,addEventListener:i,addListener:i,bind:i}};kn.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};kn.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};kn.load=function(){var t=this,e=function(U){return U.selected()},r=function(U,re,ge,ue){U==null&&(U=t.cy);for(var ce=0;ce<re.length;ce++){var Ue=re[ce];U.emit({originalEvent:ge,type:Ue,position:ue})}},n=function(U){return U.shiftKey||U.metaKey||U.ctrlKey},a=function(U,re){var ge=!0;if(t.cy.hasCompoundNodes()&&U&&U.pannable())for(var ue=0;re&&ue<re.length;ue++){var U=re[ue];if(U.isNode()&&U.isParent()&&!U.pannable()){ge=!1;break}}else ge=!0;return ge},i=function(U){U[0]._private.grabbed=!0},o=function(U){U[0]._private.grabbed=!1},s=function(U){U[0]._private.rscratch.inDragLayer=!0},l=function(U){U[0]._private.rscratch.inDragLayer=!1},u=function(U){U[0]._private.rscratch.isGrabTarget=!0},c=function(U){U[0]._private.rscratch.isGrabTarget=!1},f=function(U,re){var ge=re.addToList,ue=ge.has(U);!ue&&U.grabbable()&&!U.locked()&&(ge.merge(U),i(U))},h=function(U,re){if(U.cy().hasCompoundNodes()&&!(re.inDragLayer==null&&re.addToList==null)){var ge=U.descendants();re.inDragLayer&&(ge.forEach(s),ge.connectedEdges().forEach(s)),re.addToList&&f(ge,re)}},d=function(U,re){re=re||{};var ge=U.cy().hasCompoundNodes();re.inDragLayer&&(U.forEach(s),U.neighborhood().stdFilter(function(ue){return!ge||ue.isEdge()}).forEach(s)),re.addToList&&U.forEach(function(ue){f(ue,re)}),h(U,re),y(U,{inDragLayer:re.inDragLayer}),t.updateCachedGrabbedEles()},v=d,g=function(U){U&&(t.getCachedZSortedEles().forEach(function(re){o(re),l(re),c(re)}),t.updateCachedGrabbedEles())},y=function(U,re){if(!(re.inDragLayer==null&&re.addToList==null)&&U.cy().hasCompoundNodes()){var ge=U.ancestors().orphans();if(!ge.same(U)){var ue=ge.descendants().spawnSelf().merge(ge).unmerge(U).unmerge(U.descendants()),ce=ue.connectedEdges();re.inDragLayer&&(ce.forEach(s),ue.forEach(s)),re.addToList&&ue.forEach(function(Ue){f(Ue,re)})}}},p=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},m=typeof MutationObserver<"u",E=typeof ResizeObserver<"u";m?(t.removeObserver=new MutationObserver(function(fe){for(var U=0;U<fe.length;U++){var re=fe[U],ge=re.removedNodes;if(ge)for(var ue=0;ue<ge.length;ue++){var ce=ge[ue];if(ce===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(fe){t.destroy()});var T=hi.default(function(){t.cy.resize()},100);m&&(t.styleObserver=new MutationObserver(T),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(window,"resize",T),E&&(t.resizeObserver=new ResizeObserver(T),t.resizeObserver.observe(t.container));var L=function(U,re){for(;U!=null;)re(U),U=U.parentNode},I=function(){t.invalidateContainerClientCoordsCache()};L(t.container,function(fe){t.registerBinding(fe,"transitionend",I),t.registerBinding(fe,"animationend",I),t.registerBinding(fe,"scroll",I)}),t.registerBinding(t.container,"contextmenu",function(fe){fe.preventDefault()});var N=function(){return t.selection[4]!==0},B=function(U){for(var re=t.findContainerClientCoords(),ge=re[0],ue=re[1],ce=re[2],Ue=re[3],j=U.touches?U.touches:[U],oe=!1,he=0;he<j.length;he++){var me=j[he];if(ge<=me.clientX&&me.clientX<=ge+ce&&ue<=me.clientY&&me.clientY<=ue+Ue){oe=!0;break}}if(!oe)return!1;for(var de=t.container,we=U.target,Le=we.parentNode,Se=!1;Le;){if(Le===de){Se=!0;break}Le=Le.parentNode}return!!Se};t.registerBinding(t.container,"mousedown",function(U){if(B(U)){U.preventDefault(),p(),t.hoverData.capture=!0,t.hoverData.which=U.which;var re=t.cy,ge=[U.clientX,U.clientY],ue=t.projectIntoViewport(ge[0],ge[1]),ce=t.selection,Ue=t.findNearestElements(ue[0],ue[1],!0,!1),j=Ue[0],oe=t.dragData.possibleDragElements;t.hoverData.mdownPos=ue,t.hoverData.mdownGPos=ge;var he=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var Te=t.hoverData.down;Te?Te.emit({originalEvent:U,type:"taphold",position:{x:ue[0],y:ue[1]}}):re.emit({originalEvent:U,type:"taphold",position:{x:ue[0],y:ue[1]}})}},t.tapholdDuration)};if(U.which==3){t.hoverData.cxtStarted=!0;var me={originalEvent:U,type:"cxttapstart",position:{x:ue[0],y:ue[1]}};j?(j.activate(),j.emit(me),t.hoverData.down=j):re.emit(me),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(U.which==1){j&&j.activate();{if(j!=null&&t.nodeIsGrabbable(j)){var de=function(Te){return{originalEvent:U,type:Te,position:{x:ue[0],y:ue[1]}}},we=function(Te){Te.emit(de("grab"))};if(u(j),!j.selected())oe=t.dragData.possibleDragElements=re.collection(),v(j,{addToList:oe}),j.emit(de("grabon")).emit(de("grab"));else{oe=t.dragData.possibleDragElements=re.collection();var Le=re.$(function(Se){return Se.isNode()&&Se.selected()&&t.nodeIsGrabbable(Se)});d(Le,{addToList:oe}),j.emit(de("grabon")),Le.forEach(we)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=j,t.hoverData.downs=Ue,t.hoverData.downTime=new Date().getTime()}r(j,["mousedown","tapstart","vmousedown"],U,{x:ue[0],y:ue[1]}),j==null?(ce[4]=1,t.data.bgActivePosistion={x:ue[0],y:ue[1]},t.redrawHint("select",!0),t.redraw()):j.pannable()&&(ce[4]=1),he()}ce[0]=ce[2]=ue[0],ce[1]=ce[3]=ue[1]}},!1),t.registerBinding(window,"mousemove",function(U){var re=t.hoverData.capture;if(!(!re&&!B(U))){var ge=!1,ue=t.cy,ce=ue.zoom(),Ue=[U.clientX,U.clientY],j=t.projectIntoViewport(Ue[0],Ue[1]),oe=t.hoverData.mdownPos,he=t.hoverData.mdownGPos,me=t.selection,de=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(de=t.findNearestElement(j[0],j[1],!0,!1));var we=t.hoverData.last,Le=t.hoverData.down,Se=[j[0]-me[2],j[1]-me[3]],Te=t.dragData.possibleDragElements,Be;if(he){var _e=Ue[0]-he[0],Fe=_e*_e,He=Ue[1]-he[1],nt=He*He,ze=Fe+nt;t.hoverData.isOverThresholdDrag=Be=ze>=t.desktopTapThreshold2}var Ge=n(U);Be&&(t.hoverData.tapholdCancelled=!0);var Ze=function(){var ft=t.hoverData.dragDelta=t.hoverData.dragDelta||[];ft.length===0?(ft.push(Se[0]),ft.push(Se[1])):(ft[0]+=Se[0],ft[1]+=Se[1])};ge=!0,r(de,["mousemove","vmousemove","tapdrag"],U,{x:j[0],y:j[1]});var We=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ue.emit({originalEvent:U,type:"boxstart",position:{x:j[0],y:j[1]}}),me[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Be){var Xe={originalEvent:U,type:"cxtdrag",position:{x:j[0],y:j[1]}};Le?Le.emit(Xe):ue.emit(Xe),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||de!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit({originalEvent:U,type:"cxtdragout",position:{x:j[0],y:j[1]}}),t.hoverData.cxtOver=de,de&&de.emit({originalEvent:U,type:"cxtdragover",position:{x:j[0],y:j[1]}}))}}else if(t.hoverData.dragging){if(ge=!0,ue.panningEnabled()&&ue.userPanningEnabled()){var ct;if(t.hoverData.justStartedPan){var at=t.hoverData.mdownPos;ct={x:(j[0]-at[0])*ce,y:(j[1]-at[1])*ce},t.hoverData.justStartedPan=!1}else ct={x:Se[0]*ce,y:Se[1]*ce};ue.panBy(ct),ue.emit("dragpan"),t.hoverData.dragged=!0}j=t.projectIntoViewport(U.clientX,U.clientY)}else if(me[4]==1&&(Le==null||Le.pannable())){if(Be){if(!t.hoverData.dragging&&ue.boxSelectionEnabled()&&(Ge||!ue.panningEnabled()||!ue.userPanningEnabled()))We();else if(!t.hoverData.selecting&&ue.panningEnabled()&&ue.userPanningEnabled()){var Et=a(Le,t.hoverData.downs);Et&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,me[4]=0,t.data.bgActivePosistion=xn(oe),t.redrawHint("select",!0),t.redraw())}Le&&Le.pannable()&&Le.active()&&Le.unactivate()}}else{if(Le&&Le.pannable()&&Le.active()&&Le.unactivate(),(!Le||!Le.grabbed())&&de!=we&&(we&&r(we,["mouseout","tapdragout"],U,{x:j[0],y:j[1]}),de&&r(de,["mouseover","tapdragover"],U,{x:j[0],y:j[1]}),t.hoverData.last=de),Le)if(Be){if(ue.boxSelectionEnabled()&&Ge)Le&&Le.grabbed()&&(g(Te),Le.emit("freeon"),Te.emit("free"),t.dragData.didDrag&&(Le.emit("dragfreeon"),Te.emit("dragfree"))),We();else if(Le&&Le.grabbed()&&t.nodeIsDraggable(Le)){var tt=!t.dragData.didDrag;tt&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||d(Te,{inDragLayer:!0});var $e={x:0,y:0};if(Ie(Se[0])&&Ie(Se[1])&&($e.x+=Se[0],$e.y+=Se[1],tt)){var Qe=t.hoverData.dragDelta;Qe&&Ie(Qe[0])&&Ie(Qe[1])&&($e.x+=Qe[0],$e.y+=Qe[1])}t.hoverData.draggingEles=!0,Te.silentShift($e).emit("position drag"),t.redrawHint("drag",!0),t.redraw()}}else Ze();ge=!0}if(me[2]=j[0],me[3]=j[1],ge)return U.stopPropagation&&U.stopPropagation(),U.preventDefault&&U.preventDefault(),!1}},!1);var R,G,z;t.registerBinding(window,"mouseup",function(U){var re=t.hoverData.capture;if(re){t.hoverData.capture=!1;var ge=t.cy,ue=t.projectIntoViewport(U.clientX,U.clientY),ce=t.selection,Ue=t.findNearestElement(ue[0],ue[1],!0,!1),j=t.dragData.possibleDragElements,oe=t.hoverData.down,he=n(U);if(t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,oe&&oe.unactivate(),t.hoverData.which===3){var me={originalEvent:U,type:"cxttapend",position:{x:ue[0],y:ue[1]}};if(oe?oe.emit(me):ge.emit(me),!t.hoverData.cxtDragged){var de={originalEvent:U,type:"cxttap",position:{x:ue[0],y:ue[1]}};oe?oe.emit(de):ge.emit(de)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(r(Ue,["mouseup","tapend","vmouseup"],U,{x:ue[0],y:ue[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(r(oe,["click","tap","vclick"],U,{x:ue[0],y:ue[1]}),G=!1,U.timeStamp-z<=ge.multiClickDebounceTime()?(R&&clearTimeout(R),G=!0,z=null,r(oe,["dblclick","dbltap","vdblclick"],U,{x:ue[0],y:ue[1]})):(R=setTimeout(function(){G||r(oe,["oneclick","onetap","voneclick"],U,{x:ue[0],y:ue[1]})},ge.multiClickDebounceTime()),z=U.timeStamp)),oe==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!n(U)&&(ge.$(e).unselect(["tapunselect"]),j.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=j=ge.collection()),Ue==oe&&!t.dragData.didDrag&&!t.hoverData.selecting&&Ue!=null&&Ue._private.selectable&&(t.hoverData.dragging||(ge.selectionType()==="additive"||he?Ue.selected()?Ue.unselect(["tapunselect"]):Ue.select(["tapselect"]):he||(ge.$(e).unmerge(Ue).unselect(["tapunselect"]),Ue.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var we=ge.collection(t.getAllInBox(ce[0],ce[1],ce[2],ce[3]));t.redrawHint("select",!0),we.length>0&&t.redrawHint("eles",!0),ge.emit({type:"boxend",originalEvent:U,position:{x:ue[0],y:ue[1]}});var Le=function(Be){return Be.selectable()&&!Be.selected()};ge.selectionType()==="additive"||he||ge.$(e).unmerge(we).unselect(),we.emit("box").stdFilter(Le).select().emit("boxselect"),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!ce[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var Se=oe&&oe.grabbed();g(j),Se&&(oe.emit("freeon"),j.emit("free"),t.dragData.didDrag&&(oe.emit("dragfreeon"),j.emit("dragfree")))}}ce[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null}},!1);var w=function(U){if(!t.scrollingPage){var re=t.cy,ge=re.zoom(),ue=re.pan(),ce=t.projectIntoViewport(U.clientX,U.clientY),Ue=[ce[0]*ge+ue.x,ce[1]*ge+ue.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||N()){U.preventDefault();return}if(re.panningEnabled()&&re.userPanningEnabled()&&re.zoomingEnabled()&&re.userZoomingEnabled()){U.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var j;U.deltaY!=null?j=U.deltaY/-250:U.wheelDeltaY!=null?j=U.wheelDeltaY/1e3:j=U.wheelDelta/1e3,j=j*t.wheelSensitivity;var oe=U.deltaMode===1;oe&&(j*=33);var he=re.zoom()*Math.pow(10,j);U.type==="gesturechange"&&(he=t.gestureStartZoom*U.scale),re.zoom({level:he,renderedPosition:{x:Ue[0],y:Ue[1]}}),re.emit(U.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};t.registerBinding(t.container,"wheel",w,!0),t.registerBinding(window,"scroll",function(U){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(U){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||U.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(fe){t.hasTouchStarted||w(fe)},!0),t.registerBinding(t.container,"mouseout",function(U){var re=t.projectIntoViewport(U.clientX,U.clientY);t.cy.emit({originalEvent:U,type:"mouseout",position:{x:re[0],y:re[1]}})},!1),t.registerBinding(t.container,"mouseover",function(U){var re=t.projectIntoViewport(U.clientX,U.clientY);t.cy.emit({originalEvent:U,type:"mouseover",position:{x:re[0],y:re[1]}})},!1);var D,C,P,S,V,H,_,K,Y,Q,ee,Z,te,W=function(U,re,ge,ue){return Math.sqrt((ge-U)*(ge-U)+(ue-re)*(ue-re))},k=function(U,re,ge,ue){return(ge-U)*(ge-U)+(ue-re)*(ue-re)},X;t.registerBinding(t.container,"touchstart",X=function(U){if(t.hasTouchStarted=!0,!!B(U)){p(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var re=t.cy,ge=t.touchData.now,ue=t.touchData.earlier;if(U.touches[0]){var ce=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ge[0]=ce[0],ge[1]=ce[1]}if(U.touches[1]){var ce=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);ge[2]=ce[0],ge[3]=ce[1]}if(U.touches[2]){var ce=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);ge[4]=ce[0],ge[5]=ce[1]}if(U.touches[1]){t.touchData.singleTouchMoved=!0,g(t.dragData.touchDragEles);var Ue=t.findContainerClientCoords();Y=Ue[0],Q=Ue[1],ee=Ue[2],Z=Ue[3],D=U.touches[0].clientX-Y,C=U.touches[0].clientY-Q,P=U.touches[1].clientX-Y,S=U.touches[1].clientY-Q,te=0<=D&&D<=ee&&0<=P&&P<=ee&&0<=C&&C<=Z&&0<=S&&S<=Z;var j=re.pan(),oe=re.zoom();V=W(D,C,P,S),H=k(D,C,P,S),_=[(D+P)/2,(C+S)/2],K=[(_[0]-j.x)/oe,(_[1]-j.y)/oe];var he=200,me=he*he;if(H<me&&!U.touches[2]){var de=t.findNearestElement(ge[0],ge[1],!0,!0),we=t.findNearestElement(ge[2],ge[3],!0,!0);de&&de.isNode()?(de.activate().emit({originalEvent:U,type:"cxttapstart",position:{x:ge[0],y:ge[1]}}),t.touchData.start=de):we&&we.isNode()?(we.activate().emit({originalEvent:U,type:"cxttapstart",position:{x:ge[0],y:ge[1]}}),t.touchData.start=we):re.emit({originalEvent:U,type:"cxttapstart",position:{x:ge[0],y:ge[1]}}),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(U.touches[2])re.boxSelectionEnabled()&&U.preventDefault();else if(!U.touches[1]){if(U.touches[0]){var Le=t.findNearestElements(ge[0],ge[1],!0,!0),Se=Le[0];if(Se!=null&&(Se.activate(),t.touchData.start=Se,t.touchData.starts=Le,t.nodeIsGrabbable(Se))){var Te=t.dragData.touchDragEles=re.collection(),Be=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),Se.selected()?(Be=re.$(function(ze){return ze.selected()&&t.nodeIsGrabbable(ze)}),d(Be,{addToList:Te})):v(Se,{addToList:Te}),u(Se);var _e=function(Ge){return{originalEvent:U,type:Ge,position:{x:ge[0],y:ge[1]}}};Se.emit(_e("grabon")),Be?Be.forEach(function(ze){ze.emit(_e("grab"))}):Se.emit(_e("grab"))}r(Se,["touchstart","tapstart","vmousedown"],U,{x:ge[0],y:ge[1]}),Se==null&&(t.data.bgActivePosistion={x:ce[0],y:ce[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&r(t.touchData.start,["taphold"],U,{x:ge[0],y:ge[1]})},t.tapholdDuration)}}if(U.touches.length>=1){for(var Fe=t.touchData.startPosition=[],He=0;He<ge.length;He++)Fe[He]=ue[He]=ge[He];var nt=U.touches[0];t.touchData.startGPosition=[nt.clientX,nt.clientY]}}},!1);var J;t.registerBinding(window,"touchmove",J=function(U){var re=t.touchData.capture;if(!(!re&&!B(U))){var ge=t.selection,ue=t.cy,ce=t.touchData.now,Ue=t.touchData.earlier,j=ue.zoom();if(U.touches[0]){var oe=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ce[0]=oe[0],ce[1]=oe[1]}if(U.touches[1]){var oe=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);ce[2]=oe[0],ce[3]=oe[1]}if(U.touches[2]){var oe=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);ce[4]=oe[0],ce[5]=oe[1]}var he=t.touchData.startGPosition,me;if(re&&U.touches[0]&&he){for(var de=[],we=0;we<ce.length;we++)de[we]=ce[we]-Ue[we];var Le=U.touches[0].clientX-he[0],Se=Le*Le,Te=U.touches[0].clientY-he[1],Be=Te*Te,_e=Se+Be;me=_e>=t.touchTapThreshold2}if(re&&t.touchData.cxt){U.preventDefault();var Fe=U.touches[0].clientX-Y,He=U.touches[0].clientY-Q,nt=U.touches[1].clientX-Y,ze=U.touches[1].clientY-Q,Ge=k(Fe,He,nt,ze),Ze=Ge/H,We=150,Xe=We*We,ct=1.5,at=ct*ct;if(Ze>=at||Ge>=Xe){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Et={originalEvent:U,type:"cxttapend",position:{x:ce[0],y:ce[1]}};t.touchData.start?(t.touchData.start.unactivate().emit(Et),t.touchData.start=null):ue.emit(Et)}}if(re&&t.touchData.cxt){var Et={originalEvent:U,type:"cxtdrag",position:{x:ce[0],y:ce[1]}};t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Et):ue.emit(Et),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var tt=t.findNearestElement(ce[0],ce[1],!0,!0);(!t.touchData.cxtOver||tt!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit({originalEvent:U,type:"cxtdragout",position:{x:ce[0],y:ce[1]}}),t.touchData.cxtOver=tt,tt&&tt.emit({originalEvent:U,type:"cxtdragover",position:{x:ce[0],y:ce[1]}}))}else if(re&&U.touches[2]&&ue.boxSelectionEnabled())U.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ue.emit({originalEvent:U,type:"boxstart",position:{x:ce[0],y:ce[1]}}),t.touchData.selecting=!0,t.touchData.didSelect=!0,ge[4]=1,!ge||ge.length===0||ge[0]===void 0?(ge[0]=(ce[0]+ce[2]+ce[4])/3,ge[1]=(ce[1]+ce[3]+ce[5])/3,ge[2]=(ce[0]+ce[2]+ce[4])/3+1,ge[3]=(ce[1]+ce[3]+ce[5])/3+1):(ge[2]=(ce[0]+ce[2]+ce[4])/3,ge[3]=(ce[1]+ce[3]+ce[5])/3),t.redrawHint("select",!0),t.redraw();else if(re&&U.touches[1]&&!t.touchData.didSelect&&ue.zoomingEnabled()&&ue.panningEnabled()&&ue.userZoomingEnabled()&&ue.userPanningEnabled()){U.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var $e=t.dragData.touchDragEles;if($e){t.redrawHint("drag",!0);for(var Qe=0;Qe<$e.length;Qe++){var lt=$e[Qe]._private;lt.grabbed=!1,lt.rscratch.inDragLayer=!1}}var ft=t.touchData.start,Fe=U.touches[0].clientX-Y,He=U.touches[0].clientY-Q,nt=U.touches[1].clientX-Y,ze=U.touches[1].clientY-Q,Nt=W(Fe,He,nt,ze),Sr=Nt/V;if(te){var jt=Fe-D,Vt=He-C,M=nt-P,F=ze-S,A=(jt+M)/2,b=(Vt+F)/2,x=ue.zoom(),O=x*Sr,q=ue.pan(),$=K[0]*x+q.x,ne=K[1]*x+q.y,be={x:-O/x*($-q.x-A)+$,y:-O/x*(ne-q.y-b)+ne};if(ft&&ft.active()){var $e=t.dragData.touchDragEles;g($e),t.redrawHint("drag",!0),t.redrawHint("eles",!0),ft.unactivate().emit("freeon"),$e.emit("free"),t.dragData.didDrag&&(ft.emit("dragfreeon"),$e.emit("dragfree"))}ue.viewport({zoom:O,pan:be,cancelOnFailedZoom:!0}),ue.emit("pinchzoom"),V=Nt,D=Fe,C=He,P=nt,S=ze,t.pinching=!0}if(U.touches[0]){var oe=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ce[0]=oe[0],ce[1]=oe[1]}if(U.touches[1]){var oe=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);ce[2]=oe[0],ce[3]=oe[1]}if(U.touches[2]){var oe=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);ce[4]=oe[0],ce[5]=oe[1]}}else if(U.touches[0]&&!t.touchData.didSelect){var ye=t.touchData.start,ve=t.touchData.last,tt;if(!t.hoverData.draggingEles&&!t.swipePanning&&(tt=t.findNearestElement(ce[0],ce[1],!0,!0)),re&&ye!=null&&U.preventDefault(),re&&ye!=null&&t.nodeIsDraggable(ye))if(me){var $e=t.dragData.touchDragEles,Oe=!t.dragData.didDrag;Oe&&d($e,{inDragLayer:!0}),t.dragData.didDrag=!0;var Ae={x:0,y:0};if(Ie(de[0])&&Ie(de[1])&&(Ae.x+=de[0],Ae.y+=de[1],Oe)){t.redrawHint("eles",!0);var Ye=t.touchData.dragDelta;Ye&&Ie(Ye[0])&&Ie(Ye[1])&&(Ae.x+=Ye[0],Ae.y+=Ye[1])}t.hoverData.draggingEles=!0,$e.silentShift(Ae).emit("position drag"),t.redrawHint("drag",!0),t.touchData.startPosition[0]==Ue[0]&&t.touchData.startPosition[1]==Ue[1]&&t.redrawHint("eles",!0),t.redraw()}else{var Ye=t.touchData.dragDelta=t.touchData.dragDelta||[];Ye.length===0?(Ye.push(de[0]),Ye.push(de[1])):(Ye[0]+=de[0],Ye[1]+=de[1])}if(r(ye||tt,["touchmove","tapdrag","vmousemove"],U,{x:ce[0],y:ce[1]}),(!ye||!ye.grabbed())&&tt!=ve&&(ve&&ve.emit({originalEvent:U,type:"tapdragout",position:{x:ce[0],y:ce[1]}}),tt&&tt.emit({originalEvent:U,type:"tapdragover",position:{x:ce[0],y:ce[1]}})),t.touchData.last=tt,re)for(var Qe=0;Qe<ce.length;Qe++)ce[Qe]&&t.touchData.startPosition[Qe]&&me&&(t.touchData.singleTouchMoved=!0);if(re&&(ye==null||ye.pannable())&&ue.panningEnabled()&&ue.userPanningEnabled()){var je=a(ye,t.touchData.starts);je&&(U.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=xn(t.touchData.startPosition)),t.swipePanning?(ue.panBy({x:de[0]*j,y:de[1]*j}),ue.emit("dragpan")):me&&(t.swipePanning=!0,ue.panBy({x:Le*j,y:Te*j}),ue.emit("dragpan"),ye&&(ye.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var oe=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);ce[0]=oe[0],ce[1]=oe[1]}}for(var we=0;we<ce.length;we++)Ue[we]=ce[we];re&&U.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var ae;t.registerBinding(window,"touchcancel",ae=function(U){var re=t.touchData.start;t.touchData.capture=!1,re&&re.unactivate()});var le,De,Re,ie;if(t.registerBinding(window,"touchend",le=function(U){var re=t.touchData.start,ge=t.touchData.capture;if(ge)U.touches.length===0&&(t.touchData.capture=!1),U.preventDefault();else return;var ue=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var ce=t.cy,Ue=ce.zoom(),j=t.touchData.now,oe=t.touchData.earlier;if(U.touches[0]){var he=t.projectIntoViewport(U.touches[0].clientX,U.touches[0].clientY);j[0]=he[0],j[1]=he[1]}if(U.touches[1]){var he=t.projectIntoViewport(U.touches[1].clientX,U.touches[1].clientY);j[2]=he[0],j[3]=he[1]}if(U.touches[2]){var he=t.projectIntoViewport(U.touches[2].clientX,U.touches[2].clientY);j[4]=he[0],j[5]=he[1]}re&&re.unactivate();var me;if(t.touchData.cxt){if(me={originalEvent:U,type:"cxttapend",position:{x:j[0],y:j[1]}},re?re.emit(me):ce.emit(me),!t.touchData.cxtDragged){var de={originalEvent:U,type:"cxttap",position:{x:j[0],y:j[1]}};re?re.emit(de):ce.emit(de)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!U.touches[2]&&ce.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var we=ce.collection(t.getAllInBox(ue[0],ue[1],ue[2],ue[3]));ue[0]=void 0,ue[1]=void 0,ue[2]=void 0,ue[3]=void 0,ue[4]=0,t.redrawHint("select",!0),ce.emit({type:"boxend",originalEvent:U,position:{x:j[0],y:j[1]}});var Le=function(Xe){return Xe.selectable()&&!Xe.selected()};we.emit("box").stdFilter(Le).select().emit("boxselect"),we.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(re?.unactivate(),U.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!U.touches[1]){if(!U.touches[0]){if(!U.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Se=t.dragData.touchDragEles;if(re!=null){var Te=re._private.grabbed;g(Se),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Te&&(re.emit("freeon"),Se.emit("free"),t.dragData.didDrag&&(re.emit("dragfreeon"),Se.emit("dragfree"))),r(re,["touchend","tapend","vmouseup","tapdragout"],U,{x:j[0],y:j[1]}),re.unactivate(),t.touchData.start=null}else{var Be=t.findNearestElement(j[0],j[1],!0,!0);r(Be,["touchend","tapend","vmouseup","tapdragout"],U,{x:j[0],y:j[1]})}var _e=t.touchData.startPosition[0]-j[0],Fe=_e*_e,He=t.touchData.startPosition[1]-j[1],nt=He*He,ze=Fe+nt,Ge=ze*Ue*Ue;t.touchData.singleTouchMoved||(re||ce.$(":selected").unselect(["tapunselect"]),r(re,["tap","vclick"],U,{x:j[0],y:j[1]}),De=!1,U.timeStamp-ie<=ce.multiClickDebounceTime()?(Re&&clearTimeout(Re),De=!0,ie=null,r(re,["dbltap","vdblclick"],U,{x:j[0],y:j[1]})):(Re=setTimeout(function(){De||r(re,["onetap","voneclick"],U,{x:j[0],y:j[1]})},ce.multiClickDebounceTime()),ie=U.timeStamp)),re!=null&&!t.dragData.didDrag&&re._private.selectable&&Ge<t.touchTapThreshold2&&!t.pinching&&(ce.selectionType()==="single"?(ce.$(e).unmerge(re).unselect(["tapunselect"]),re.select(["tapselect"])):re.selected()?re.unselect(["tapunselect"]):re.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Ze=0;Ze<j.length;Ze++)oe[Ze]=j[Ze];t.dragData.didDrag=!1,U.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=null,t.touchData.startGPosition=null,t.touchData.didSelect=!1),U.touches.length<2&&(U.touches.length===1&&(t.touchData.startGPosition=[U.touches[0].clientX,U.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var xe=[],Ne=function(U){return{clientX:U.clientX,clientY:U.clientY,force:1,identifier:U.pointerId,pageX:U.pageX,pageY:U.pageY,radiusX:U.width/2,radiusY:U.height/2,screenX:U.screenX,screenY:U.screenY,target:U.target}},pe=function(U){return{event:U,touch:Ne(U)}},se=function(U){xe.push(pe(U))},Ce=function(U){for(var re=0;re<xe.length;re++){var ge=xe[re];if(ge.event.pointerId===U.pointerId){xe.splice(re,1);return}}},ke=function(U){var re=xe.filter(function(ge){return ge.event.pointerId===U.pointerId})[0];re.event=U,re.touch=Ne(U)},Pe=function(U){U.touches=xe.map(function(re){return re.touch})},Me=function(U){return U.pointerType==="mouse"||U.pointerType===4};t.registerBinding(t.container,"pointerdown",function(fe){Me(fe)||(fe.preventDefault(),se(fe),Pe(fe),X(fe))}),t.registerBinding(t.container,"pointerup",function(fe){Me(fe)||(Ce(fe),Pe(fe),le(fe))}),t.registerBinding(t.container,"pointercancel",function(fe){Me(fe)||(Ce(fe),Pe(fe),ae(fe))}),t.registerBinding(t.container,"pointermove",function(fe){Me(fe)||(fe.preventDefault(),ke(fe),Pe(fe),J(fe))})}};var Cr={};Cr.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,a,i,o,s){this.renderer.nodeShapeImpl("polygon",n,a,i,o,s,this.points)},intersectLine:function(n,a,i,o,s,l,u){return oa(s,l,this.points,n,a,i/2,o/2,u)},checkPoint:function(n,a,i,o,s,l,u){return Er(n,a,this.points,l,u,o,s,[0,-1],i)}}};Cr.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s){return Vb(i,o,e,r,n/2+s,a/2+s)},checkPoint:function(e,r,n,a,i,o,s){return Jr(e,r,a,i,o,s,n)}}};Cr.generateRoundPolygon=function(t,e){for(var r=new Array(e.length*2),n=0;n<e.length/2;n++){var a=n*2,i=void 0;n<e.length/2-1?i=(n+1)*2:i=0,r[n*4]=e[a],r[n*4+1]=e[a+1];var o=e[i]-e[a],s=e[i+1]-e[a+1],l=Math.sqrt(o*o+s*s);r[n*4+2]=o/l,r[n*4+3]=s/l}return this.nodeShapes[t]={renderer:this,name:t,points:r,draw:function(c,f,h,d,v){this.renderer.nodeShapeImpl("round-polygon",c,f,h,d,v,this.points)},intersectLine:function(c,f,h,d,v,g,y){return qb(v,g,this.points,c,f,h,d)},checkPoint:function(c,f,h,d,v,g,y){return Ub(c,f,this.points,g,y,d,v)}}};Cr.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:qt(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s){return Uf(i,o,e,r,n,a,s)},checkPoint:function(e,r,n,a,i,o,s){var l=ga(a,i),u=l*2;return!!(Er(e,r,this.points,o,s,a,i-u,[0,-1],n)||Er(e,r,this.points,o,s,a-u,i,[0,-1],n)||Jr(e,r,u,u,o-a/2+l,s-i/2+l,n)||Jr(e,r,u,u,o+a/2-l,s-i/2+l,n)||Jr(e,r,u,u,o+a/2-l,s+i/2-l,n)||Jr(e,r,u,u,o-a/2+l,s+i/2-l,n))}}};Cr.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Yf(),points:qt(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},generateCutTrianglePts:function(e,r,n,a){var i=this.cornerLength,o=r/2,s=e/2,l=n-s,u=n+s,c=a-o,f=a+o;return{topLeft:[l,c+i,l+i,c,l+i,c+i],topRight:[u-i,c,u,c+i,u-i,c+i],bottomRight:[u,f-i,u-i,f,u-i,f-i],bottomLeft:[l+i,f,l,f-i,l+i,f-i]}},intersectLine:function(e,r,n,a,i,o,s){var l=this.generateCutTrianglePts(n+2*s,a+2*s,e,r),u=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return oa(i,o,u,e,r)},checkPoint:function(e,r,n,a,i,o,s){if(Er(e,r,this.points,o,s,a,i-2*this.cornerLength,[0,-1],n)||Er(e,r,this.points,o,s,a-2*this.cornerLength,i,[0,-1],n))return!0;var l=this.generateCutTrianglePts(a,i,o,s);return Xt(e,r,l.topLeft)||Xt(e,r,l.topRight)||Xt(e,r,l.bottomRight)||Xt(e,r,l.bottomLeft)}}};Cr.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:qt(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s){var l=.15,u=.5,c=.85,f=this.generateBarrelBezierPts(n+2*s,a+2*s,e,r),h=function(g){var y=Tn({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},l),p=Tn({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},u),m=Tn({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},c);return[g[0],g[1],y.x,y.y,p.x,p.y,m.x,m.y,g[4],g[5]]},d=[].concat(h(f.topLeft),h(f.topRight),h(f.bottomRight),h(f.bottomLeft));return oa(i,o,d,e,r)},generateBarrelBezierPts:function(e,r,n,a){var i=r/2,o=e/2,s=n-o,l=n+o,u=a-i,c=a+i,f=po(e,r),h=f.heightOffset,d=f.widthOffset,v=f.ctrlPtOffsetPct*e,g={topLeft:[s,u+h,s+v,u,s+d,u],topRight:[l-d,u,l-v,u,l,u+h],bottomRight:[l,c-h,l-v,c,l-d,c],bottomLeft:[s+d,c,s+v,c,s,c-h]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,r,n,a,i,o,s){var l=po(a,i),u=l.heightOffset,c=l.widthOffset;if(Er(e,r,this.points,o,s,a,i-2*u,[0,-1],n)||Er(e,r,this.points,o,s,a-2*c,i,[0,-1],n))return!0;for(var f=this.generateBarrelBezierPts(a,i,o,s),h=function(N,B,R){var G=R[4],z=R[2],w=R[0],D=R[5],C=R[1],P=Math.min(G,w),S=Math.max(G,w),V=Math.min(D,C),H=Math.max(D,C);if(P<=N&&N<=S&&V<=B&&B<=H){var _=Hb(G,z,w),K=Fb(_[0],_[1],_[2],N),Y=K.filter(function(Q){return 0<=Q&&Q<=1});if(Y.length>0)return Y[0]}return null},d=Object.keys(f),v=0;v<d.length;v++){var g=d[v],y=f[g],p=h(e,r,y);if(p!=null){var m=y[5],E=y[3],T=y[1],L=Ot(m,E,T,p);if(y.isTop&&L<=r||y.isBottom&&r<=L)return!0}}return!1}}};Cr.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:qt(4,0),draw:function(e,r,n,a,i){this.renderer.nodeShapeImpl(this.name,e,r,n,a,i)},intersectLine:function(e,r,n,a,i,o,s){var l=e-(n/2+s),u=r-(a/2+s),c=u,f=e+(n/2+s),h=Rr(i,o,e,r,l,u,f,c,!1);return h.length>0?h:Uf(i,o,e,r,n,a,s)},checkPoint:function(e,r,n,a,i,o,s){var l=ga(a,i),u=2*l;if(Er(e,r,this.points,o,s,a,i-u,[0,-1],n)||Er(e,r,this.points,o,s,a-u,i,[0,-1],n))return!0;var c=a/2+2*n,f=i/2+2*n,h=[o-c,s-f,o-c,s,o+c,s,o+c,s-f];return!!(Xt(e,r,h)||Jr(e,r,u,u,o+a/2-l,s+i/2-l,n)||Jr(e,r,u,u,o-a/2+l,s+i/2-l,n))}}};Cr.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",qt(3,0)),this.generateRoundPolygon("round-triangle",qt(3,0)),this.generatePolygon("rectangle",qt(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",qt(5,0)),this.generateRoundPolygon("round-pentagon",qt(5,0)),this.generatePolygon("hexagon",qt(6,0)),this.generateRoundPolygon("round-hexagon",qt(6,0)),this.generatePolygon("heptagon",qt(7,0)),this.generateRoundPolygon("round-heptagon",qt(7,0)),this.generatePolygon("octagon",qt(8,0)),this.generateRoundPolygon("round-octagon",qt(8,0));var n=new Array(20);{var a=go(5,0),i=go(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<i.length/2;s++)i[s*2]*=o,i[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=a[s*2],n[s*4+1]=a[s*2+1],n[s*4+2]=i[s*2],n[s*4+3]=i[s*2+1]}n=Hf(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l)}t.makePolygon=function(u){var c=u.join("$"),f="polygon-"+c,h;return(h=this[f])?h:e.generatePolygon(f,u)}};var ba={};ba.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};ba.redraw=function(t){t=t||Ff();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};ba.beforeRender=function(t,e){if(!this.destroyed){e==null&&Tt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,a){return a.priority-n.priority})}};var hf=function(e,r,n){for(var a=e.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};ba.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function n(a){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){hf(t,!0,a);var i=wr();t.render(t.renderOptions);var o=t.lastDrawTime=wr();t.averageRedrawTime===void 0&&(t.averageRedrawTime=o-i),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var s=o-i;t.redrawTotalTime+=s,t.lastRedrawTime=s,t.averageRedrawTime=t.averageRedrawTime/2+s/2,t.requestedFrame=!1}else hf(t,!1,a);t.skipFrame=!1,ai(n)}};ai(r)}};var v1=function(e){this.init(e)},Ih=v1,Fn=Ih.prototype;Fn.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Fn.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container();if(xt){var n=xt.document,a=n.head,i="__________cytoscape_stylesheet",o="__________cytoscape_container",s=n.getElementById(i)!=null;if(r.className.indexOf(o)<0&&(r.className=(r.className||"")+" "+o),!s){var l=n.createElement("style");l.id=i,l.textContent="."+o+" { position: relative; }",a.insertBefore(l,a.children[0])}var u=xt.getComputedStyle(r),c=u.getPropertyValue("position");c==="static"&&dt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Ie(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Fn.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Fn.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};Fn.isHeadless=function(){return!1};[Yo,Nh,Oh,kn,Cr,ba].forEach(function(t){Je(Fn,t)});var ho=1e3/60,Ph={setupDequeueing:function(e){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=hi.default(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},e.deqRedrawThreshold),o=function(u,c){var f=wr(),h=a.averageRedrawTime,d=a.lastRedrawTime,v=[],g=a.cy.extent(),y=a.getPixelRatio();for(u||a.flushRenderedStyleQueue();;){var p=wr(),m=p-f,E=p-c;if(d<ho){var T=ho-(u?h:0);if(E>=e.deqFastCost*T)break}else if(u){if(m>=e.deqCost*d||m>=e.deqAvgCost*h)break}else if(E>=e.deqNoDrawCost*ho)break;var L=e.deq(n,y,g);if(L.length>0)for(var I=0;I<L.length;I++)v.push(L[I]);else break}v.length>0&&(e.onDeqd(n,v),!u&&e.shouldRedraw(n,v,y,g)&&i())},s=e.priority||Io;a.beforeRender(o,s(n))}}}},g1=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ii;Do(this,t),this.idsByKey=new lr,this.keyForId=new lr,this.cachesByLvl=new lr,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Mo(t,[{key:"getIdsFor",value:function(r){r==null&&Tt("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new On,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new lr,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}]),t}(),df=25,Ka=50,ri=-4,Co=3,p1=7.99,y1=8,m1=1024,b1=1024,w1=1024,E1=.2,x1=.8,C1=10,T1=.15,S1=.1,L1=.9,D1=.9,M1=100,A1=1,Cn={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},N1=kt({getKey:null,doesEleInvalidateKey:ii,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:Pf,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Jn=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var a=N1(r);Je(n,a),n.lookup=new g1(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},At=Jn.prototype;At.reasons=Cn;At.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};At.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};At.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new ha.default(function(r,n){return n.reqs-r.reqs});return e};At.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};At.getElement=function(t,e,r,n,a){var i=this,o=this.renderer,s=o.cy.zoom(),l=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!i.allowEdgeTxrCaching&&t.isEdge()||!i.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(Ro(s*r))),n<ri)n=ri;else if(s>=p1||n>Co)return null;var u=Math.pow(2,n),c=e.h*u,f=e.w*u,h=o.eleTextBiggerThanMin(t,u);if(!this.isVisible(t,h))return null;var d=l.get(t,n);if(d&&d.invalidated&&(d.invalidated=!1,d.texture.invalidatedWidth-=d.width),d)return d;var v;if(c<=df?v=df:c<=Ka?v=Ka:v=Math.ceil(c/Ka)*Ka,c>w1||f>b1)return null;var g=i.getTextureQueue(v),y=g[g.length-2],p=function(){return i.recycleTexture(v,f)||i.addTexture(v,f)};y||(y=g[g.length-1]),y||(y=p()),y.width-y.usedWidth<f&&(y=p());for(var m=function(S){return S&&S.scaledLabelShown===h},E=a&&a===Cn.dequeue,T=a&&a===Cn.highQuality,L=a&&a===Cn.downscale,I,N=n+1;N<=Co;N++){var B=l.get(t,N);if(B){I=B;break}}var R=I&&I.level===n+1?I:null,G=function(){y.context.drawImage(R.texture.canvas,R.x,0,R.width,R.height,y.usedWidth,0,f,c)};if(y.context.setTransform(1,0,0,1,0,0),y.context.clearRect(y.usedWidth,0,f,v),m(R))G();else if(m(I))if(T){for(var z=I.level;z>n;z--)R=i.getElement(t,e,r,z,Cn.downscale);G()}else return i.queueElement(t,I.level-1),I;else{var w;if(!E&&!T&&!L)for(var D=n-1;D>=ri;D--){var C=l.get(t,D);if(C){w=C;break}}if(m(w))return i.queueElement(t,n),w;y.context.translate(y.usedWidth,0),y.context.scale(u,u),this.drawElement(y.context,t,e,h,!1),y.context.scale(1/u,1/u),y.context.translate(-y.usedWidth,0)}return d={x:y.usedWidth,texture:y,level:n,scale:u,width:f,height:c,scaledLabelShown:h},y.usedWidth+=Math.ceil(f+y1),y.eleCaches.push(d),l.set(t,n,d),i.checkTextureFullness(y),d};At.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};At.invalidateElement=function(t){var e=this,r=e.lookup,n=[],a=r.isInvalid(t);if(a){for(var i=ri;i<=Co;i++){var o=r.getForCachedKey(t,i);o&&n.push(o)}var s=r.invalidate(t);if(s)for(var l=0;l<n.length;l++){var u=n[l],c=u.texture;c.invalidatedWidth+=u.width,u.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(t)}};At.checkTextureUtility=function(t){t.invalidatedWidth>=E1*t.width&&this.retireTexture(t)};At.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>x1&&t.fullnessChecks>=C1?Gr(r,t):t.fullnessChecks++};At.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),a=this.lookup;Gr(n,t),t.retired=!0;for(var i=t.eleCaches,o=0;o<i.length;o++){var s=i[o];a.deleteCache(s.key,s.level)}Po(i);var l=e.getRetiredTextureQueue(r);l.push(t)};At.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),a={};return n.push(a),a.eleCaches=[],a.height=t,a.width=Math.max(m1,e),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};At.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),a=r.getRetiredTextureQueue(t),i=0;i<a.length;i++){var o=a[i];if(o.width>=e)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Po(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Gr(a,o),n.push(o),o}};At.queueElement=function(t,e){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(t),o=a[i];if(o)o.level=Math.max(o.level,e),o.eles.merge(t),o.reqs++,n.updateItem(o);else{var s={eles:t.spawn().merge(t),level:e,reqs:1,key:i};n.push(s),a[i]=s}};At.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=[],i=e.lookup,o=0;o<A1&&r.size()>0;o++){var s=r.pop(),l=s.key,u=s.eles[0],c=i.hasCache(u,s.level);if(n[l]=null,c)continue;a.push(s);var f=e.getBoundingBox(u);e.getElement(u,f,t,s.level,Cn.dequeue)}return a};At.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),a=this.getKey(t),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=Oo,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(t))};At.onDequeue=function(t){this.onDequeues.push(t)};At.offDequeue=function(t){Gr(this.onDequeues,t)};At.setupDequeueing=Ph.setupDequeueing({deqRedrawThreshold:M1,deqCost:T1,deqAvgCost:S1,deqNoDrawCost:L1,deqFastCost:D1,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var a=e.onDequeues[n];a(r)}},shouldRedraw:function(e,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,s=0;s<o.length;s++){var l=o[s].boundingBox();if(ko(l,a))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var O1=1,ea=-4,fi=2,I1=3.99,P1=50,R1=50,k1=.15,F1=.1,B1=.9,G1=.9,z1=1,vf=250,U1=4e3*4e3,V1=!0,Rh=function(e){var r=this,n=r.renderer=e,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=wr()-2*vf,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=hi.default(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},R1),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=vf?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(s,l){return l.reqs-s.reqs};r.layersQueue=new ha.default(i),r.setupDequeueing()},Ft=Rh.prototype,gf=0,q1=Math.pow(2,53)-1;Ft.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),a=Math.ceil(t.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:gf=++gf%q1,bb:t,level:e,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,l=-o.bb.x1,u=-o.bb.y1;return s.scale(r,r),s.translate(l,u),o};Ft.getLayers=function(t,e,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Ro(o*e)),r<ea)r=ea;else if(o>=I1||r>fi)return null}n.validateLayersElesOrdering(r,t);var l=n.layersByLevel,u=Math.pow(2,r),c=l[r]=l[r]||[],f,h=n.levelIsComplete(r,t),d,v=function(){var G=function(P){if(n.validateLayersElesOrdering(P,t),n.levelIsComplete(P,t))return d=l[P],!0},z=function(P){if(!d)for(var S=r+P;ea<=S&&S<=fi&&!G(S);S+=P);};z(1),z(-1);for(var w=c.length-1;w>=0;w--){var D=c[w];D.invalid&&Gr(c,D)}};if(!h)v();else return c;var g=function(){if(!f){f=_t();for(var G=0;G<t.length;G++)Ob(f,t[G].boundingBox())}return f},y=function(G){G=G||{};var z=G.after;g();var w=f.w*u*(f.h*u);if(w>U1)return null;var D=n.makeLayer(f,r);if(z!=null){var C=c.indexOf(z)+1;c.splice(C,0,D)}else(G.insert===void 0||G.insert)&&c.unshift(D);return D};if(n.skipping&&!s)return null;for(var p=null,m=t.length/O1,E=!s,T=0;T<t.length;T++){var L=t[T],I=L._private.rscratch,N=I.imgLayerCaches=I.imgLayerCaches||{},B=N[r];if(B){p=B;continue}if((!p||p.eles.length>=m||!zf(p.bb,L.boundingBox()))&&(p=y({insert:!0,after:p}),!p))return null;d||E?n.queueLayer(p,L):n.drawEleInLayer(p,L,r,e),p.eles.push(L),N[r]=p}return d||(E?null:c)};Ft.getEleLevelForLayerLevel=function(t,e){return t};Ft.drawEleInLayer=function(t,e,r,n){var a=this,i=this.renderer,o=t.context,s=e.boundingBox();s.w===0||s.h===0||!e.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,e,null,null,r,V1),i.setImgSmoothing(o,!0))};Ft.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===e.length};Ft.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<e.length;o++)if(a.eles[0]===e[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var s=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==e[s+o]){this.invalidateLayer(a);break}}};Ft.updateElementsInLayers=function(t,e){for(var r=this,n=va(t[0]),a=0;a<t.length;a++)for(var i=n?null:t[a],o=n?t[a]:t[a].ele,s=o._private.rscratch,l=s.imgLayerCaches=s.imgLayerCaches||{},u=ea;u<=fi;u++){var c=l[u];c&&(i&&r.getEleLevelForLayerLevel(c.level)!==i.level||e(c,o,i))}};Ft.haveLayers=function(){for(var t=this,e=!1,r=ea;r<=fi;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Ft.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=wr(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,a,i){e.invalidateLayer(n)}))};Ft.invalidateLayer=function(t){if(this.lastInvalidationTime=wr(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Gr(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[e]=null)}}};Ft.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=e.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)e.queueLayer(o,o.eles[s])})};Ft.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Ft.queueLayer=function(t,e){var r=this,n=r.layersQueue,a=t.elesQueue,i=a.hasId=a.hasId||{};if(!t.replacement){if(e){if(i[e.id()])return;a.push(e),i[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Ft.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],a=0;a<z1&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(e.drawEleInLayer(i,o,i.level,t),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&e.applyLayerReplacement(i),e.requestRedraw())}return n};Ft.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=t;for(var i=0;i<t.eles.length;i++){var o=t.eles[i]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[t.level]=t)}e.requestRedraw()}};Ft.requestRedraw=hi.default(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Ft.setupDequeueing=Ph.setupDequeueing({deqRedrawThreshold:P1,deqCost:k1,deqAvgCost:F1,deqNoDrawCost:B1,deqFastCost:G1,deq:function(e,r){return e.dequeue(r)},onDeqd:Io,shouldRedraw:Pf,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var kh={},pf;function H1(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function Y1(t,e,r){for(var n,a=0;a<e.length;a++){var i=e[a];a===0&&(n=i),t.lineTo(i.x,i.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function yf(t,e,r){t.beginPath&&t.beginPath();for(var n=e,a=0;a<n.length;a++){var i=n[a];t.lineTo(i.x,i.y)}var o=r,s=r[0];t.moveTo(s.x,s.y);for(var a=1;a<o.length;a++){var i=o[a];t.lineTo(i.x,i.y)}t.closePath&&t.closePath()}function W1(t,e,r,n,a){t.beginPath&&t.beginPath(),t.arc(r,n,a,0,Math.PI*2,!1);var i=e,o=i[0];t.moveTo(o.x,o.y);for(var s=0;s<i.length;s++){var l=i[s];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function X1(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}kh.arrowShapeImpl=function(t){return(pf||(pf={polygon:H1,"triangle-backcurve":Y1,"triangle-tee":yf,"circle-triangle":W1,"triangle-cross":yf,circle:X1}))[t]};var hr={};hr.drawElement=function(t,e,r,n,a,i){var o=this;e.isNode()?o.drawNode(t,e,r,n,a,i):o.drawEdge(t,e,r,n,a,i)};hr.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};hr.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};hr.drawCachedElementPortion=function(t,e,r,n,a,i,o,s){var l=this,u=r.getBoundingBox(e);if(!(u.w===0||u.h===0)){var c=r.getElement(e,u,n,a,i);if(c!=null){var f=s(l,e);if(f===0)return;var h=o(l,e),d=u.x1,v=u.y1,g=u.w,y=u.h,p,m,E,T,L;if(h!==0){var I=r.getRotationPoint(e);E=I.x,T=I.y,t.translate(E,T),t.rotate(h),L=l.getImgSmoothing(t),L||l.setImgSmoothing(t,!0);var N=r.getRotationOffset(e);p=N.x,m=N.y}else p=d,m=v;var B;f!==1&&(B=t.globalAlpha,t.globalAlpha=B*f),t.drawImage(c.texture.canvas,c.x,0,c.width,c.height,p,m,g,y),f!==1&&(t.globalAlpha=B),h!==0&&(t.rotate(-h),t.translate(-E,-T),L||l.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var _1=function(){return 0},$1=function(e,r){return e.getTextAngle(r,null)},K1=function(e,r){return e.getTextAngle(r,"source")},Z1=function(e,r){return e.getTextAngle(r,"target")},Q1=function(e,r){return r.effectiveOpacity()},vo=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};hr.drawCachedElement=function(t,e,r,n,a,i){var o=this,s=o.data,l=s.eleTxrCache,u=s.lblTxrCache,c=s.slbTxrCache,f=s.tlbTxrCache,h=e.boundingBox(),d=i===!0?l.reasons.highQuality:null;if(!(h.w===0||h.h===0||!e.visible())&&(!n||ko(h,n))){var v=e.isEdge(),g=e.element()._private.rscratch.badLine;o.drawElementUnderlay(t,e),o.drawCachedElementPortion(t,e,l,r,a,d,_1,Q1),(!v||!g)&&o.drawCachedElementPortion(t,e,u,r,a,d,$1,vo),v&&!g&&(o.drawCachedElementPortion(t,e,c,r,a,d,K1,vo),o.drawCachedElementPortion(t,e,f,r,a,d,Z1,vo)),o.drawElementOverlay(t,e)}};hr.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var a=e[n];r.drawElement(t,a)}};hr.drawCachedElements=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];a.drawCachedElement(t,o,r,n)}};hr.drawCachedNodes=function(t,e,r,n){for(var a=this,i=0;i<e.length;i++){var o=e[i];o.isNode()&&a.drawCachedElement(t,o,r,n)}};hr.drawLayeredElements=function(t,e,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(e,r);if(i)for(var o=0;o<i.length;o++){var s=i[o],l=s.bb;l.w===0||l.h===0||t.drawImage(s.canvas,l.x1,l.y1,l.w,l.h)}else a.drawCachedElements(t,e,r,n)};var Tr={};Tr.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=e._private.rscratch;if(!(i&&!e.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var l;r&&(l=r,t.translate(-l.x1,-l.y1));var u=i?e.pstyle("opacity").value:1,c=i?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,h=e.pstyle("line-style").value,d=e.pstyle("width").pfValue,v=e.pstyle("line-cap").value,g=u*c,y=u*c,p=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;f==="straight-triangle"?(o.eleStrokeStyle(t,e,w),o.drawEdgeTrianglePath(e,t,s.allpts)):(t.lineWidth=d,t.lineCap=v,o.eleStrokeStyle(t,e,w),o.drawEdgePath(e,t,s.allpts,h),t.lineCap="butt")},m=function(){a&&o.drawEdgeOverlay(t,e)},E=function(){a&&o.drawEdgeUnderlay(t,e)},T=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;o.drawArrowheads(t,e,w)},L=function(){o.drawElementText(t,e,null,n)};t.lineJoin="round";var I=e.pstyle("ghost").value==="yes";if(I){var N=e.pstyle("ghost-offset-x").pfValue,B=e.pstyle("ghost-offset-y").pfValue,R=e.pstyle("ghost-opacity").value,G=g*R;t.translate(N,B),p(G),T(G),t.translate(-N,-B)}E(),p(),T(),m(),L(),r&&t.translate(l.x1,l.y1)}};var Fh=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(e,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),s=n._private.rscratch,l=n.pstyle("".concat(e,"-padding")).pfValue,u=2*l,c=n.pstyle("".concat(e,"-color")).value;r.lineWidth=u,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,c[0],c[1],c[2],a),i.drawEdgePath(n,r,s.allpts,"solid")}}}};Tr.drawEdgeOverlay=Fh("overlay");Tr.drawEdgeUnderlay=Fh("underlay");Tr.drawEdgePath=function(t,e,r,n){var a=t._private.rscratch,i=e,o,s=!1,l=this.usePaths(),u=t.pstyle("line-dash-pattern").pfValue,c=t.pstyle("line-dash-offset").pfValue;if(l){var f=r.join("$"),h=a.pathCacheKey&&a.pathCacheKey===f;h?(o=e=a.pathCache,s=!0):(o=e=new Path2D,a.pathCacheKey=f,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(u),i.lineDashOffset=c;break;case"solid":i.setLineDash([]);break}if(!s&&!a.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var d=2;d+3<r.length;d+=4)e.quadraticCurveTo(r[d],r[d+1],r[d+2],r[d+3]);break;case"straight":case"segments":case"haystack":for(var v=2;v+1<r.length;v+=2)e.lineTo(r[v],r[v+1]);break}e=i,l?e.stroke(o):e.stroke(),e.setLineDash&&e.setLineDash([])};Tr.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/o,-i[0]/o],l=[s[0]*n/2,s[1]*n/2];e.beginPath(),e.moveTo(r[a]-l[0],r[a+1]-l[1]),e.lineTo(r[a]+l[0],r[a+1]+l[1]),e.lineTo(r[a+2],r[a+3]),e.closePath(),e.fill()}};Tr.drawArrowheads=function(t,e,r){var n=e._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};Tr.drawArrowhead=function(t,e,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var s=this,l=e.pstyle(r+"-arrow-shape").value;if(l!=="none"){var u=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(r+"-arrow-fill").value,f=e.pstyle("width").pfValue,h=e.pstyle("opacity").value;o===void 0&&(o=h);var d=t.globalCompositeOperation;(o!==1||c==="hollow")&&(t.globalCompositeOperation="destination-out",s.colorFillStyle(t,255,255,255,1),s.colorStrokeStyle(t,255,255,255,1),s.drawArrowShape(e,t,u,f,l,n,a,i),t.globalCompositeOperation=d);var v=e.pstyle(r+"-arrow-color").value;s.colorFillStyle(t,v[0],v[1],v[2],o),s.colorStrokeStyle(t,v[0],v[1],v[2],o),s.drawArrowShape(e,t,c,f,l,n,a,i)}}};Tr.drawArrowShape=function(t,e,r,n,a,i,o,s){var l=this,u=this.usePaths()&&a!=="triangle-cross",c=!1,f,h=e,d={x:i,y:o},v=t.pstyle("arrow-scale").value,g=this.getArrowWidth(n,v),y=l.arrowShapes[a];if(u){var p=l.arrowPathCache=l.arrowPathCache||[],m=jr(a),E=p[m];E!=null?(f=e=E,c=!0):(f=e=new Path2D,p[m]=f)}c||(e.beginPath&&e.beginPath(),u?y.draw(e,1,0,{x:0,y:0},1):y.draw(e,g,s,d,n),e.closePath&&e.closePath()),e=h,u&&(e.translate(i,o),e.rotate(s),e.scale(g,g)),(r==="filled"||r==="both")&&(u?e.fill(f):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=(y.matchEdgeWidth?n:1)/(u?g:1),e.lineJoin="miter",u?e.stroke(f):e.stroke()),u&&(e.scale(1/g,1/g),e.rotate(-s),e.translate(-i,-o))};var Xo={};Xo.safeDrawImage=function(t,e,r,n,a,i,o,s,l,u){if(!(a<=0||i<=0||l<=0||u<=0))try{t.drawImage(e,r,n,a,i,o,s,l,u)}catch(c){dt(c)}};Xo.drawInscribedImage=function(t,e,r,n,a){var i=this,o=r.position(),s=o.x,l=o.y,u=r.cy().style(),c=u.getIndexedStyle.bind(u),f=c(r,"background-fit","value",n),h=c(r,"background-repeat","value",n),d=r.width(),v=r.height(),g=r.padding()*2,y=d+(c(r,"background-width-relative-to","value",n)==="inner"?0:g),p=v+(c(r,"background-height-relative-to","value",n)==="inner"?0:g),m=r._private.rscratch,E=c(r,"background-clip","value",n),T=E==="node",L=c(r,"background-image-opacity","value",n)*a,I=c(r,"background-image-smoothing","value",n),N=e.width||e.cachedW,B=e.height||e.cachedH;(N==null||B==null)&&(document.body.appendChild(e),N=e.cachedW=e.width||e.offsetWidth,B=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var R=N,G=B;if(c(r,"background-width","value",n)!=="auto"&&(c(r,"background-width","units",n)==="%"?R=c(r,"background-width","pfValue",n)*y:R=c(r,"background-width","pfValue",n)),c(r,"background-height","value",n)!=="auto"&&(c(r,"background-height","units",n)==="%"?G=c(r,"background-height","pfValue",n)*p:G=c(r,"background-height","pfValue",n)),!(R===0||G===0)){if(f==="contain"){var z=Math.min(y/R,p/G);R*=z,G*=z}else if(f==="cover"){var z=Math.max(y/R,p/G);R*=z,G*=z}var w=s-y/2,D=c(r,"background-position-x","units",n),C=c(r,"background-position-x","pfValue",n);D==="%"?w+=(y-R)*C:w+=C;var P=c(r,"background-offset-x","units",n),S=c(r,"background-offset-x","pfValue",n);P==="%"?w+=(y-R)*S:w+=S;var V=l-p/2,H=c(r,"background-position-y","units",n),_=c(r,"background-position-y","pfValue",n);H==="%"?V+=(p-G)*_:V+=_;var K=c(r,"background-offset-y","units",n),Y=c(r,"background-offset-y","pfValue",n);K==="%"?V+=(p-G)*Y:V+=Y,m.pathCache&&(w-=s,V-=l,s=0,l=0);var Q=t.globalAlpha;t.globalAlpha=L;var ee=i.getImgSmoothing(t),Z=!1;if(I==="no"&&ee?(i.setImgSmoothing(t,!1),Z=!0):I==="yes"&&!ee&&(i.setImgSmoothing(t,!0),Z=!0),h==="no-repeat")T&&(t.save(),m.pathCache?t.clip(m.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(t,s,l,y,p),t.clip())),i.safeDrawImage(t,e,0,0,N,B,w,V,R,G),T&&t.restore();else{var te=t.createPattern(e,h);t.fillStyle=te,i.nodeShapes[i.getNodeShape(r)].draw(t,s,l,y,p),t.translate(w,V),t.fill(),t.translate(-w,-V)}t.globalAlpha=Q,Z&&i.setImgSmoothing(t,ee)}};var sn={};sn.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Ro(r*n));e=Math.pow(2,a)}var i=t.pstyle("font-size").pfValue*e,o=t.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};sn.drawElementText=function(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var s=e.pstyle("label");if(!s||!s.value)return;var l=o.getLabelJustification(e);t.textAlign=l,t.textBaseline="bottom"}else{var u=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),h=e.pstyle("target-label");if(u||(!c||!c.value)&&(!f||!f.value)&&(!h||!h.value))return;t.textAlign="center",t.textBaseline="bottom"}var d=!r,v;r&&(v=r,t.translate(-v.x1,-v.y1)),a==null?(o.drawText(t,e,null,d,i),e.isEdge()&&(o.drawText(t,e,"source",d,i),o.drawText(t,e,"target",d,i))):o.drawText(t,e,a,d,i),r&&t.translate(v.x1,v.y1)};sn.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};sn.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,a=e.pstyle("font-size").pfValue+"px",i=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,l=e.pstyle("text-outline-opacity").value*s,u=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;t.font=n+" "+o+" "+a+" "+i,t.lineJoin="round",this.colorFillStyle(t,u[0],u[1],u[2],s),this.colorStrokeStyle(t,c[0],c[1],c[2],l)};function J1(t,e,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5;t.beginPath(),t.moveTo(e+i,r),t.lineTo(e+n-i,r),t.quadraticCurveTo(e+n,r,e+n,r+i),t.lineTo(e+n,r+a-i),t.quadraticCurveTo(e+n,r+a,e+n-i,r+a),t.lineTo(e+i,r+a),t.quadraticCurveTo(e,r+a,e,r+a-i),t.lineTo(e,r+i),t.quadraticCurveTo(e,r,e+i,r),t.closePath(),t.fill()}sn.getTextAngle=function(t,e){var r,n=t._private,a=n.rscratch,i=e?e+"-":"",o=t.pstyle(i+"text-rotation"),s=ir(a,"labelAngle",e);return o.strValue==="autorotate"?r=t.isEdge()?s:0:o.strValue==="none"?r=0:r=o.pfValue,r};sn.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=e._private,o=i.rscratch,s=a?e.effectiveOpacity():1;if(!(a&&(s===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var l=ir(o,"labelX",r),u=ir(o,"labelY",r),c,f,h=this.getLabelText(e,r);if(h!=null&&h!==""&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(t,e,a);var d=r?r+"-":"",v=ir(o,"labelWidth",r),g=ir(o,"labelHeight",r),y=e.pstyle(d+"text-margin-x").pfValue,p=e.pstyle(d+"text-margin-y").pfValue,m=e.isEdge(),E=e.pstyle("text-halign").value,T=e.pstyle("text-valign").value;m&&(E="center",T="center"),l+=y,u+=p;var L;switch(n?L=this.getTextAngle(e,r):L=0,L!==0&&(c=l,f=u,t.translate(c,f),t.rotate(L),l=0,u=0),T){case"top":break;case"center":u+=g/2;break;case"bottom":u+=g;break}var I=e.pstyle("text-background-opacity").value,N=e.pstyle("text-border-opacity").value,B=e.pstyle("text-border-width").pfValue,R=e.pstyle("text-background-padding").pfValue;if(I>0||B>0&&N>0){var G=l-R;switch(E){case"left":G-=v;break;case"center":G-=v/2;break}var z=u-g-R,w=v+2*R,D=g+2*R;if(I>0){var C=t.fillStyle,P=e.pstyle("text-background-color").value;t.fillStyle="rgba("+P[0]+","+P[1]+","+P[2]+","+I*s+")";var S=e.pstyle("text-background-shape").strValue;S.indexOf("round")===0?J1(t,G,z,w,D,2):t.fillRect(G,z,w,D),t.fillStyle=C}if(B>0&&N>0){var V=t.strokeStyle,H=t.lineWidth,_=e.pstyle("text-border-color").value,K=e.pstyle("text-border-style").value;if(t.strokeStyle="rgba("+_[0]+","+_[1]+","+_[2]+","+N*s+")",t.lineWidth=B,t.setLineDash)switch(K){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=B/4,t.setLineDash([]);break;case"solid":t.setLineDash([]);break}if(t.strokeRect(G,z,w,D),K==="double"){var Y=B/2;t.strokeRect(G+Y,z+Y,w-Y*2,D-Y*2)}t.setLineDash&&t.setLineDash([]),t.lineWidth=H,t.strokeStyle=V}}var Q=2*e.pstyle("text-outline-width").pfValue;if(Q>0&&(t.lineWidth=Q),e.pstyle("text-wrap").value==="wrap"){var ee=ir(o,"labelWrapCachedLines",r),Z=ir(o,"labelLineHeight",r),te=v/2,W=this.getLabelJustification(e);switch(W==="auto"||(E==="left"?W==="left"?l+=-v:W==="center"&&(l+=-te):E==="center"?W==="left"?l+=-te:W==="right"&&(l+=te):E==="right"&&(W==="center"?l+=te:W==="right"&&(l+=v))),T){case"top":u-=(ee.length-1)*Z;break;case"center":case"bottom":u-=(ee.length-1)*Z;break}for(var k=0;k<ee.length;k++)Q>0&&t.strokeText(ee[k],l,u),t.fillText(ee[k],l,u),u+=Z}else Q>0&&t.strokeText(h,l,u),t.fillText(h,l,u);L!==0&&(t.rotate(-L),t.translate(-c,-f))}}};var Bn={};Bn.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,l,u=e._private,c=u.rscratch,f=e.position();if(!(!Ie(f.x)||!Ie(f.y))&&!(i&&!e.visible())){var h=i?e.effectiveOpacity():1,d=o.usePaths(),v,g=!1,y=e.padding();s=e.width()+2*y,l=e.height()+2*y;var p;r&&(p=r,t.translate(-p.x1,-p.y1));for(var m=e.pstyle("background-image"),E=m.value,T=new Array(E.length),L=new Array(E.length),I=0,N=0;N<E.length;N++){var B=E[N],R=T[N]=B!=null&&B!=="none";if(R){var G=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",N);I++,L[N]=o.getCachedImage(B,G,function(){u.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var z=e.pstyle("background-blacken").value,w=e.pstyle("border-width").pfValue,D=e.pstyle("background-opacity").value*h,C=e.pstyle("border-color").value,P=e.pstyle("border-style").value,S=e.pstyle("border-opacity").value*h;t.lineJoin="miter";var V=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D;o.eleFillStyle(t,e,se)},H=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;o.colorStrokeStyle(t,C[0],C[1],C[2],se)},_=e.pstyle("shape").strValue,K=e.pstyle("shape-polygon-points").pfValue;if(d){t.translate(f.x,f.y);var Y=o.nodePathCache=o.nodePathCache||[],Q=If(_==="polygon"?_+","+K.join(","):_,""+l,""+s),ee=Y[Q];ee!=null?(v=ee,g=!0,c.pathCache=v):(v=new Path2D,Y[Q]=c.pathCache=v)}var Z=function(){if(!g){var se=f;d&&(se={x:0,y:0}),o.nodeShapes[o.getNodeShape(e)].draw(v||t,se.x,se.y,s,l)}d?t.fill(v):t.fill()},te=function(){for(var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ke=u.backgrounding,Pe=0,Me=0;Me<L.length;Me++){var fe=e.cy().style().getIndexedStyle(e,"background-image-containment","value",Me);if(Ce&&fe==="over"||!Ce&&fe==="inside"){Pe++;continue}T[Me]&&L[Me].complete&&!L[Me].error&&(Pe++,o.drawInscribedImage(t,L[Me],e,Me,se))}u.backgrounding=Pe!==I,ke!==u.backgrounding&&e.updateStyle(!1)},W=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;o.hasPie(e)&&(o.drawPie(t,e,Ce),se&&(d||o.nodeShapes[o.getNodeShape(e)].draw(t,f.x,f.y,s,l)))},k=function(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,Ce=(z>0?z:-z)*se,ke=z>0?0:255;z!==0&&(o.colorFillStyle(t,ke,ke,ke,Ce),d?t.fill(v):t.fill())},X=function(){if(w>0){if(t.lineWidth=w,t.lineCap="butt",t.setLineDash)switch(P){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}if(d?t.stroke(v):t.stroke(),P==="double"){t.lineWidth=w/3;var se=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",d?t.stroke(v):t.stroke(),t.globalCompositeOperation=se}t.setLineDash&&t.setLineDash([])}},J=function(){a&&o.drawNodeOverlay(t,e,f,s,l)},ae=function(){a&&o.drawNodeUnderlay(t,e,f,s,l)},le=function(){o.drawElementText(t,e,null,n)},De=e.pstyle("ghost").value==="yes";if(De){var Re=e.pstyle("ghost-offset-x").pfValue,ie=e.pstyle("ghost-offset-y").pfValue,xe=e.pstyle("ghost-opacity").value,Ne=xe*h;t.translate(Re,ie),V(xe*D),Z(),te(Ne,!0),H(xe*S),X(),W(z!==0||w!==0),te(Ne,!1),k(Ne),t.translate(-Re,-ie)}d&&t.translate(-f.x,-f.y),ae(),d&&t.translate(f.x,f.y),V(),Z(),te(h,!0),H(),X(),W(z!==0||w!==0),te(h,!1),k(),d&&t.translate(-f.x,-f.y),le(),J(),r&&t.translate(p.x1,p.y1)}};var Bh=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,a,i,o){var s=this;if(n.visible()){var l=n.pstyle("".concat(e,"-padding")).pfValue,u=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value;if(u>0){if(a=a||n.position(),i==null||o==null){var h=n.padding();i=n.width()+2*h,o=n.height()+2*h}s.colorFillStyle(r,c[0],c[1],c[2],u),s.nodeShapes[f].draw(r,a.x,a.y,i+l*2,o+l*2),r.fill()}}}};Bn.drawNodeOverlay=Bh("overlay");Bn.drawNodeUnderlay=Bh("underlay");Bn.hasPie=function(t){return t=t[0],t._private.hasPie};Bn.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var a=e.cy().style(),i=e.pstyle("pie-size"),o=n.x,s=n.y,l=e.width(),u=e.height(),c=Math.min(l,u)/2,f=0,h=this.usePaths();h&&(o=0,s=0),i.units==="%"?c=c*i.pfValue:i.pfValue!==void 0&&(c=i.pfValue/2);for(var d=1;d<=a.pieBackgroundN;d++){var v=e.pstyle("pie-"+d+"-background-size").value,g=e.pstyle("pie-"+d+"-background-color").value,y=e.pstyle("pie-"+d+"-background-opacity").value*r,p=v/100;p+f>1&&(p=1-f);var m=1.5*Math.PI+2*Math.PI*f,E=2*Math.PI*p,T=m+E;v===0||f>=1||f+p>1||(t.beginPath(),t.moveTo(o,s),t.arc(o,s,c,m,T),t.closePath(),this.colorFillStyle(t,g[0],g[1],g[2],y),t.fill(),f+=p)}};var Qt={},j1=100;Qt.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e};Qt.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<e.length;a++)if(n=e[a],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};Qt.createGradientStyleFor=function(t,e,r,n,a){var i,o=this.usePaths(),s=r.pstyle(e+"-gradient-stop-colors").value,l=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var u=r.sourceEndpoint(),c=r.targetEndpoint(),f=r.midpoint(),h=en(u,f),d=en(c,f);i=t.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(h,d))}else{var v=o?{x:0,y:0}:r.position(),g=r.paddedWidth(),y=r.paddedHeight();i=t.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(g,y))}else if(r.isEdge()){var p=r.sourceEndpoint(),m=r.targetEndpoint();i=t.createLinearGradient(p.x,p.y,m.x,m.y)}else{var E=o?{x:0,y:0}:r.position(),T=r.paddedWidth(),L=r.paddedHeight(),I=T/2,N=L/2,B=r.pstyle("background-gradient-direction").value;switch(B){case"to-bottom":i=t.createLinearGradient(E.x,E.y-N,E.x,E.y+N);break;case"to-top":i=t.createLinearGradient(E.x,E.y+N,E.x,E.y-N);break;case"to-left":i=t.createLinearGradient(E.x+I,E.y,E.x-I,E.y);break;case"to-right":i=t.createLinearGradient(E.x-I,E.y,E.x+I,E.y);break;case"to-bottom-right":case"to-right-bottom":i=t.createLinearGradient(E.x-I,E.y-N,E.x+I,E.y+N);break;case"to-top-right":case"to-right-top":i=t.createLinearGradient(E.x-I,E.y+N,E.x+I,E.y-N);break;case"to-bottom-left":case"to-left-bottom":i=t.createLinearGradient(E.x+I,E.y-N,E.x-I,E.y+N);break;case"to-top-left":case"to-left-top":i=t.createLinearGradient(E.x+I,E.y+N,E.x-I,E.y-N);break}}if(!i)return null;for(var R=l.length===s.length,G=s.length,z=0;z<G;z++)i.addColorStop(R?l[z]:z/(G-1),"rgba("+s[z][0]+","+s[z][1]+","+s[z][2]+","+a+")");return i};Qt.gradientFillStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"background",e,r,n);if(!a)return null;t.fillStyle=a};Qt.colorFillStyle=function(t,e,r,n,a){t.fillStyle="rgba("+e+","+r+","+n+","+a+")"};Qt.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var a=e.pstyle("background-color").value;this.colorFillStyle(t,a[0],a[1],a[2],r)}};Qt.gradientStrokeStyle=function(t,e,r,n){var a=this.createGradientStyleFor(t,"line",e,r,n);if(!a)return null;t.strokeStyle=a};Qt.colorStrokeStyle=function(t,e,r,n,a){t.strokeStyle="rgba("+e+","+r+","+n+","+a+")"};Qt.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var a=e.pstyle("line-color").value;this.colorStrokeStyle(t,a[0],a[1],a[2],r)}};Qt.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),a=n[2],i=n[3],o=e.getPixelRatio(),s=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var l=a*o,u=i*o,c;if(!(l===e.canvasWidth&&u===e.canvasHeight)){e.fontCaches=null;var f=r.canvasContainer;f.style.width=a+"px",f.style.height=i+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)c=r.canvases[h],c.width=l,c.height=u,c.style.width=a+"px",c.style.height=i+"px";for(var h=0;h<e.BUFFER_COUNT;h++)c=r.bufferCanvases[h],c.width=l,c.height=u,c.style.width=a+"px",c.style.height=i+"px";e.textureMult=1,o<=1&&(c=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=l*e.textureMult,c.height=u*e.textureMult),e.canvasWidth=l,e.canvasHeight=u}};Qt.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};Qt.render=function(t){t=t||Ff();var e=t.forcedContext,r=t.drawAllLayers,n=t.drawOnlyNodeLayer,a=t.forcedZoom,i=t.forcedPan,o=this,s=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,l=o.cy,u=o.data,c=u.canvasNeedsRedraw,f=o.textureOnViewport&&!e&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),h=t.motionBlur!==void 0?t.motionBlur:o.motionBlur,d=o.motionBlurPxRatio,v=l.hasCompoundNodes(),g=o.hoverData.draggingEles,y=!!(o.hoverData.selecting||o.touchData.selecting);h=h&&!e&&o.motionBlurEnabled&&!y;var p=h;e||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!e&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),h&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(p=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!f&&(c[o.NODE]=!0,c[o.SELECT_BOX]=!0);var m=l.style(),E=l.zoom(),T=a!==void 0?a:E,L=l.pan(),I={x:L.x,y:L.y},N={zoom:E,pan:{x:L.x,y:L.y}},B=o.prevViewport,R=B===void 0||N.zoom!==B.zoom||N.pan.x!==B.pan.x||N.pan.y!==B.pan.y;!R&&!(g&&!v)&&(o.motionBlurPxRatio=1),i&&(I=i),T*=s,I.x*=s,I.y*=s;var G=o.getCachedZSortedEles();function z(ie,xe,Ne,pe,se){var Ce=ie.globalCompositeOperation;ie.globalCompositeOperation="destination-out",o.colorFillStyle(ie,255,255,255,o.motionBlurTransparency),ie.fillRect(xe,Ne,pe,se),ie.globalCompositeOperation=Ce}function w(ie,xe){var Ne,pe,se,Ce;!o.clearingMotionBlur&&(ie===u.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||ie===u.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(Ne={x:L.x*d,y:L.y*d},pe=E*d,se=o.canvasWidth*d,Ce=o.canvasHeight*d):(Ne=I,pe=T,se=o.canvasWidth,Ce=o.canvasHeight),ie.setTransform(1,0,0,1,0,0),xe==="motionBlur"?z(ie,0,0,se,Ce):!e&&(xe===void 0||xe)&&ie.clearRect(0,0,se,Ce),r||(ie.translate(Ne.x,Ne.y),ie.scale(pe,pe)),i&&ie.translate(i.x,i.y),a&&ie.scale(a,a)}if(f||(o.textureDrawLastFrame=!1),f){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=l.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var D=o.data.bufferContexts[o.TEXTURE_BUFFER];D.setTransform(1,0,0,1,0,0),D.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:D,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult});var N=o.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:o.canvasWidth,height:o.canvasHeight};N.mpan={x:(0-N.pan.x)/N.zoom,y:(0-N.pan.y)/N.zoom}}c[o.DRAG]=!1,c[o.NODE]=!1;var C=u.contexts[o.NODE],P=o.textureCache.texture,N=o.textureCache.viewport;C.setTransform(1,0,0,1,0,0),h?z(C,0,0,N.width,N.height):C.clearRect(0,0,N.width,N.height);var S=m.core("outside-texture-bg-color").value,V=m.core("outside-texture-bg-opacity").value;o.colorFillStyle(C,S[0],S[1],S[2],V),C.fillRect(0,0,N.width,N.height);var E=l.zoom();w(C,!1),C.clearRect(N.mpan.x,N.mpan.y,N.width/N.zoom/s,N.height/N.zoom/s),C.drawImage(P,N.mpan.x,N.mpan.y,N.width/N.zoom/s,N.height/N.zoom/s)}else o.textureOnViewport&&!e&&(o.textureCache=null);var H=l.extent(),_=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),K=o.hideEdgesOnViewport&&_,Y=[];if(Y[o.NODE]=!c[o.NODE]&&h&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,Y[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),Y[o.DRAG]=!c[o.DRAG]&&h&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,Y[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),c[o.NODE]||r||n||Y[o.NODE]){var Q=h&&!Y[o.NODE]&&d!==1,C=e||(Q?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:u.contexts[o.NODE]),ee=h&&!Q?"motionBlur":void 0;w(C,ee),K?o.drawCachedNodes(C,G.nondrag,s,H):o.drawLayeredElements(C,G.nondrag,s,H),o.debug&&o.drawDebugPoints(C,G.nondrag),!r&&!h&&(c[o.NODE]=!1)}if(!n&&(c[o.DRAG]||r||Y[o.DRAG])){var Q=h&&!Y[o.DRAG]&&d!==1,C=e||(Q?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:u.contexts[o.DRAG]);w(C,h&&!Q?"motionBlur":void 0),K?o.drawCachedNodes(C,G.drag,s,H):o.drawCachedElements(C,G.drag,s,H),o.debug&&o.drawDebugPoints(C,G.drag),!r&&!h&&(c[o.DRAG]=!1)}if(o.showFps||!n&&c[o.SELECT_BOX]&&!r){var C=e||u.contexts[o.SELECT_BOX];if(w(C),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var E=o.cy.zoom(),Z=m.core("selection-box-border-width").value/E;C.lineWidth=Z,C.fillStyle="rgba("+m.core("selection-box-color").value[0]+","+m.core("selection-box-color").value[1]+","+m.core("selection-box-color").value[2]+","+m.core("selection-box-opacity").value+")",C.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),Z>0&&(C.strokeStyle="rgba("+m.core("selection-box-border-color").value[0]+","+m.core("selection-box-border-color").value[1]+","+m.core("selection-box-border-color").value[2]+","+m.core("selection-box-opacity").value+")",C.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(u.bgActivePosistion&&!o.hoverData.selecting){var E=o.cy.zoom(),te=u.bgActivePosistion;C.fillStyle="rgba("+m.core("active-bg-color").value[0]+","+m.core("active-bg-color").value[1]+","+m.core("active-bg-color").value[2]+","+m.core("active-bg-opacity").value+")",C.beginPath(),C.arc(te.x,te.y,m.core("active-bg-size").pfValue/E,0,2*Math.PI),C.fill()}var W=o.lastRedrawTime;if(o.showFps&&W){W=Math.round(W);var k=Math.round(1e3/W);C.setTransform(1,0,0,1,0,0),C.fillStyle="rgba(255, 0, 0, 0.75)",C.strokeStyle="rgba(255, 0, 0, 0.75)",C.lineWidth=1,C.fillText("1 frame = "+W+" ms = "+k+" fps",0,20);var X=60;C.strokeRect(0,30,250,20),C.fillRect(0,30,250*Math.min(k/X,1),20)}r||(c[o.SELECT_BOX]=!1)}if(h&&d!==1){var J=u.contexts[o.NODE],ae=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],le=u.contexts[o.DRAG],De=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],Re=function(xe,Ne,pe){xe.setTransform(1,0,0,1,0,0),pe||!p?xe.clearRect(0,0,o.canvasWidth,o.canvasHeight):z(xe,0,0,o.canvasWidth,o.canvasHeight);var se=d;xe.drawImage(Ne,0,0,o.canvasWidth*se,o.canvasHeight*se,0,0,o.canvasWidth,o.canvasHeight)};(c[o.NODE]||Y[o.NODE])&&(Re(J,ae,Y[o.NODE]),c[o.NODE]=!1),(c[o.DRAG]||Y[o.DRAG])&&(Re(le,De,Y[o.DRAG]),c[o.DRAG]=!1)}o.prevViewport=N,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),h&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!f,o.mbFrames=0,c[o.NODE]=!0,c[o.DRAG]=!0,o.redraw()},j1)),e||l.emit("render")};var Hr={};Hr.drawPolygonPath=function(t,e,r,n,a,i){var o=n/2,s=a/2;t.beginPath&&t.beginPath(),t.moveTo(e+o*i[0],r+s*i[1]);for(var l=1;l<i.length/2;l++)t.lineTo(e+o*i[l*2],r+s*i[l*2+1]);t.closePath()};Hr.drawRoundPolygonPath=function(t,e,r,n,a,i){var o=n/2,s=a/2,l=Fo(n,a);t.beginPath&&t.beginPath();for(var u=0;u<i.length/4;u++){var c=void 0,f=void 0;u===0?c=i.length-2:c=u*4-2,f=u*4+2;var h=e+o*i[u*4],d=r+s*i[u*4+1],v=-i[c]*i[f]-i[c+1]*i[f+1],g=l/Math.tan(Math.acos(v)/2),y=h-g*i[c],p=d-g*i[c+1],m=h+g*i[f],E=d+g*i[f+1];u===0?t.moveTo(y,p):t.lineTo(y,p),t.arcTo(h,d,m,E,l)}t.closePath()};Hr.drawRoundRectanglePath=function(t,e,r,n,a){var i=n/2,o=a/2,s=ga(n,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.arcTo(e+i,r-o,e+i,r,s),t.arcTo(e+i,r+o,e,r+o,s),t.arcTo(e-i,r+o,e-i,r,s),t.arcTo(e-i,r-o,e,r-o,s),t.lineTo(e,r-o),t.closePath()};Hr.drawBottomRoundRectanglePath=function(t,e,r,n,a){var i=n/2,o=a/2,s=ga(n,a);t.beginPath&&t.beginPath(),t.moveTo(e,r-o),t.lineTo(e+i,r-o),t.lineTo(e+i,r),t.arcTo(e+i,r+o,e,r+o,s),t.arcTo(e-i,r+o,e-i,r,s),t.lineTo(e-i,r-o),t.lineTo(e,r-o),t.closePath()};Hr.drawCutRectanglePath=function(t,e,r,n,a){var i=n/2,o=a/2,s=Yf();t.beginPath&&t.beginPath(),t.moveTo(e-i+s,r-o),t.lineTo(e+i-s,r-o),t.lineTo(e+i,r-o+s),t.lineTo(e+i,r+o-s),t.lineTo(e+i-s,r+o),t.lineTo(e-i+s,r+o),t.lineTo(e-i,r+o-s),t.lineTo(e-i,r-o+s),t.closePath()};Hr.drawBarrelPath=function(t,e,r,n,a){var i=n/2,o=a/2,s=e-i,l=e+i,u=r-o,c=r+o,f=po(n,a),h=f.widthOffset,d=f.heightOffset,v=f.ctrlPtOffsetPct*h;t.beginPath&&t.beginPath(),t.moveTo(s,u+d),t.lineTo(s,c-d),t.quadraticCurveTo(s+v,c,s+h,c),t.lineTo(l-h,c),t.quadraticCurveTo(l-v,c,l,c-d),t.lineTo(l,u+d),t.quadraticCurveTo(l-v,u,l-h,u),t.lineTo(s+h,u),t.quadraticCurveTo(s+v,u,s,u+d),t.closePath()};var mf=Math.sin(0),bf=Math.cos(0),To={},So={},Gh=Math.PI/40;for(Kr=0*Math.PI;Kr<2*Math.PI;Kr+=Gh)To[Kr]=Math.sin(Kr),So[Kr]=Math.cos(Kr);var Kr;Hr.drawEllipsePath=function(t,e,r,n,a){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,s=n/2,l=a/2,u=0*Math.PI;u<2*Math.PI;u+=Gh)i=e-s*To[u]*mf+s*So[u]*bf,o=r+l*So[u]*mf+l*To[u]*bf,u===0?t.moveTo(i,o):t.lineTo(i,o);t.closePath()};var wa={};wa.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};wa.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=t.full?Math.ceil(n.w):a[2],o=t.full?Math.ceil(n.h):a[3],s=Ie(t.maxWidth)||Ie(t.maxHeight),l=this.getPixelRatio(),u=1;if(t.scale!==void 0)i*=t.scale,o*=t.scale,u=t.scale;else if(s){var c=1/0,f=1/0;Ie(t.maxWidth)&&(c=u*t.maxWidth/i),Ie(t.maxHeight)&&(f=u*t.maxHeight/o),u=Math.min(c,f),i*=u,o*=u}s||(i*=l,o*=l,u*=l);var h=document.createElement("canvas");h.width=i,h.height=o,h.style.width=i+"px",h.style.height=o+"px";var d=h.getContext("2d");if(i>0&&o>0){d.clearRect(0,0,i,o),d.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(t.full)d.translate(-n.x1*u,-n.y1*u),d.scale(u,u),this.drawElements(d,v),d.scale(1/u,1/u),d.translate(n.x1*u,n.y1*u);else{var g=e.pan(),y={x:g.x*u,y:g.y*u};u*=e.zoom(),d.translate(y.x,y.y),d.scale(u,u),this.drawElements(d,v),d.scale(1/u,1/u),d.translate(-y.x,-y.y)}t.bg&&(d.globalCompositeOperation="destination-over",d.fillStyle=t.bg,d.rect(0,0,i,o),d.fill())}return h};function ex(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:e})}function wf(t){var e=t.indexOf(",");return t.substr(e+1)}function zh(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new In(function(a,i){try{e.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(o){i(o)}});case"blob":return ex(wf(n()),r);case"base64":return wf(n());case"base64uri":default:return n()}}wa.png=function(t){return zh(t,this.bufferCanvasImage(t),"image/png")};wa.jpg=function(t){return zh(t,this.bufferCanvasImage(t),"image/jpeg")};var Uh={};Uh.nodeShapeImpl=function(t,e,r,n,a,i,o){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,a,i);case"polygon":return this.drawPolygonPath(e,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,a,i,o);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,a,i);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,a,i);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,a,i);case"barrel":return this.drawBarrelPath(e,r,n,a,i)}};var tx=Vh,st=Vh.prototype;st.CANVAS_LAYERS=3;st.SELECT_BOX=0;st.DRAG=1;st.NODE=2;st.BUFFER_COUNT=3;st.TEXTURE_BUFFER=0;st.MOTIONBLUR_BUFFER_NODE=1;st.MOTIONBLUR_BUFFER_DRAG=2;function Vh(t){var e=this;e.data={canvases:new Array(st.CANVAS_LAYERS),contexts:new Array(st.CANVAS_LAYERS),canvasNeedsRedraw:new Array(st.CANVAS_LAYERS),bufferCanvases:new Array(st.BUFFER_COUNT),bufferContexts:new Array(st.CANVAS_LAYERS)};var r="-webkit-tap-highlight-color",n="rgba(0,0,0,0)";e.data.canvasContainer=document.createElement("div");var a=e.data.canvasContainer.style;e.data.canvasContainer.style[r]=n,a.position="relative",a.zIndex="0",a.overflow="hidden";var i=t.cy.container();i.appendChild(e.data.canvasContainer),i.style[r]=n;var o={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};F0()&&(o["-ms-touch-action"]="none",o["touch-action"]="none");for(var s=0;s<st.CANVAS_LAYERS;s++){var l=e.data.canvases[s]=document.createElement("canvas");e.data.contexts[s]=l.getContext("2d"),Object.keys(o).forEach(function(W){l.style[W]=o[W]}),l.style.position="absolute",l.setAttribute("data-id","layer"+s),l.style.zIndex=String(st.CANVAS_LAYERS-s),e.data.canvasContainer.appendChild(l),e.data.canvasNeedsRedraw[s]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[st.NODE].setAttribute("data-id","layer"+st.NODE+"-node"),e.data.canvases[st.SELECT_BOX].setAttribute("data-id","layer"+st.SELECT_BOX+"-selectbox"),e.data.canvases[st.DRAG].setAttribute("data-id","layer"+st.DRAG+"-drag");for(var s=0;s<st.BUFFER_COUNT;s++)e.data.bufferCanvases[s]=document.createElement("canvas"),e.data.bufferContexts[s]=e.data.bufferCanvases[s].getContext("2d"),e.data.bufferCanvases[s].style.position="absolute",e.data.bufferCanvases[s].setAttribute("data-id","buffer"+s),e.data.bufferCanvases[s].style.zIndex=String(-s-1),e.data.bufferCanvases[s].style.visibility="hidden";e.pathsEnabled=!0;var u=_t(),c=function(k){return{x:(k.x1+k.x2)/2,y:(k.y1+k.y2)/2}},f=function(k){return{x:-k.w/2,y:-k.h/2}},h=function(k){var X=k[0]._private,J=X.oldBackgroundTimestamp===X.backgroundTimestamp;return!J},d=function(k){return k[0]._private.nodeKey},v=function(k){return k[0]._private.labelStyleKey},g=function(k){return k[0]._private.sourceLabelStyleKey},y=function(k){return k[0]._private.targetLabelStyleKey},p=function(k,X,J,ae,le){return e.drawElement(k,X,J,!1,!1,le)},m=function(k,X,J,ae,le){return e.drawElementText(k,X,J,ae,"main",le)},E=function(k,X,J,ae,le){return e.drawElementText(k,X,J,ae,"source",le)},T=function(k,X,J,ae,le){return e.drawElementText(k,X,J,ae,"target",le)},L=function(k){return k.boundingBox(),k[0]._private.bodyBounds},I=function(k){return k.boundingBox(),k[0]._private.labelBounds.main||u},N=function(k){return k.boundingBox(),k[0]._private.labelBounds.source||u},B=function(k){return k.boundingBox(),k[0]._private.labelBounds.target||u},R=function(k,X){return X},G=function(k){return c(L(k))},z=function(k,X,J){var ae=k?k+"-":"";return{x:X.x+J.pstyle(ae+"text-margin-x").pfValue,y:X.y+J.pstyle(ae+"text-margin-y").pfValue}},w=function(k,X,J){var ae=k[0]._private.rscratch;return{x:ae[X],y:ae[J]}},D=function(k){return z("",w(k,"labelX","labelY"),k)},C=function(k){return z("source",w(k,"sourceLabelX","sourceLabelY"),k)},P=function(k){return z("target",w(k,"targetLabelX","targetLabelY"),k)},S=function(k){return f(L(k))},V=function(k){return f(N(k))},H=function(k){return f(B(k))},_=function(k){var X=I(k),J=f(I(k));if(k.isNode()){switch(k.pstyle("text-halign").value){case"left":J.x=-X.w;break;case"right":J.x=0;break}switch(k.pstyle("text-valign").value){case"top":J.y=-X.h;break;case"bottom":J.y=0;break}}return J},K=e.data.eleTxrCache=new Jn(e,{getKey:d,doesEleInvalidateKey:h,drawElement:p,getBoundingBox:L,getRotationPoint:G,getRotationOffset:S,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),Y=e.data.lblTxrCache=new Jn(e,{getKey:v,drawElement:m,getBoundingBox:I,getRotationPoint:D,getRotationOffset:_,isVisible:R}),Q=e.data.slbTxrCache=new Jn(e,{getKey:g,drawElement:E,getBoundingBox:N,getRotationPoint:C,getRotationOffset:V,isVisible:R}),ee=e.data.tlbTxrCache=new Jn(e,{getKey:y,drawElement:T,getBoundingBox:B,getRotationPoint:P,getRotationOffset:H,isVisible:R}),Z=e.data.lyrTxrCache=new Rh(e);e.onUpdateEleCalcs(function(k,X){K.invalidateElements(X),Y.invalidateElements(X),Q.invalidateElements(X),ee.invalidateElements(X),Z.invalidateElements(X);for(var J=0;J<X.length;J++){var ae=X[J]._private;ae.oldBackgroundTimestamp=ae.backgroundTimestamp}});var te=function(k){for(var X=0;X<k.length;X++)Z.enqueueElementRefinement(k[X].ele)};K.onDequeue(te),Y.onDequeue(te),Q.onDequeue(te),ee.onDequeue(te)}st.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[st.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[st.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[st.SELECT_BOX]=e;break}};var rx=typeof Path2D<"u";st.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};st.usePaths=function(){return rx&&this.pathsEnabled};st.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};st.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};st.makeOffscreenCanvas=function(t,e){var r;return(typeof OffscreenCanvas>"u"?"undefined":Mt(OffscreenCanvas))!=="undefined"?r=new OffscreenCanvas(t,e):(r=document.createElement("canvas"),r.width=t,r.height=e),r};[kh,hr,Tr,Xo,sn,Bn,Qt,Hr,wa,Uh].forEach(function(t){Je(st,t)});var nx=[{name:"null",impl:Sh},{name:"base",impl:Ih},{name:"canvas",impl:tx}],ax=[{type:"layout",extensions:f1},{type:"renderer",extensions:nx}],qh={},Hh={};function Yh(t,e,r){var n=r,a=function(B){dt("Can not register `"+e+"` for `"+t+"` since `"+B+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(ca.prototype[e])return a(e);ca.prototype[e]=r}else if(t==="collection"){if(Rt.prototype[e])return a(e);Rt.prototype[e]=r}else if(t==="layout"){for(var i=function(B){this.options=B,r.call(this,B),ot(this._private)||(this._private={}),this._private.cy=B.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),s=[],l=0;l<s.length;l++){var u=s[l];o[u]=o[u]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var c=r.prototype.stop;o.stop=function(){var N=this.options;if(N&&N.animate){var B=this.animations;if(B)for(var R=0;R<B.length;R++)B[R].stop()}return c?c.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var f=function(B){return B._private.cy},h={addEventFields:function(B,R){R.layout=B,R.cy=f(B),R.target=B},bubble:function(){return!0},parent:function(B){return f(B)}};Je(o,{createEmitter:function(){return this._private.emitter=new mi(h,this),this},emitter:function(){return this._private.emitter},on:function(B,R){return this.emitter().on(B,R),this},one:function(B,R){return this.emitter().one(B,R),this},once:function(B,R){return this.emitter().one(B,R),this},removeListener:function(B,R){return this.emitter().removeListener(B,R),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(B,R){return this.emitter().emit(B,R),this}}),ht.eventAliasesOn(o),n=i}else if(t==="renderer"&&e!=="null"&&e!=="base"){var d=Wh("renderer","base"),v=d.prototype,g=r,y=r.prototype,p=function(){d.apply(this,arguments),g.apply(this,arguments)},m=p.prototype;for(var E in v){var T=v[E],L=y[E]!=null;if(L)return a(E);m[E]=T}for(var I in y)m[I]=y[I];v.clientFunctions.forEach(function(N){m[N]=m[N]||function(){Tt("Renderer does not implement `renderer."+N+"()` on its prototype")}}),n=p}else if(t==="__proto__"||t==="constructor"||t==="prototype")return Tt(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return Df({map:qh,keys:[t,e],value:n})}function Wh(t,e){return Mf({map:qh,keys:[t,e]})}function ix(t,e,r,n,a){return Df({map:Hh,keys:[t,e,r,n],value:a})}function ox(t,e,r,n){return Mf({map:Hh,keys:[t,e,r,n]})}var Lo=function(){if(arguments.length===2)return Wh.apply(null,arguments);if(arguments.length===3)return Yh.apply(null,arguments);if(arguments.length===4)return ox.apply(null,arguments);if(arguments.length===5)return ix.apply(null,arguments);Tt("Invalid extension access syntax")};ca.prototype.extension=Lo;ax.forEach(function(t){t.extensions.forEach(function(e){Yh(t.type,e.name,e.impl)})});var Xh=function t(){if(!(this instanceof t))return new t;this.length=0},nn=Xh.prototype;nn.instanceString=function(){return"stylesheet"};nn.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};nn.css=function(t,e){var r=this.length-1;if(Ke(t))this[r].properties.push({name:t,value:e});else if(ot(t))for(var n=t,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],s=n[o];if(s!=null){var l=Bt.properties[o]||Bt.properties[di(o)];if(l!=null){var u=l.name,c=s;this[r].properties.push({name:u,value:c})}}}return this};nn.style=nn.css;nn.generateStyle=function(t){var e=new Bt(t);return this.appendToStyle(e)};nn.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,a=r.properties;t.selector(n);for(var i=0;i<a.length;i++){var o=a[i];t.css(o.name,o.value)}}return t};var sx="3.25.0",an=function(e){if(e===void 0&&(e={}),ot(e))return new ca(e);if(Ke(e))return Lo.apply(Lo,arguments)};an.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(an),t.apply(null,e),this};an.warnings=function(t){return Rf(t)};an.version=sx;an.stylesheet=an.Stylesheet=Xh;_h.exports=an});var $o=Ee((Ea,_o)=>{(function(e,r){typeof Ea=="object"&&typeof _o=="object"?_o.exports=r():typeof define=="function"&&define.amd?define([],r):typeof Ea=="object"?Ea.layoutBase=r():e.layoutBase=r()})(Ea,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.i=function(n){return n},r.d=function(n,a,i){r.o(n,a)||Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:i})},r.n=function(n){var a=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(a,"a",a),a},r.o=function(n,a){return Object.prototype.hasOwnProperty.call(n,a)},r.p="",r(r.s=28)}([function(t,e,r){"use strict";function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,t.exports=n},function(t,e,r){"use strict";var n=r(2),a=r(8),i=r(9);function o(l,u,c){n.call(this,c),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=c,this.bendpoints=[],this.source=l,this.target=u}o.prototype=Object.create(n.prototype);for(var s in n)o[s]=n[s];o.prototype.getSource=function(){return this.source},o.prototype.getTarget=function(){return this.target},o.prototype.isInterGraph=function(){return this.isInterGraph},o.prototype.getLength=function(){return this.length},o.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},o.prototype.getBendpoints=function(){return this.bendpoints},o.prototype.getLca=function(){return this.lca},o.prototype.getSourceInLca=function(){return this.sourceInLca},o.prototype.getTargetInLca=function(){return this.targetInLca},o.prototype.getOtherEnd=function(l){if(this.source===l)return this.target;if(this.target===l)return this.source;throw"Node is not incident with this edge"},o.prototype.getOtherEndInGraph=function(l,u){for(var c=this.getOtherEnd(l),f=u.getGraphManager().getRoot();;){if(c.getOwner()==u)return c;if(c.getOwner()==f)break;c=c.getOwner().getParent()}return null},o.prototype.updateLength=function(){var l=new Array(4);this.isOverlapingSourceAndTarget=a.getIntersection(this.target.getRect(),this.source.getRect(),l),this.isOverlapingSourceAndTarget||(this.lengthX=l[0]-l[2],this.lengthY=l[1]-l[3],Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},o.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=i.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=i.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},t.exports=o},function(t,e,r){"use strict";function n(a){this.vGraphObject=a}t.exports=n},function(t,e,r){"use strict";var n=r(2),a=r(10),i=r(13),o=r(0),s=r(16),l=r(5);function u(f,h,d,v){d==null&&v==null&&(v=h),n.call(this,v),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=a.MIN_VALUE,this.inclusionTreeDepth=a.MAX_VALUE,this.vGraphObject=v,this.edges=[],this.graphManager=f,d!=null&&h!=null?this.rect=new i(h.x,h.y,d.width,d.height):this.rect=new i}u.prototype=Object.create(n.prototype);for(var c in n)u[c]=n[c];u.prototype.getEdges=function(){return this.edges},u.prototype.getChild=function(){return this.child},u.prototype.getOwner=function(){return this.owner},u.prototype.getWidth=function(){return this.rect.width},u.prototype.setWidth=function(f){this.rect.width=f},u.prototype.getHeight=function(){return this.rect.height},u.prototype.setHeight=function(f){this.rect.height=f},u.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},u.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},u.prototype.getCenter=function(){return new l(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},u.prototype.getLocation=function(){return new l(this.rect.x,this.rect.y)},u.prototype.getRect=function(){return this.rect},u.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},u.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},u.prototype.setRect=function(f,h){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=h.width,this.rect.height=h.height},u.prototype.setCenter=function(f,h){this.rect.x=f-this.rect.width/2,this.rect.y=h-this.rect.height/2},u.prototype.setLocation=function(f,h){this.rect.x=f,this.rect.y=h},u.prototype.moveBy=function(f,h){this.rect.x+=f,this.rect.y+=h},u.prototype.getEdgeListToNode=function(f){var h=[],d,v=this;return v.edges.forEach(function(g){if(g.target==f){if(g.source!=v)throw"Incorrect edge source!";h.push(g)}}),h},u.prototype.getEdgesBetween=function(f){var h=[],d,v=this;return v.edges.forEach(function(g){if(!(g.source==v||g.target==v))throw"Incorrect edge source and/or target";(g.target==f||g.source==f)&&h.push(g)}),h},u.prototype.getNeighborsList=function(){var f=new Set,h=this;return h.edges.forEach(function(d){if(d.source==h)f.add(d.target);else{if(d.target!=h)throw"Incorrect incidency!";f.add(d.source)}}),f},u.prototype.withChildren=function(){var f=new Set,h,d;if(f.add(this),this.child!=null)for(var v=this.child.getNodes(),g=0;g<v.length;g++)h=v[g],d=h.withChildren(),d.forEach(function(y){f.add(y)});return f},u.prototype.getNoOfChildren=function(){var f=0,h;if(this.child==null)f=1;else for(var d=this.child.getNodes(),v=0;v<d.length;v++)h=d[v],f+=h.getNoOfChildren();return f==0&&(f=1),f},u.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},u.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},u.prototype.scatter=function(){var f,h,d=-o.INITIAL_WORLD_BOUNDARY,v=o.INITIAL_WORLD_BOUNDARY;f=o.WORLD_CENTER_X+s.nextDouble()*(v-d)+d;var g=-o.INITIAL_WORLD_BOUNDARY,y=o.INITIAL_WORLD_BOUNDARY;h=o.WORLD_CENTER_Y+s.nextDouble()*(y-g)+g,this.rect.x=f,this.rect.y=h},u.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),o.NODE_DIMENSIONS_INCLUDE_LABELS){var h=f.getRight()-f.getLeft(),d=f.getBottom()-f.getTop();this.labelWidth&&(this.labelPosHorizontal=="left"?(this.rect.x-=this.labelWidth,this.setWidth(h+this.labelWidth)):this.labelPosHorizontal=="center"&&this.labelWidth>h?(this.rect.x-=(this.labelWidth-h)/2,this.setWidth(this.labelWidth)):this.labelPosHorizontal=="right"&&this.setWidth(h+this.labelWidth)),this.labelHeight&&(this.labelPosVertical=="top"?(this.rect.y-=this.labelHeight,this.setHeight(d+this.labelHeight)):this.labelPosVertical=="center"&&this.labelHeight>d?(this.rect.y-=(this.labelHeight-d)/2,this.setHeight(this.labelHeight)):this.labelPosVertical=="bottom"&&this.setHeight(d+this.labelHeight))}}},u.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==a.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},u.prototype.transform=function(f){var h=this.rect.x;h>o.WORLD_BOUNDARY?h=o.WORLD_BOUNDARY:h<-o.WORLD_BOUNDARY&&(h=-o.WORLD_BOUNDARY);var d=this.rect.y;d>o.WORLD_BOUNDARY?d=o.WORLD_BOUNDARY:d<-o.WORLD_BOUNDARY&&(d=-o.WORLD_BOUNDARY);var v=new l(h,d),g=f.inverseTransformPoint(v);this.setLocation(g.x,g.y)},u.prototype.getLeft=function(){return this.rect.x},u.prototype.getRight=function(){return this.rect.x+this.rect.width},u.prototype.getTop=function(){return this.rect.y},u.prototype.getBottom=function(){return this.rect.y+this.rect.height},u.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},t.exports=u},function(t,e,r){"use strict";var n=r(0);function a(){}for(var i in n)a[i]=n[i];a.MAX_ITERATIONS=2500,a.DEFAULT_EDGE_LENGTH=50,a.DEFAULT_SPRING_STRENGTH=.45,a.DEFAULT_REPULSION_STRENGTH=4500,a.DEFAULT_GRAVITY_STRENGTH=.4,a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,a.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,a.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,a.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,a.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,a.COOLING_ADAPTATION_FACTOR=.33,a.ADAPTATION_LOWER_NODE_LIMIT=1e3,a.ADAPTATION_UPPER_NODE_LIMIT=5e3,a.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,a.MAX_NODE_DISPLACEMENT=a.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,a.MIN_REPULSION_DIST=a.DEFAULT_EDGE_LENGTH/10,a.CONVERGENCE_CHECK_PERIOD=100,a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,a.MIN_EDGE_LENGTH=1,a.GRID_CALCULATION_CHECK_PERIOD=10,t.exports=a},function(t,e,r){"use strict";function n(a,i){a==null&&i==null?(this.x=0,this.y=0):(this.x=a,this.y=i)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(a){this.x=a},n.prototype.setY=function(a){this.y=a},n.prototype.getDifference=function(a){return new DimensionD(this.x-a.x,this.y-a.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(a){return this.x+=a.width,this.y+=a.height,this},t.exports=n},function(t,e,r){"use strict";var n=r(2),a=r(10),i=r(0),o=r(7),s=r(3),l=r(1),u=r(13),c=r(12),f=r(11);function h(v,g,y){n.call(this,y),this.estimatedSize=a.MIN_VALUE,this.margin=i.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=v,g!=null&&g instanceof o?this.graphManager=g:g!=null&&g instanceof Layout&&(this.graphManager=g.graphManager)}h.prototype=Object.create(n.prototype);for(var d in n)h[d]=n[d];h.prototype.getNodes=function(){return this.nodes},h.prototype.getEdges=function(){return this.edges},h.prototype.getGraphManager=function(){return this.graphManager},h.prototype.getParent=function(){return this.parent},h.prototype.getLeft=function(){return this.left},h.prototype.getRight=function(){return this.right},h.prototype.getTop=function(){return this.top},h.prototype.getBottom=function(){return this.bottom},h.prototype.isConnected=function(){return this.isConnected},h.prototype.add=function(v,g,y){if(g==null&&y==null){var p=v;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(p)>-1)throw"Node already in graph!";return p.owner=this,this.getNodes().push(p),p}else{var m=v;if(!(this.getNodes().indexOf(g)>-1&&this.getNodes().indexOf(y)>-1))throw"Source or target not in graph!";if(!(g.owner==y.owner&&g.owner==this))throw"Both owners must be this graph!";return g.owner!=y.owner?null:(m.source=g,m.target=y,m.isInterGraph=!1,this.getEdges().push(m),g.edges.push(m),y!=g&&y.edges.push(m),m)}},h.prototype.remove=function(v){var g=v;if(v instanceof s){if(g==null)throw"Node is null!";if(!(g.owner!=null&&g.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var y=g.edges.slice(),p,m=y.length,E=0;E<m;E++)p=y[E],p.isInterGraph?this.graphManager.remove(p):p.source.owner.remove(p);var T=this.nodes.indexOf(g);if(T==-1)throw"Node not in owner node list!";this.nodes.splice(T,1)}else if(v instanceof l){var p=v;if(p==null)throw"Edge is null!";if(!(p.source!=null&&p.target!=null))throw"Source and/or target is null!";if(!(p.source.owner!=null&&p.target.owner!=null&&p.source.owner==this&&p.target.owner==this))throw"Source and/or target owner is invalid!";var L=p.source.edges.indexOf(p),I=p.target.edges.indexOf(p);if(!(L>-1&&I>-1))throw"Source and/or target doesn't know this edge!";p.source.edges.splice(L,1),p.target!=p.source&&p.target.edges.splice(I,1);var T=p.source.owner.getEdges().indexOf(p);if(T==-1)throw"Not in owner's edge list!";p.source.owner.getEdges().splice(T,1)}},h.prototype.updateLeftTop=function(){for(var v=a.MAX_VALUE,g=a.MAX_VALUE,y,p,m,E=this.getNodes(),T=E.length,L=0;L<T;L++){var I=E[L];y=I.getTop(),p=I.getLeft(),v>y&&(v=y),g>p&&(g=p)}return v==a.MAX_VALUE?null:(E[0].getParent().paddingLeft!=null?m=E[0].getParent().paddingLeft:m=this.margin,this.left=g-m,this.top=v-m,new c(this.left,this.top))},h.prototype.updateBounds=function(v){for(var g=a.MAX_VALUE,y=-a.MAX_VALUE,p=a.MAX_VALUE,m=-a.MAX_VALUE,E,T,L,I,N,B=this.nodes,R=B.length,G=0;G<R;G++){var z=B[G];v&&z.child!=null&&z.updateBounds(),E=z.getLeft(),T=z.getRight(),L=z.getTop(),I=z.getBottom(),g>E&&(g=E),y<T&&(y=T),p>L&&(p=L),m<I&&(m=I)}var w=new u(g,p,y-g,m-p);g==a.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),B[0].getParent().paddingLeft!=null?N=B[0].getParent().paddingLeft:N=this.margin,this.left=w.x-N,this.right=w.x+w.width+N,this.top=w.y-N,this.bottom=w.y+w.height+N},h.calculateBounds=function(v){for(var g=a.MAX_VALUE,y=-a.MAX_VALUE,p=a.MAX_VALUE,m=-a.MAX_VALUE,E,T,L,I,N=v.length,B=0;B<N;B++){var R=v[B];E=R.getLeft(),T=R.getRight(),L=R.getTop(),I=R.getBottom(),g>E&&(g=E),y<T&&(y=T),p>L&&(p=L),m<I&&(m=I)}var G=new u(g,p,y-g,m-p);return G},h.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==a.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){for(var v=0,g=this.nodes,y=g.length,p=0;p<y;p++){var m=g[p];v+=m.calcEstimatedSize()}return v==0?this.estimatedSize=i.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=v/Math.sqrt(this.nodes.length),this.estimatedSize},h.prototype.updateConnected=function(){var v=this;if(this.nodes.length==0){this.isConnected=!0;return}var g=new f,y=new Set,p=this.nodes[0],m,E,T=p.withChildren();for(T.forEach(function(G){g.push(G),y.add(G)});g.length!==0;){p=g.shift(),m=p.getEdges();for(var L=m.length,I=0;I<L;I++){var N=m[I];if(E=N.getOtherEndInGraph(p,this),E!=null&&!y.has(E)){var B=E.withChildren();B.forEach(function(G){g.push(G),y.add(G)})}}}if(this.isConnected=!1,y.size>=this.nodes.length){var R=0;y.forEach(function(G){G.owner==v&&R++}),R==this.nodes.length&&(this.isConnected=!0)}},t.exports=h},function(t,e,r){"use strict";var n,a=r(1);function i(o){n=r(6),this.layout=o,this.graphs=[],this.edges=[]}i.prototype.addRoot=function(){var o=this.layout.newGraph(),s=this.layout.newNode(null),l=this.add(o,s);return this.setRootGraph(l),this.rootGraph},i.prototype.add=function(o,s,l,u,c){if(l==null&&u==null&&c==null){if(o==null)throw"Graph is null!";if(s==null)throw"Parent node is null!";if(this.graphs.indexOf(o)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(o),o.parent!=null)throw"Already has a parent!";if(s.child!=null)throw"Already has a child!";return o.parent=s,s.child=o,o}else{c=l,u=s,l=o;var f=u.getOwner(),h=c.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(h!=null&&h.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==h)return l.isInterGraph=!1,f.add(l,u,c);if(l.isInterGraph=!0,l.source=u,l.target=c,this.edges.indexOf(l)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(l),!(l.source!=null&&l.target!=null))throw"Edge source and/or target is null!";if(!(l.source.edges.indexOf(l)==-1&&l.target.edges.indexOf(l)==-1))throw"Edge already in source and/or target incidency list!";return l.source.edges.push(l),l.target.edges.push(l),l}},i.prototype.remove=function(o){if(o instanceof n){var s=o;if(s.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(s==this.rootGraph||s.parent!=null&&s.parent.graphManager==this))throw"Invalid parent node!";var l=[];l=l.concat(s.getEdges());for(var u,c=l.length,f=0;f<c;f++)u=l[f],s.remove(u);var h=[];h=h.concat(s.getNodes());var d;c=h.length;for(var f=0;f<c;f++)d=h[f],s.remove(d);s==this.rootGraph&&this.setRootGraph(null);var v=this.graphs.indexOf(s);this.graphs.splice(v,1),s.parent=null}else if(o instanceof a){if(u=o,u==null)throw"Edge is null!";if(!u.isInterGraph)throw"Not an inter-graph edge!";if(!(u.source!=null&&u.target!=null))throw"Source and/or target is null!";if(!(u.source.edges.indexOf(u)!=-1&&u.target.edges.indexOf(u)!=-1))throw"Source and/or target doesn't know this edge!";var v=u.source.edges.indexOf(u);if(u.source.edges.splice(v,1),v=u.target.edges.indexOf(u),u.target.edges.splice(v,1),!(u.source.owner!=null&&u.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(u.source.owner.getGraphManager().edges.indexOf(u)==-1)throw"Not in owner graph manager's edge list!";var v=u.source.owner.getGraphManager().edges.indexOf(u);u.source.owner.getGraphManager().edges.splice(v,1)}},i.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},i.prototype.getGraphs=function(){return this.graphs},i.prototype.getAllNodes=function(){if(this.allNodes==null){for(var o=[],s=this.getGraphs(),l=s.length,u=0;u<l;u++)o=o.concat(s[u].getNodes());this.allNodes=o}return this.allNodes},i.prototype.resetAllNodes=function(){this.allNodes=null},i.prototype.resetAllEdges=function(){this.allEdges=null},i.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},i.prototype.getAllEdges=function(){if(this.allEdges==null){for(var o=[],s=this.getGraphs(),l=s.length,u=0;u<s.length;u++)o=o.concat(s[u].getEdges());o=o.concat(this.edges),this.allEdges=o}return this.allEdges},i.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},i.prototype.setAllNodesToApplyGravitation=function(o){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=o},i.prototype.getRoot=function(){return this.rootGraph},i.prototype.setRootGraph=function(o){if(o.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=o,o.parent==null&&(o.parent=this.layout.newNode("Root node"))},i.prototype.getLayout=function(){return this.layout},i.prototype.isOneAncestorOfOther=function(o,s){if(!(o!=null&&s!=null))throw"assert failed";if(o==s)return!0;var l=o.getOwner(),u;do{if(u=l.getParent(),u==null)break;if(u==s)return!0;if(l=u.getOwner(),l==null)break}while(!0);l=s.getOwner();do{if(u=l.getParent(),u==null)break;if(u==o)return!0;if(l=u.getOwner(),l==null)break}while(!0);return!1},i.prototype.calcLowestCommonAncestors=function(){for(var o,s,l,u,c,f=this.getAllEdges(),h=f.length,d=0;d<h;d++){if(o=f[d],s=o.source,l=o.target,o.lca=null,o.sourceInLca=s,o.targetInLca=l,s==l){o.lca=s.getOwner();continue}for(u=s.getOwner();o.lca==null;){for(o.targetInLca=l,c=l.getOwner();o.lca==null;){if(c==u){o.lca=c;break}if(c==this.rootGraph)break;if(o.lca!=null)throw"assert failed";o.targetInLca=c.getParent(),c=o.targetInLca.getOwner()}if(u==this.rootGraph)break;o.lca==null&&(o.sourceInLca=u.getParent(),u=o.sourceInLca.getOwner())}if(o.lca==null)throw"assert failed"}},i.prototype.calcLowestCommonAncestor=function(o,s){if(o==s)return o.getOwner();var l=o.getOwner();do{if(l==null)break;var u=s.getOwner();do{if(u==null)break;if(u==l)return u;u=u.getParent().getOwner()}while(!0);l=l.getParent().getOwner()}while(!0);return l},i.prototype.calcInclusionTreeDepths=function(o,s){o==null&&s==null&&(o=this.rootGraph,s=1);for(var l,u=o.getNodes(),c=u.length,f=0;f<c;f++)l=u[f],l.inclusionTreeDepth=s,l.child!=null&&this.calcInclusionTreeDepths(l.child,s+1)},i.prototype.includesInvalidEdge=function(){for(var o,s=[],l=this.edges.length,u=0;u<l;u++)o=this.edges[u],this.isOneAncestorOfOther(o.source,o.target)&&s.push(o);for(var u=0;u<s.length;u++)this.remove(s[u]);return!1},t.exports=i},function(t,e,r){"use strict";var n=r(12);function a(){}a.calcSeparationAmount=function(i,o,s,l){if(!i.intersects(o))throw"assert failed";var u=new Array(2);this.decideDirectionsForOverlappingNodes(i,o,u),s[0]=Math.min(i.getRight(),o.getRight())-Math.max(i.x,o.x),s[1]=Math.min(i.getBottom(),o.getBottom())-Math.max(i.y,o.y),i.getX()<=o.getX()&&i.getRight()>=o.getRight()?s[0]+=Math.min(o.getX()-i.getX(),i.getRight()-o.getRight()):o.getX()<=i.getX()&&o.getRight()>=i.getRight()&&(s[0]+=Math.min(i.getX()-o.getX(),o.getRight()-i.getRight())),i.getY()<=o.getY()&&i.getBottom()>=o.getBottom()?s[1]+=Math.min(o.getY()-i.getY(),i.getBottom()-o.getBottom()):o.getY()<=i.getY()&&o.getBottom()>=i.getBottom()&&(s[1]+=Math.min(i.getY()-o.getY(),o.getBottom()-i.getBottom()));var c=Math.abs((o.getCenterY()-i.getCenterY())/(o.getCenterX()-i.getCenterX()));o.getCenterY()===i.getCenterY()&&o.getCenterX()===i.getCenterX()&&(c=1);var f=c*s[0],h=s[1]/c;s[0]<h?h=s[0]:f=s[1],s[0]=-1*u[0]*(h/2+l),s[1]=-1*u[1]*(f/2+l)},a.decideDirectionsForOverlappingNodes=function(i,o,s){i.getCenterX()<o.getCenterX()?s[0]=-1:s[0]=1,i.getCenterY()<o.getCenterY()?s[1]=-1:s[1]=1},a.getIntersection2=function(i,o,s){var l=i.getCenterX(),u=i.getCenterY(),c=o.getCenterX(),f=o.getCenterY();if(i.intersects(o))return s[0]=l,s[1]=u,s[2]=c,s[3]=f,!0;var h=i.getX(),d=i.getY(),v=i.getRight(),g=i.getX(),y=i.getBottom(),p=i.getRight(),m=i.getWidthHalf(),E=i.getHeightHalf(),T=o.getX(),L=o.getY(),I=o.getRight(),N=o.getX(),B=o.getBottom(),R=o.getRight(),G=o.getWidthHalf(),z=o.getHeightHalf(),w=!1,D=!1;if(l===c){if(u>f)return s[0]=l,s[1]=d,s[2]=c,s[3]=B,!1;if(u<f)return s[0]=l,s[1]=y,s[2]=c,s[3]=L,!1}else if(u===f){if(l>c)return s[0]=h,s[1]=u,s[2]=I,s[3]=f,!1;if(l<c)return s[0]=v,s[1]=u,s[2]=T,s[3]=f,!1}else{var C=i.height/i.width,P=o.height/o.width,S=(f-u)/(c-l),V=void 0,H=void 0,_=void 0,K=void 0,Y=void 0,Q=void 0;if(-C===S?l>c?(s[0]=g,s[1]=y,w=!0):(s[0]=v,s[1]=d,w=!0):C===S&&(l>c?(s[0]=h,s[1]=d,w=!0):(s[0]=p,s[1]=y,w=!0)),-P===S?c>l?(s[2]=N,s[3]=B,D=!0):(s[2]=I,s[3]=L,D=!0):P===S&&(c>l?(s[2]=T,s[3]=L,D=!0):(s[2]=R,s[3]=B,D=!0)),w&&D)return!1;if(l>c?u>f?(V=this.getCardinalDirection(C,S,4),H=this.getCardinalDirection(P,S,2)):(V=this.getCardinalDirection(-C,S,3),H=this.getCardinalDirection(-P,S,1)):u>f?(V=this.getCardinalDirection(-C,S,1),H=this.getCardinalDirection(-P,S,3)):(V=this.getCardinalDirection(C,S,2),H=this.getCardinalDirection(P,S,4)),!w)switch(V){case 1:K=d,_=l+-E/S,s[0]=_,s[1]=K;break;case 2:_=p,K=u+m*S,s[0]=_,s[1]=K;break;case 3:K=y,_=l+E/S,s[0]=_,s[1]=K;break;case 4:_=g,K=u+-m*S,s[0]=_,s[1]=K;break}if(!D)switch(H){case 1:Q=L,Y=c+-z/S,s[2]=Y,s[3]=Q;break;case 2:Y=R,Q=f+G*S,s[2]=Y,s[3]=Q;break;case 3:Q=B,Y=c+z/S,s[2]=Y,s[3]=Q;break;case 4:Y=N,Q=f+-G*S,s[2]=Y,s[3]=Q;break}}return!1},a.getCardinalDirection=function(i,o,s){return i>o?s:1+s%4},a.getIntersection=function(i,o,s,l){if(l==null)return this.getIntersection2(i,o,s);var u=i.x,c=i.y,f=o.x,h=o.y,d=s.x,v=s.y,g=l.x,y=l.y,p=void 0,m=void 0,E=void 0,T=void 0,L=void 0,I=void 0,N=void 0,B=void 0,R=void 0;return E=h-c,L=u-f,N=f*c-u*h,T=y-v,I=d-g,B=g*v-d*y,R=E*I-T*L,R===0?null:(p=(L*B-I*N)/R,m=(T*N-E*B)/R,new n(p,m))},a.angleOfVector=function(i,o,s,l){var u=void 0;return i!==s?(u=Math.atan((l-o)/(s-i)),s<i?u+=Math.PI:l<o&&(u+=this.TWO_PI)):l<o?u=this.ONE_AND_HALF_PI:u=this.HALF_PI,u},a.doIntersect=function(i,o,s,l){var u=i.x,c=i.y,f=o.x,h=o.y,d=s.x,v=s.y,g=l.x,y=l.y,p=(f-u)*(y-v)-(g-d)*(h-c);if(p===0)return!1;var m=((y-v)*(g-u)+(d-g)*(y-c))/p,E=((c-h)*(g-u)+(f-u)*(y-c))/p;return 0<m&&m<1&&0<E&&E<1},a.findCircleLineIntersections=function(i,o,s,l,u,c,f){var h=(s-i)*(s-i)+(l-o)*(l-o),d=2*((i-u)*(s-i)+(o-c)*(l-o)),v=(i-u)*(i-u)+(o-c)*(o-c)-f*f,g=d*d-4*h*v;if(g>=0){var y=(-d+Math.sqrt(d*d-4*h*v))/(2*h),p=(-d-Math.sqrt(d*d-4*h*v))/(2*h),m=null;return y>=0&&y<=1?[y]:p>=0&&p<=1?[p]:m}else return null},a.HALF_PI=.5*Math.PI,a.ONE_AND_HALF_PI=1.5*Math.PI,a.TWO_PI=2*Math.PI,a.THREE_PI=3*Math.PI,t.exports=a},function(t,e,r){"use strict";function n(){}n.sign=function(a){return a>0?1:a<0?-1:0},n.floor=function(a){return a<0?Math.ceil(a):Math.floor(a)},n.ceil=function(a){return a<0?Math.floor(a):Math.ceil(a)},t.exports=n},function(t,e,r){"use strict";function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,t.exports=n},function(t,e,r){"use strict";var n=function(){function u(c,f){for(var h=0;h<f.length;h++){var d=f[h];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(c,d.key,d)}}return function(c,f,h){return f&&u(c.prototype,f),h&&u(c,h),c}}();function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}var i=function(c){return{value:c,next:null,prev:null}},o=function(c,f,h,d){return c!==null?c.next=f:d.head=f,h!==null?h.prev=f:d.tail=f,f.prev=c,f.next=h,d.length++,f},s=function(c,f){var h=c.prev,d=c.next;return h!==null?h.next=d:f.head=d,d!==null?d.prev=h:f.tail=h,c.prev=c.next=null,f.length--,c},l=function(){function u(c){var f=this;a(this,u),this.length=0,this.head=null,this.tail=null,c?.forEach(function(h){return f.push(h)})}return n(u,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,h){return o(h.prev,i(f),h,this)}},{key:"insertAfter",value:function(f,h){return o(h,i(f),h.next,this)}},{key:"insertNodeBefore",value:function(f,h){return o(h.prev,f,h,this)}},{key:"insertNodeAfter",value:function(f,h){return o(h,f,h.next,this)}},{key:"push",value:function(f){return o(this.tail,i(f),null,this)}},{key:"unshift",value:function(f){return o(null,i(f),this.head,this)}},{key:"remove",value:function(f){return s(f,this)}},{key:"pop",value:function(){return s(this.tail,this).value}},{key:"popNode",value:function(){return s(this.tail,this)}},{key:"shift",value:function(){return s(this.head,this).value}},{key:"shiftNode",value:function(){return s(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var h=1,d=this.head;h<f;)d=d.next,h++;return d.value}}},{key:"set_object_at",value:function(f,h){if(f<=this.length()){for(var d=1,v=this.head;d<f;)v=v.next,d++;v.value=h}}}]),u}();t.exports=l},function(t,e,r){"use strict";function n(a,i,o){this.x=null,this.y=null,a==null&&i==null&&o==null?(this.x=0,this.y=0):typeof a=="number"&&typeof i=="number"&&o==null?(this.x=a,this.y=i):a.constructor.name=="Point"&&i==null&&o==null&&(o=a,this.x=o.x,this.y=o.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(a,i,o){a.constructor.name=="Point"&&i==null&&o==null?(o=a,this.setLocation(o.x,o.y)):typeof a=="number"&&typeof i=="number"&&o==null&&(parseInt(a)==a&&parseInt(i)==i?this.move(a,i):(this.x=Math.floor(a+.5),this.y=Math.floor(i+.5)))},n.prototype.move=function(a,i){this.x=a,this.y=i},n.prototype.translate=function(a,i){this.x+=a,this.y+=i},n.prototype.equals=function(a){if(a.constructor.name=="Point"){var i=a;return this.x==i.x&&this.y==i.y}return this==a},n.prototype.toString=function(){return new n().constructor.name+"[x="+this.x+",y="+this.y+"]"},t.exports=n},function(t,e,r){"use strict";function n(a,i,o,s){this.x=0,this.y=0,this.width=0,this.height=0,a!=null&&i!=null&&o!=null&&s!=null&&(this.x=a,this.y=i,this.width=o,this.height=s)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(a){this.x=a},n.prototype.getY=function(){return this.y},n.prototype.setY=function(a){this.y=a},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(a){this.width=a},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(a){this.height=a},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(a){return!(this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},t.exports=n},function(t,e,r){"use strict";var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i};function a(){}a.lastID=0,a.createID=function(i){return a.isPrimitive(i)?i:(i.uniqueID!=null||(i.uniqueID=a.getString(),a.lastID++),i.uniqueID)},a.getString=function(i){return i==null&&(i=a.lastID),"Object#"+i},a.isPrimitive=function(i){var o=typeof i>"u"?"undefined":n(i);return i==null||o!="object"&&o!="function"},t.exports=a},function(t,e,r){"use strict";function n(d){if(Array.isArray(d)){for(var v=0,g=Array(d.length);v<d.length;v++)g[v]=d[v];return g}else return Array.from(d)}var a=r(0),i=r(7),o=r(3),s=r(1),l=r(6),u=r(5),c=r(17),f=r(29);function h(d){f.call(this),this.layoutQuality=a.QUALITY,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=a.DEFAULT_INCREMENTAL,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new i(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,d!=null&&(this.isRemoteUse=d)}h.RANDOM_SEED=1,h.prototype=Object.create(f.prototype),h.prototype.getGraphManager=function(){return this.graphManager},h.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},h.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},h.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},h.prototype.newGraphManager=function(){var d=new i(this);return this.graphManager=d,d},h.prototype.newGraph=function(d){return new l(null,this.graphManager,d)},h.prototype.newNode=function(d){return new o(this.graphManager,d)},h.prototype.newEdge=function(d){return new s(null,null,d)},h.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},h.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var d;return this.checkLayoutSuccess()?d=!1:d=this.layout(),a.ANIMATE==="during"?!1:(d&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,d)},h.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},h.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var d,v=this.graphManager.getAllEdges(),g=0;g<v.length;g++)d=v[g];for(var y,p=this.graphManager.getRoot().getNodes(),g=0;g<p.length;g++)y=p[g];this.update(this.graphManager.getRoot())}},h.prototype.update=function(d){if(d==null)this.update2();else if(d instanceof o){var v=d;if(v.getChild()!=null)for(var g=v.getChild().getNodes(),y=0;y<g.length;y++)update(g[y]);if(v.vGraphObject!=null){var p=v.vGraphObject;p.update(v)}}else if(d instanceof s){var m=d;if(m.vGraphObject!=null){var E=m.vGraphObject;E.update(m)}}else if(d instanceof l){var T=d;if(T.vGraphObject!=null){var L=T.vGraphObject;L.update(T)}}},h.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=a.QUALITY,this.animationDuringLayout=a.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=a.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=a.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=a.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=a.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=a.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},h.prototype.transform=function(d){if(d==null)this.transform(new u(0,0));else{var v=new c,g=this.graphManager.getRoot().updateLeftTop();if(g!=null){v.setWorldOrgX(d.x),v.setWorldOrgY(d.y),v.setDeviceOrgX(g.x),v.setDeviceOrgY(g.y);for(var y=this.getAllNodes(),p,m=0;m<y.length;m++)p=y[m],p.transform(v)}}},h.prototype.positionNodesRandomly=function(d){if(d==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var v,g,y=d.getNodes(),p=0;p<y.length;p++)v=y[p],g=v.getChild(),g==null||g.getNodes().length==0?v.scatter():(this.positionNodesRandomly(g),v.updateBounds())},h.prototype.getFlatForest=function(){for(var d=[],v=!0,g=this.graphManager.getRoot().getNodes(),y=!0,p=0;p<g.length;p++)g[p].getChild()!=null&&(y=!1);if(!y)return d;var m=new Set,E=[],T=new Map,L=[];for(L=L.concat(g);L.length>0&&v;){for(E.push(L[0]);E.length>0&&v;){var I=E[0];E.splice(0,1),m.add(I);for(var N=I.getEdges(),p=0;p<N.length;p++){var B=N[p].getOtherEnd(I);if(T.get(I)!=B)if(!m.has(B))E.push(B),T.set(B,I);else{v=!1;break}}}if(!v)d=[];else{var R=[].concat(n(m));d.push(R);for(var p=0;p<R.length;p++){var G=R[p],z=L.indexOf(G);z>-1&&L.splice(z,1)}m=new Set,T=new Map}}return d},h.prototype.createDummyNodesForBendpoints=function(d){for(var v=[],g=d.source,y=this.graphManager.calcLowestCommonAncestor(d.source,d.target),p=0;p<d.bendpoints.length;p++){var m=this.newNode(null);m.setRect(new Point(0,0),new Dimension(1,1)),y.add(m);var E=this.newEdge(null);this.graphManager.add(E,g,m),v.add(m),g=m}var E=this.newEdge(null);return this.graphManager.add(E,g,d.target),this.edgeToDummyNodes.set(d,v),d.isInterGraph()?this.graphManager.remove(d):y.remove(d),v},h.prototype.createBendpointsFromDummyNodes=function(){var d=[];d=d.concat(this.graphManager.getAllEdges()),d=[].concat(n(this.edgeToDummyNodes.keys())).concat(d);for(var v=0;v<d.length;v++){var g=d[v];if(g.bendpoints.length>0){for(var y=this.edgeToDummyNodes.get(g),p=0;p<y.length;p++){var m=y[p],E=new u(m.getCenterX(),m.getCenterY()),T=g.bendpoints.get(p);T.x=E.x,T.y=E.y,m.getOwner().remove(m)}this.graphManager.add(g,g.source,g.target)}}},h.transform=function(d,v,g,y){if(g!=null&&y!=null){var p=v;if(d<=50){var m=v/g;p-=(v-m)/50*(50-d)}else{var E=v*y;p+=(E-v)/50*(d-50)}return p}else{var T,L;return d<=50?(T=9*v/500,L=v/10):(T=9*v/50,L=-8*v),T*d+L}},h.findCenterOfTree=function(d){var v=[];v=v.concat(d);var g=[],y=new Map,p=!1,m=null;(v.length==1||v.length==2)&&(p=!0,m=v[0]);for(var E=0;E<v.length;E++){var T=v[E],L=T.getNeighborsList().size;y.set(T,T.getNeighborsList().size),L==1&&g.push(T)}var I=[];for(I=I.concat(g);!p;){var N=[];N=N.concat(I),I=[];for(var E=0;E<v.length;E++){var T=v[E],B=v.indexOf(T);B>=0&&v.splice(B,1);var R=T.getNeighborsList();R.forEach(function(w){if(g.indexOf(w)<0){var D=y.get(w),C=D-1;C==1&&I.push(w),y.set(w,C)}})}g=g.concat(I),(v.length==1||v.length==2)&&(p=!0,m=v[0])}return m},h.prototype.setGraphManager=function(d){this.graphManager=d},t.exports=h},function(t,e,r){"use strict";function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=Math.sin(n.seed++)*1e4,n.x-Math.floor(n.x)},t.exports=n},function(t,e,r){"use strict";var n=r(5);function a(i,o){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}a.prototype.getWorldOrgX=function(){return this.lworldOrgX},a.prototype.setWorldOrgX=function(i){this.lworldOrgX=i},a.prototype.getWorldOrgY=function(){return this.lworldOrgY},a.prototype.setWorldOrgY=function(i){this.lworldOrgY=i},a.prototype.getWorldExtX=function(){return this.lworldExtX},a.prototype.setWorldExtX=function(i){this.lworldExtX=i},a.prototype.getWorldExtY=function(){return this.lworldExtY},a.prototype.setWorldExtY=function(i){this.lworldExtY=i},a.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},a.prototype.setDeviceOrgX=function(i){this.ldeviceOrgX=i},a.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},a.prototype.setDeviceOrgY=function(i){this.ldeviceOrgY=i},a.prototype.getDeviceExtX=function(){return this.ldeviceExtX},a.prototype.setDeviceExtX=function(i){this.ldeviceExtX=i},a.prototype.getDeviceExtY=function(){return this.ldeviceExtY},a.prototype.setDeviceExtY=function(i){this.ldeviceExtY=i},a.prototype.transformX=function(i){var o=0,s=this.lworldExtX;return s!=0&&(o=this.ldeviceOrgX+(i-this.lworldOrgX)*this.ldeviceExtX/s),o},a.prototype.transformY=function(i){var o=0,s=this.lworldExtY;return s!=0&&(o=this.ldeviceOrgY+(i-this.lworldOrgY)*this.ldeviceExtY/s),o},a.prototype.inverseTransformX=function(i){var o=0,s=this.ldeviceExtX;return s!=0&&(o=this.lworldOrgX+(i-this.ldeviceOrgX)*this.lworldExtX/s),o},a.prototype.inverseTransformY=function(i){var o=0,s=this.ldeviceExtY;return s!=0&&(o=this.lworldOrgY+(i-this.ldeviceOrgY)*this.lworldExtY/s),o},a.prototype.inverseTransformPoint=function(i){var o=new n(this.inverseTransformX(i.x),this.inverseTransformY(i.y));return o},t.exports=a},function(t,e,r){"use strict";function n(f){if(Array.isArray(f)){for(var h=0,d=Array(f.length);h<f.length;h++)d[h]=f[h];return d}else return Array.from(f)}var a=r(15),i=r(4),o=r(0),s=r(8),l=r(9);function u(){a.call(this),this.useSmartIdealEdgeLengthCalculation=i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=i.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=i.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=i.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=i.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=i.MAX_ITERATIONS}u.prototype=Object.create(a.prototype);for(var c in a)u[c]=a[c];u.prototype.initParameters=function(){a.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},u.prototype.calcIdealEdgeLengths=function(){for(var f,h,d,v,g,y,p,m=this.getGraphManager().getAllEdges(),E=0;E<m.length;E++)f=m[E],h=f.idealLength,f.isInterGraph&&(v=f.getSource(),g=f.getTarget(),y=f.getSourceInLca().getEstimatedSize(),p=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=y+p-2*o.SIMPLE_NODE_SIZE),d=f.getLca().getInclusionTreeDepth(),f.idealLength+=h*i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(v.getInclusionTreeDepth()+g.getInclusionTreeDepth()-2*d))},u.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>i.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*i.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-i.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>i.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(i.COOLING_ADAPTATION_FACTOR,1-(f-i.ADAPTATION_LOWER_NODE_LIMIT)/(i.ADAPTATION_UPPER_NODE_LIMIT-i.ADAPTATION_LOWER_NODE_LIMIT)*(1-i.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=i.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.displacementThresholdPerNode=3*i.DEFAULT_EDGE_LENGTH/100,this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},u.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),h,d=0;d<f.length;d++)h=f[d],this.calcSpringForce(h,h.idealLength)},u.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,d,v,g,y,p=this.getAllNodes(),m;if(this.useFRGridVariant)for(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),m=new Set,d=0;d<p.length;d++)g=p[d],this.calculateRepulsionForceOfANode(g,m,f,h),m.add(g);else for(d=0;d<p.length;d++)for(g=p[d],v=d+1;v<p.length;v++)y=p[v],g.getOwner()==y.getOwner()&&this.calcRepulsionForce(g,y)},u.prototype.calcGravitationalForces=function(){for(var f,h=this.getAllNodesToApplyGravitation(),d=0;d<h.length;d++)f=h[d],this.calcGravitationalForce(f)},u.prototype.moveNodes=function(){for(var f=this.getAllNodes(),h,d=0;d<f.length;d++)h=f[d],h.move()},u.prototype.calcSpringForce=function(f,h){var d=f.getSource(),v=f.getTarget(),g,y,p,m;if(this.uniformLeafNodeSizes&&d.getChild()==null&&v.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;g=f.getLength(),g!=0&&(y=f.edgeElasticity*(g-h),p=y*(f.lengthX/g),m=y*(f.lengthY/g),d.springForceX+=p,d.springForceY+=m,v.springForceX-=p,v.springForceY-=m)},u.prototype.calcRepulsionForce=function(f,h){var d=f.getRect(),v=h.getRect(),g=new Array(2),y=new Array(4),p,m,E,T,L,I,N;if(d.intersects(v)){s.calcSeparationAmount(d,v,g,i.DEFAULT_EDGE_LENGTH/2),I=2*g[0],N=2*g[1];var B=f.noOfChildren*h.noOfChildren/(f.noOfChildren+h.noOfChildren);f.repulsionForceX-=B*I,f.repulsionForceY-=B*N,h.repulsionForceX+=B*I,h.repulsionForceY+=B*N}else this.uniformLeafNodeSizes&&f.getChild()==null&&h.getChild()==null?(p=v.getCenterX()-d.getCenterX(),m=v.getCenterY()-d.getCenterY()):(s.getIntersection(d,v,y),p=y[2]-y[0],m=y[3]-y[1]),Math.abs(p)<i.MIN_REPULSION_DIST&&(p=l.sign(p)*i.MIN_REPULSION_DIST),Math.abs(m)<i.MIN_REPULSION_DIST&&(m=l.sign(m)*i.MIN_REPULSION_DIST),E=p*p+m*m,T=Math.sqrt(E),L=(f.nodeRepulsion/2+h.nodeRepulsion/2)*f.noOfChildren*h.noOfChildren/E,I=L*p/T,N=L*m/T,f.repulsionForceX-=I,f.repulsionForceY-=N,h.repulsionForceX+=I,h.repulsionForceY+=N},u.prototype.calcGravitationalForce=function(f){var h,d,v,g,y,p,m,E;h=f.getOwner(),d=(h.getRight()+h.getLeft())/2,v=(h.getTop()+h.getBottom())/2,g=f.getCenterX()-d,y=f.getCenterY()-v,p=Math.abs(g)+f.getWidth()/2,m=Math.abs(y)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(E=h.getEstimatedSize()*this.gravityRangeFactor,(p>E||m>E)&&(f.gravitationForceX=-this.gravityConstant*g,f.gravitationForceY=-this.gravityConstant*y)):(E=h.getEstimatedSize()*this.compoundGravityRangeFactor,(p>E||m>E)&&(f.gravitationForceX=-this.gravityConstant*g*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*y*this.compoundGravityConstant))},u.prototype.isConverged=function(){var f,h=!1;return this.totalIterations>this.maxIterations/3&&(h=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||h},u.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},u.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,h=this.graphManager.getAllNodes(),d=0;d<h.length;d++)f=h[d],f.noOfChildren=f.getNoOfChildren()},u.prototype.calcGrid=function(f){var h=0,d=0;h=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),d=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var v=new Array(h),g=0;g<h;g++)v[g]=new Array(d);for(var g=0;g<h;g++)for(var y=0;y<d;y++)v[g][y]=new Array;return v},u.prototype.addNodeToGrid=function(f,h,d){var v=0,g=0,y=0,p=0;v=parseInt(Math.floor((f.getRect().x-h)/this.repulsionRange)),g=parseInt(Math.floor((f.getRect().width+f.getRect().x-h)/this.repulsionRange)),y=parseInt(Math.floor((f.getRect().y-d)/this.repulsionRange)),p=parseInt(Math.floor((f.getRect().height+f.getRect().y-d)/this.repulsionRange));for(var m=v;m<=g;m++)for(var E=y;E<=p;E++)this.grid[m][E].push(f),f.setGridCoordinates(v,g,y,p)},u.prototype.updateGrid=function(){var f,h,d=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<d.length;f++)h=d[f],this.addNodeToGrid(h,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},u.prototype.calculateRepulsionForceOfANode=function(f,h,d,v){if(this.totalIterations%i.GRID_CALCULATION_CHECK_PERIOD==1&&d||v){var g=new Set;f.surrounding=new Array;for(var y,p=this.grid,m=f.startX-1;m<f.finishX+2;m++)for(var E=f.startY-1;E<f.finishY+2;E++)if(!(m<0||E<0||m>=p.length||E>=p[0].length)){for(var T=0;T<p[m][E].length;T++)if(y=p[m][E][T],!(f.getOwner()!=y.getOwner()||f==y)&&!h.has(y)&&!g.has(y)){var L=Math.abs(f.getCenterX()-y.getCenterX())-(f.getWidth()/2+y.getWidth()/2),I=Math.abs(f.getCenterY()-y.getCenterY())-(f.getHeight()/2+y.getHeight()/2);L<=this.repulsionRange&&I<=this.repulsionRange&&g.add(y)}}f.surrounding=[].concat(n(g))}for(m=0;m<f.surrounding.length;m++)this.calcRepulsionForce(f,f.surrounding[m])},u.prototype.calcRepulsionRange=function(){return 0},t.exports=u},function(t,e,r){"use strict";var n=r(1),a=r(4);function i(s,l,u){n.call(this,s,l,u),this.idealLength=a.DEFAULT_EDGE_LENGTH,this.edgeElasticity=a.DEFAULT_SPRING_STRENGTH}i.prototype=Object.create(n.prototype);for(var o in n)i[o]=n[o];t.exports=i},function(t,e,r){"use strict";var n=r(3),a=r(4);function i(s,l,u,c){n.call(this,s,l,u,c),this.nodeRepulsion=a.DEFAULT_REPULSION_STRENGTH,this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}i.prototype=Object.create(n.prototype);for(var o in n)i[o]=n[o];i.prototype.setGridCoordinates=function(s,l,u,c){this.startX=s,this.finishX=l,this.startY=u,this.finishY=c},t.exports=i},function(t,e,r){"use strict";function n(a,i){this.width=0,this.height=0,a!==null&&i!==null&&(this.height=i,this.width=a)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(a){this.width=a},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(a){this.height=a},t.exports=n},function(t,e,r){"use strict";var n=r(14);function a(){this.map={},this.keys=[]}a.prototype.put=function(i,o){var s=n.createID(i);this.contains(s)||(this.map[s]=o,this.keys.push(i))},a.prototype.contains=function(i){var o=n.createID(i);return this.map[i]!=null},a.prototype.get=function(i){var o=n.createID(i);return this.map[o]},a.prototype.keySet=function(){return this.keys},t.exports=a},function(t,e,r){"use strict";var n=r(14);function a(){this.set={}}a.prototype.add=function(i){var o=n.createID(i);this.contains(o)||(this.set[o]=i)},a.prototype.remove=function(i){delete this.set[n.createID(i)]},a.prototype.clear=function(){this.set={}},a.prototype.contains=function(i){return this.set[n.createID(i)]==i},a.prototype.isEmpty=function(){return this.size()===0},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAllTo=function(i){for(var o=Object.keys(this.set),s=o.length,l=0;l<s;l++)i.push(this.set[o[l]])},a.prototype.size=function(){return Object.keys(this.set).length},a.prototype.addAll=function(i){for(var o=i.length,s=0;s<o;s++){var l=i[s];this.add(l)}},t.exports=a},function(t,e,r){"use strict";function n(){}n.multMat=function(a,i){for(var o=[],s=0;s<a.length;s++){o[s]=[];for(var l=0;l<i[0].length;l++){o[s][l]=0;for(var u=0;u<a[0].length;u++)o[s][l]+=a[s][u]*i[u][l]}}return o},n.transpose=function(a){for(var i=[],o=0;o<a[0].length;o++){i[o]=[];for(var s=0;s<a.length;s++)i[o][s]=a[s][o]}return i},n.multCons=function(a,i){for(var o=[],s=0;s<a.length;s++)o[s]=a[s]*i;return o},n.minusOp=function(a,i){for(var o=[],s=0;s<a.length;s++)o[s]=a[s]-i[s];return o},n.dotProduct=function(a,i){for(var o=0,s=0;s<a.length;s++)o+=a[s]*i[s];return o},n.mag=function(a){return Math.sqrt(this.dotProduct(a,a))},n.normalize=function(a){for(var i=[],o=this.mag(a),s=0;s<a.length;s++)i[s]=a[s]/o;return i},n.multGamma=function(a){for(var i=[],o=0,s=0;s<a.length;s++)o+=a[s];o*=-1/a.length;for(var l=0;l<a.length;l++)i[l]=o+a[l];return i},n.multL=function(a,i,o){for(var s=[],l=[],u=[],c=0;c<i[0].length;c++){for(var f=0,h=0;h<i.length;h++)f+=-.5*i[h][c]*a[h];l[c]=f}for(var d=0;d<o.length;d++){for(var v=0,g=0;g<o.length;g++)v+=o[d][g]*l[g];u[d]=v}for(var y=0;y<i.length;y++){for(var p=0,m=0;m<i[0].length;m++)p+=i[y][m]*u[m];s[y]=p}return s},t.exports=n},function(t,e,r){"use strict";var n=function(){function s(l,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(l,f.key,f)}}return function(l,u,c){return u&&s(l.prototype,u),c&&s(l,c),l}}();function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var i=r(11),o=function(){function s(l,u){a(this,s),(u!==null||u!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var c=void 0;l instanceof i?c=l.size():c=l.length,this._quicksort(l,0,c-1)}return n(s,[{key:"_quicksort",value:function(u,c,f){if(c<f){var h=this._partition(u,c,f);this._quicksort(u,c,h),this._quicksort(u,h+1,f)}}},{key:"_partition",value:function(u,c,f){for(var h=this._get(u,c),d=c,v=f;;){for(;this.compareFunction(h,this._get(u,v));)v--;for(;this.compareFunction(this._get(u,d),h);)d++;if(d<v)this._swap(u,d,v),d++,v--;else return v}}},{key:"_get",value:function(u,c){return u instanceof i?u.get_object_at(c):u[c]}},{key:"_set",value:function(u,c,f){u instanceof i?u.set_object_at(c,f):u[c]=f}},{key:"_swap",value:function(u,c,f){var h=this._get(u,c);this._set(u,c,this._get(u,f)),this._set(u,f,h)}},{key:"_defaultCompareFunction",value:function(u,c){return c>u}}]),s}();t.exports=o},function(t,e,r){"use strict";function n(){}n.svd=function(a){this.U=null,this.V=null,this.s=null,this.m=0,this.n=0,this.m=a.length,this.n=a[0].length;var i=Math.min(this.m,this.n);this.s=function(tt){for(var $e=[];tt-- >0;)$e.push(0);return $e}(Math.min(this.m+1,this.n)),this.U=function(tt){var $e=function Qe(lt){if(lt.length==0)return 0;for(var ft=[],Nt=0;Nt<lt[0];Nt++)ft.push(Qe(lt.slice(1)));return ft};return $e(tt)}([this.m,i]),this.V=function(tt){var $e=function Qe(lt){if(lt.length==0)return 0;for(var ft=[],Nt=0;Nt<lt[0];Nt++)ft.push(Qe(lt.slice(1)));return ft};return $e(tt)}([this.n,this.n]);for(var o=function(tt){for(var $e=[];tt-- >0;)$e.push(0);return $e}(this.n),s=function(tt){for(var $e=[];tt-- >0;)$e.push(0);return $e}(this.m),l=!0,u=!0,c=Math.min(this.m-1,this.n),f=Math.max(0,Math.min(this.n-2,this.m)),h=0;h<Math.max(c,f);h++){if(h<c){this.s[h]=0;for(var d=h;d<this.m;d++)this.s[h]=n.hypot(this.s[h],a[d][h]);if(this.s[h]!==0){a[h][h]<0&&(this.s[h]=-this.s[h]);for(var v=h;v<this.m;v++)a[v][h]/=this.s[h];a[h][h]+=1}this.s[h]=-this.s[h]}for(var g=h+1;g<this.n;g++){if(function(tt,$e){return tt&&$e}(h<c,this.s[h]!==0)){for(var y=0,p=h;p<this.m;p++)y+=a[p][h]*a[p][g];y=-y/a[h][h];for(var m=h;m<this.m;m++)a[m][g]+=y*a[m][h]}o[g]=a[h][g]}if(function(tt,$e){return tt&&$e}(l,h<c))for(var E=h;E<this.m;E++)this.U[E][h]=a[E][h];if(h<f){o[h]=0;for(var T=h+1;T<this.n;T++)o[h]=n.hypot(o[h],o[T]);if(o[h]!==0){o[h+1]<0&&(o[h]=-o[h]);for(var L=h+1;L<this.n;L++)o[L]/=o[h];o[h+1]+=1}if(o[h]=-o[h],function(tt,$e){return tt&&$e}(h+1<this.m,o[h]!==0)){for(var I=h+1;I<this.m;I++)s[I]=0;for(var N=h+1;N<this.n;N++)for(var B=h+1;B<this.m;B++)s[B]+=o[N]*a[B][N];for(var R=h+1;R<this.n;R++)for(var G=-o[R]/o[h+1],z=h+1;z<this.m;z++)a[z][R]+=G*s[z]}if(u)for(var w=h+1;w<this.n;w++)this.V[w][h]=o[w]}}var D=Math.min(this.n,this.m+1);if(c<this.n&&(this.s[c]=a[c][c]),this.m<D&&(this.s[D-1]=0),f+1<D&&(o[f]=a[f][D-1]),o[D-1]=0,l){for(var C=c;C<i;C++){for(var P=0;P<this.m;P++)this.U[P][C]=0;this.U[C][C]=1}for(var S=c-1;S>=0;S--)if(this.s[S]!==0){for(var V=S+1;V<i;V++){for(var H=0,_=S;_<this.m;_++)H+=this.U[_][S]*this.U[_][V];H=-H/this.U[S][S];for(var K=S;K<this.m;K++)this.U[K][V]+=H*this.U[K][S]}for(var Y=S;Y<this.m;Y++)this.U[Y][S]=-this.U[Y][S];this.U[S][S]=1+this.U[S][S];for(var Q=0;Q<S-1;Q++)this.U[Q][S]=0}else{for(var ee=0;ee<this.m;ee++)this.U[ee][S]=0;this.U[S][S]=1}}if(u)for(var Z=this.n-1;Z>=0;Z--){if(function(tt,$e){return tt&&$e}(Z<f,o[Z]!==0))for(var te=Z+1;te<i;te++){for(var W=0,k=Z+1;k<this.n;k++)W+=this.V[k][Z]*this.V[k][te];W=-W/this.V[Z+1][Z];for(var X=Z+1;X<this.n;X++)this.V[X][te]+=W*this.V[X][Z]}for(var J=0;J<this.n;J++)this.V[J][Z]=0;this.V[Z][Z]=1}for(var ae=D-1,le=0,De=Math.pow(2,-52),Re=Math.pow(2,-966);D>0;){var ie=void 0,xe=void 0;for(ie=D-2;ie>=-1&&ie!==-1;ie--)if(Math.abs(o[ie])<=Re+De*(Math.abs(this.s[ie])+Math.abs(this.s[ie+1]))){o[ie]=0;break}if(ie===D-2)xe=4;else{var Ne=void 0;for(Ne=D-1;Ne>=ie&&Ne!==ie;Ne--){var pe=(Ne!==D?Math.abs(o[Ne]):0)+(Ne!==ie+1?Math.abs(o[Ne-1]):0);if(Math.abs(this.s[Ne])<=Re+De*pe){this.s[Ne]=0;break}}Ne===ie?xe=3:Ne===D-1?xe=1:(xe=2,ie=Ne)}switch(ie++,xe){case 1:{var se=o[D-2];o[D-2]=0;for(var Ce=D-2;Ce>=ie;Ce--){var ke=n.hypot(this.s[Ce],se),Pe=this.s[Ce]/ke,Me=se/ke;if(this.s[Ce]=ke,Ce!==ie&&(se=-Me*o[Ce-1],o[Ce-1]=Pe*o[Ce-1]),u)for(var fe=0;fe<this.n;fe++)ke=Pe*this.V[fe][Ce]+Me*this.V[fe][D-1],this.V[fe][D-1]=-Me*this.V[fe][Ce]+Pe*this.V[fe][D-1],this.V[fe][Ce]=ke}}break;case 2:{var U=o[ie-1];o[ie-1]=0;for(var re=ie;re<D;re++){var ge=n.hypot(this.s[re],U),ue=this.s[re]/ge,ce=U/ge;if(this.s[re]=ge,U=-ce*o[re],o[re]=ue*o[re],l)for(var Ue=0;Ue<this.m;Ue++)ge=ue*this.U[Ue][re]+ce*this.U[Ue][ie-1],this.U[Ue][ie-1]=-ce*this.U[Ue][re]+ue*this.U[Ue][ie-1],this.U[Ue][re]=ge}}break;case 3:{var j=Math.max(Math.max(Math.max(Math.max(Math.abs(this.s[D-1]),Math.abs(this.s[D-2])),Math.abs(o[D-2])),Math.abs(this.s[ie])),Math.abs(o[ie])),oe=this.s[D-1]/j,he=this.s[D-2]/j,me=o[D-2]/j,de=this.s[ie]/j,we=o[ie]/j,Le=((he+oe)*(he-oe)+me*me)/2,Se=oe*me*(oe*me),Te=0;(function(tt,$e){return tt||$e})(Le!==0,Se!==0)&&(Te=Math.sqrt(Le*Le+Se),Le<0&&(Te=-Te),Te=Se/(Le+Te));for(var Be=(de+oe)*(de-oe)+Te,_e=de*we,Fe=ie;Fe<D-1;Fe++){var He=n.hypot(Be,_e),nt=Be/He,ze=_e/He;if(Fe!==ie&&(o[Fe-1]=He),Be=nt*this.s[Fe]+ze*o[Fe],o[Fe]=nt*o[Fe]-ze*this.s[Fe],_e=ze*this.s[Fe+1],this.s[Fe+1]=nt*this.s[Fe+1],u)for(var Ge=0;Ge<this.n;Ge++)He=nt*this.V[Ge][Fe]+ze*this.V[Ge][Fe+1],this.V[Ge][Fe+1]=-ze*this.V[Ge][Fe]+nt*this.V[Ge][Fe+1],this.V[Ge][Fe]=He;if(He=n.hypot(Be,_e),nt=Be/He,ze=_e/He,this.s[Fe]=He,Be=nt*o[Fe]+ze*this.s[Fe+1],this.s[Fe+1]=-ze*o[Fe]+nt*this.s[Fe+1],_e=ze*o[Fe+1],o[Fe+1]=nt*o[Fe+1],l&&Fe<this.m-1)for(var Ze=0;Ze<this.m;Ze++)He=nt*this.U[Ze][Fe]+ze*this.U[Ze][Fe+1],this.U[Ze][Fe+1]=-ze*this.U[Ze][Fe]+nt*this.U[Ze][Fe+1],this.U[Ze][Fe]=He}o[D-2]=Be,le=le+1}break;case 4:{if(this.s[ie]<=0&&(this.s[ie]=this.s[ie]<0?-this.s[ie]:0,u))for(var We=0;We<=ae;We++)this.V[We][ie]=-this.V[We][ie];for(;ie<ae&&!(this.s[ie]>=this.s[ie+1]);){var Xe=this.s[ie];if(this.s[ie]=this.s[ie+1],this.s[ie+1]=Xe,u&&ie<this.n-1)for(var ct=0;ct<this.n;ct++)Xe=this.V[ct][ie+1],this.V[ct][ie+1]=this.V[ct][ie],this.V[ct][ie]=Xe;if(l&&ie<this.m-1)for(var at=0;at<this.m;at++)Xe=this.U[at][ie+1],this.U[at][ie+1]=this.U[at][ie],this.U[at][ie]=Xe;ie++}le=0,D--}break}}var Et={U:this.U,V:this.V,S:this.s};return Et},n.hypot=function(a,i){var o=void 0;return Math.abs(a)>Math.abs(i)?(o=i/a,o=Math.abs(a)*Math.sqrt(1+o*o)):i!=0?(o=a/i,o=Math.abs(i)*Math.sqrt(1+o*o)):o=0,o},t.exports=n},function(t,e,r){"use strict";var n=function(){function o(s,l){for(var u=0;u<l.length;u++){var c=l[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(s,c.key,c)}}return function(s,l,u){return l&&o(s.prototype,l),u&&o(s,u),s}}();function a(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}var i=function(){function o(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;a(this,o),this.sequence1=s,this.sequence2=l,this.match_score=u,this.mismatch_penalty=c,this.gap_penalty=f,this.iMax=s.length+1,this.jMax=l.length+1,this.grid=new Array(this.iMax);for(var h=0;h<this.iMax;h++){this.grid[h]=new Array(this.jMax);for(var d=0;d<this.jMax;d++)this.grid[h][d]=0}this.tracebackGrid=new Array(this.iMax);for(var v=0;v<this.iMax;v++){this.tracebackGrid[v]=new Array(this.jMax);for(var g=0;g<this.jMax;g++)this.tracebackGrid[v][g]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return n(o,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var l=1;l<this.jMax;l++)this.grid[0][l]=this.grid[0][l-1]+this.gap_penalty,this.tracebackGrid[0][l]=[!1,!1,!0];for(var u=1;u<this.iMax;u++)this.grid[u][0]=this.grid[u-1][0]+this.gap_penalty,this.tracebackGrid[u][0]=[!1,!0,!1];for(var c=1;c<this.iMax;c++)for(var f=1;f<this.jMax;f++){var h=void 0;this.sequence1[c-1]===this.sequence2[f-1]?h=this.grid[c-1][f-1]+this.match_score:h=this.grid[c-1][f-1]+this.mismatch_penalty;var d=this.grid[c-1][f]+this.gap_penalty,v=this.grid[c][f-1]+this.gap_penalty,g=[h,d,v],y=this.arrayAllMaxIndexes(g);this.grid[c][f]=g[y[0]],this.tracebackGrid[c][f]=[y.includes(0),y.includes(1),y.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var l=[];for(l.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});l[0];){var u=l[0],c=this.tracebackGrid[u.pos[0]][u.pos[1]];c[0]&&l.push({pos:[u.pos[0]-1,u.pos[1]-1],seq1:this.sequence1[u.pos[0]-1]+u.seq1,seq2:this.sequence2[u.pos[1]-1]+u.seq2}),c[1]&&l.push({pos:[u.pos[0]-1,u.pos[1]],seq1:this.sequence1[u.pos[0]-1]+u.seq1,seq2:"-"+u.seq2}),c[2]&&l.push({pos:[u.pos[0],u.pos[1]-1],seq1:"-"+u.seq1,seq2:this.sequence2[u.pos[1]-1]+u.seq2}),u.pos[0]===0&&u.pos[1]===0&&this.alignments.push({sequence1:u.seq1,sequence2:u.seq2}),l.shift()}return this.alignments}},{key:"getAllIndexes",value:function(l,u){for(var c=[],f=-1;(f=l.indexOf(u,f+1))!==-1;)c.push(f);return c}},{key:"arrayAllMaxIndexes",value:function(l){return this.getAllIndexes(l,Math.max.apply(null,l))}}]),o}();t.exports=i},function(t,e,r){"use strict";var n=function(){};n.FDLayout=r(18),n.FDLayoutConstants=r(4),n.FDLayoutEdge=r(19),n.FDLayoutNode=r(20),n.DimensionD=r(21),n.HashMap=r(22),n.HashSet=r(23),n.IGeometry=r(8),n.IMath=r(9),n.Integer=r(10),n.Point=r(12),n.PointD=r(5),n.RandomSeed=r(16),n.RectangleD=r(13),n.Transform=r(17),n.UniqueIDGeneretor=r(14),n.Quicksort=r(25),n.LinkedList=r(11),n.LGraphObject=r(2),n.LGraph=r(6),n.LEdge=r(1),n.LGraphManager=r(7),n.LNode=r(3),n.Layout=r(15),n.LayoutConstants=r(0),n.NeedlemanWunsch=r(27),n.Matrix=r(24),n.SVD=r(26),t.exports=n},function(t,e,r){"use strict";function n(){this.listeners=[]}var a=n.prototype;a.addListener=function(i,o){this.listeners.push({event:i,callback:o})},a.removeListener=function(i,o){for(var s=this.listeners.length;s>=0;s--){var l=this.listeners[s];l.event===i&&l.callback===o&&this.listeners.splice(s,1)}},a.emit=function(i,o){for(var s=0;s<this.listeners.length;s++){var l=this.listeners[s];i===l.event&&l.callback(o)}},t.exports=n}])})});var Zo=Ee((xa,Ko)=>{(function(e,r){typeof xa=="object"&&typeof Ko=="object"?Ko.exports=r($o()):typeof define=="function"&&define.amd?define(["layout-base"],r):typeof xa=="object"?xa.coseBase=r($o()):e.coseBase=r(e.layoutBase)})(xa,function(t){return(()=>{"use strict";var e={45:(i,o,s)=>{var l={};l.layoutBase=s(551),l.CoSEConstants=s(806),l.CoSEEdge=s(767),l.CoSEGraph=s(880),l.CoSEGraphManager=s(578),l.CoSELayout=s(765),l.CoSENode=s(991),l.ConstraintHandler=s(902),i.exports=l},806:(i,o,s)=>{var l=s(551).FDLayoutConstants;function u(){}for(var c in l)u[c]=l[c];u.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,u.DEFAULT_RADIAL_SEPARATION=l.DEFAULT_EDGE_LENGTH,u.DEFAULT_COMPONENT_SEPERATION=60,u.TILE=!0,u.TILING_PADDING_VERTICAL=10,u.TILING_PADDING_HORIZONTAL=10,u.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,u.ENFORCE_CONSTRAINTS=!0,u.APPLY_LAYOUT=!0,u.RELAX_MOVEMENT_ON_CONSTRAINTS=!0,u.TREE_REDUCTION_ON_INCREMENTAL=!0,u.PURE_INCREMENTAL=u.DEFAULT_INCREMENTAL,i.exports=u},767:(i,o,s)=>{var l=s(551).FDLayoutEdge;function u(f,h,d){l.call(this,f,h,d)}u.prototype=Object.create(l.prototype);for(var c in l)u[c]=l[c];i.exports=u},880:(i,o,s)=>{var l=s(551).LGraph;function u(f,h,d){l.call(this,f,h,d)}u.prototype=Object.create(l.prototype);for(var c in l)u[c]=l[c];i.exports=u},578:(i,o,s)=>{var l=s(551).LGraphManager;function u(f){l.call(this,f)}u.prototype=Object.create(l.prototype);for(var c in l)u[c]=l[c];i.exports=u},765:(i,o,s)=>{var l=s(551).FDLayout,u=s(578),c=s(880),f=s(991),h=s(767),d=s(806),v=s(902),g=s(551).FDLayoutConstants,y=s(551).LayoutConstants,p=s(551).Point,m=s(551).PointD,E=s(551).DimensionD,T=s(551).Layout,L=s(551).Integer,I=s(551).IGeometry,N=s(551).LGraph,B=s(551).Transform,R=s(551).LinkedList;function G(){l.call(this),this.toBeTiled={},this.constraints={}}G.prototype=Object.create(l.prototype);for(var z in l)G[z]=l[z];G.prototype.newGraphManager=function(){var w=new u(this);return this.graphManager=w,w},G.prototype.newGraph=function(w){return new c(null,this.graphManager,w)},G.prototype.newNode=function(w){return new f(this.graphManager,w)},G.prototype.newEdge=function(w){return new h(null,null,w)},G.prototype.initParameters=function(){l.prototype.initParameters.call(this,arguments),this.isSubLayout||(d.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=d.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=d.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.gravityConstant=g.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=g.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=g.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1)},G.prototype.initSpringEmbedder=function(){l.prototype.initSpringEmbedder.call(this),this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/g.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=.04,this.coolingAdjuster=1},G.prototype.layout=function(){var w=y.DEFAULT_CREATE_BENDS_AS_NEEDED;return w&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},G.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(d.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var D=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(V){return D.has(V)});this.graphManager.setAllNodesToApplyGravitation(C)}}else{var w=this.getFlatForest();if(w.length>0)this.positionNodesRadially(w);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var D=new Set(this.getAllNodes()),C=this.nodesWithGravity.filter(function(P){return D.has(P)});this.graphManager.setAllNodesToApplyGravitation(C),this.positionNodesRandomly()}}return Object.keys(this.constraints).length>0&&(v.handleConstraints(this),this.initConstraintVariables()),this.initSpringEmbedder(),d.APPLY_LAYOUT&&this.runSpringEmbedder(),!0},G.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%g.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var w=new Set(this.getAllNodes()),D=this.nodesWithGravity.filter(function(S){return w.has(S)});this.graphManager.setAllNodesToApplyGravitation(D),this.graphManager.updateBounds(),this.updateGrid(),d.PURE_INCREMENTAL?this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL/2:this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),d.PURE_INCREMENTAL?this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL/2*((100-this.afterGrowthIterations)/100):this.coolingFactor=g.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var C=!this.isTreeGrowing&&!this.isGrowthFinished,P=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(C,P),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},G.prototype.getPositionsData=function(){for(var w=this.graphManager.getAllNodes(),D={},C=0;C<w.length;C++){var P=w[C].rect,S=w[C].id;D[S]={id:S,x:P.getCenterX(),y:P.getCenterY(),w:P.width,h:P.height}}return D},G.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var w=!1;if(g.ANIMATE==="during")this.emit("layoutstarted");else{for(;!w;)w=this.tick();this.graphManager.updateBounds()}},G.prototype.moveNodes=function(){for(var w=this.getAllNodes(),D,C=0;C<w.length;C++)D=w[C],D.calculateDisplacement();Object.keys(this.constraints).length>0&&this.updateDisplacements();for(var C=0;C<w.length;C++)D=w[C],D.move()},G.prototype.initConstraintVariables=function(){var w=this;this.idToNodeMap=new Map,this.fixedNodeSet=new Set;for(var D=this.graphManager.getAllNodes(),C=0;C<D.length;C++){var P=D[C];this.idToNodeMap.set(P.id,P)}var S=function k(X){for(var J=X.getChild().getNodes(),ae,le=0,De=0;De<J.length;De++)ae=J[De],ae.getChild()==null?w.fixedNodeSet.has(ae.id)&&(le+=100):le+=k(ae);return le};if(this.constraints.fixedNodeConstraint){this.constraints.fixedNodeConstraint.forEach(function(J){w.fixedNodeSet.add(J.nodeId)});for(var D=this.graphManager.getAllNodes(),P,C=0;C<D.length;C++)if(P=D[C],P.getChild()!=null){var V=S(P);V>0&&(P.fixedNodeWeight=V)}}if(this.constraints.relativePlacementConstraint){var H=new Map,_=new Map;if(this.dummyToNodeForVerticalAlignment=new Map,this.dummyToNodeForHorizontalAlignment=new Map,this.fixedNodesOnHorizontal=new Set,this.fixedNodesOnVertical=new Set,this.fixedNodeSet.forEach(function(k){w.fixedNodesOnHorizontal.add(k),w.fixedNodesOnVertical.add(k)}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var K=this.constraints.alignmentConstraint.vertical,C=0;C<K.length;C++)this.dummyToNodeForVerticalAlignment.set("dummy"+C,[]),K[C].forEach(function(X){H.set(X,"dummy"+C),w.dummyToNodeForVerticalAlignment.get("dummy"+C).push(X),w.fixedNodeSet.has(X)&&w.fixedNodesOnHorizontal.add("dummy"+C)});if(this.constraints.alignmentConstraint.horizontal)for(var Y=this.constraints.alignmentConstraint.horizontal,C=0;C<Y.length;C++)this.dummyToNodeForHorizontalAlignment.set("dummy"+C,[]),Y[C].forEach(function(X){_.set(X,"dummy"+C),w.dummyToNodeForHorizontalAlignment.get("dummy"+C).push(X),w.fixedNodeSet.has(X)&&w.fixedNodesOnVertical.add("dummy"+C)})}if(d.RELAX_MOVEMENT_ON_CONSTRAINTS)this.shuffle=function(k){var X,J,ae;for(ae=k.length-1;ae>=2*k.length/3;ae--)X=Math.floor(Math.random()*(ae+1)),J=k[ae],k[ae]=k[X],k[X]=J;return k},this.nodesInRelativeHorizontal=[],this.nodesInRelativeVertical=[],this.nodeToRelativeConstraintMapHorizontal=new Map,this.nodeToRelativeConstraintMapVertical=new Map,this.nodeToTempPositionMapHorizontal=new Map,this.nodeToTempPositionMapVertical=new Map,this.constraints.relativePlacementConstraint.forEach(function(k){if(k.left){var X=H.has(k.left)?H.get(k.left):k.left,J=H.has(k.right)?H.get(k.right):k.right;w.nodesInRelativeHorizontal.includes(X)||(w.nodesInRelativeHorizontal.push(X),w.nodeToRelativeConstraintMapHorizontal.set(X,[]),w.dummyToNodeForVerticalAlignment.has(X)?w.nodeToTempPositionMapHorizontal.set(X,w.idToNodeMap.get(w.dummyToNodeForVerticalAlignment.get(X)[0]).getCenterX()):w.nodeToTempPositionMapHorizontal.set(X,w.idToNodeMap.get(X).getCenterX())),w.nodesInRelativeHorizontal.includes(J)||(w.nodesInRelativeHorizontal.push(J),w.nodeToRelativeConstraintMapHorizontal.set(J,[]),w.dummyToNodeForVerticalAlignment.has(J)?w.nodeToTempPositionMapHorizontal.set(J,w.idToNodeMap.get(w.dummyToNodeForVerticalAlignment.get(J)[0]).getCenterX()):w.nodeToTempPositionMapHorizontal.set(J,w.idToNodeMap.get(J).getCenterX())),w.nodeToRelativeConstraintMapHorizontal.get(X).push({right:J,gap:k.gap}),w.nodeToRelativeConstraintMapHorizontal.get(J).push({left:X,gap:k.gap})}else{var ae=_.has(k.top)?_.get(k.top):k.top,le=_.has(k.bottom)?_.get(k.bottom):k.bottom;w.nodesInRelativeVertical.includes(ae)||(w.nodesInRelativeVertical.push(ae),w.nodeToRelativeConstraintMapVertical.set(ae,[]),w.dummyToNodeForHorizontalAlignment.has(ae)?w.nodeToTempPositionMapVertical.set(ae,w.idToNodeMap.get(w.dummyToNodeForHorizontalAlignment.get(ae)[0]).getCenterY()):w.nodeToTempPositionMapVertical.set(ae,w.idToNodeMap.get(ae).getCenterY())),w.nodesInRelativeVertical.includes(le)||(w.nodesInRelativeVertical.push(le),w.nodeToRelativeConstraintMapVertical.set(le,[]),w.dummyToNodeForHorizontalAlignment.has(le)?w.nodeToTempPositionMapVertical.set(le,w.idToNodeMap.get(w.dummyToNodeForHorizontalAlignment.get(le)[0]).getCenterY()):w.nodeToTempPositionMapVertical.set(le,w.idToNodeMap.get(le).getCenterY())),w.nodeToRelativeConstraintMapVertical.get(ae).push({bottom:le,gap:k.gap}),w.nodeToRelativeConstraintMapVertical.get(le).push({top:ae,gap:k.gap})}});else{var Q=new Map,ee=new Map;this.constraints.relativePlacementConstraint.forEach(function(k){if(k.left){var X=H.has(k.left)?H.get(k.left):k.left,J=H.has(k.right)?H.get(k.right):k.right;Q.has(X)?Q.get(X).push(J):Q.set(X,[J]),Q.has(J)?Q.get(J).push(X):Q.set(J,[X])}else{var ae=_.has(k.top)?_.get(k.top):k.top,le=_.has(k.bottom)?_.get(k.bottom):k.bottom;ee.has(ae)?ee.get(ae).push(le):ee.set(ae,[le]),ee.has(le)?ee.get(le).push(ae):ee.set(le,[ae])}});var Z=function(X,J){var ae=[],le=[],De=new R,Re=new Set,ie=0;return X.forEach(function(xe,Ne){if(!Re.has(Ne)){ae[ie]=[],le[ie]=!1;var pe=Ne;for(De.push(pe),Re.add(pe),ae[ie].push(pe);De.length!=0;){pe=De.shift(),J.has(pe)&&(le[ie]=!0);var se=X.get(pe);se.forEach(function(Ce){Re.has(Ce)||(De.push(Ce),Re.add(Ce),ae[ie].push(Ce))})}ie++}}),{components:ae,isFixed:le}},te=Z(Q,w.fixedNodesOnHorizontal);this.componentsOnHorizontal=te.components,this.fixedComponentsOnHorizontal=te.isFixed;var W=Z(ee,w.fixedNodesOnVertical);this.componentsOnVertical=W.components,this.fixedComponentsOnVertical=W.isFixed}}},G.prototype.updateDisplacements=function(){var w=this;if(this.constraints.fixedNodeConstraint&&this.constraints.fixedNodeConstraint.forEach(function(W){var k=w.idToNodeMap.get(W.nodeId);k.displacementX=0,k.displacementY=0}),this.constraints.alignmentConstraint){if(this.constraints.alignmentConstraint.vertical)for(var D=this.constraints.alignmentConstraint.vertical,C=0;C<D.length;C++){for(var P=0,S=0;S<D[C].length;S++){if(this.fixedNodeSet.has(D[C][S])){P=0;break}P+=this.idToNodeMap.get(D[C][S]).displacementX}for(var V=P/D[C].length,S=0;S<D[C].length;S++)this.idToNodeMap.get(D[C][S]).displacementX=V}if(this.constraints.alignmentConstraint.horizontal)for(var H=this.constraints.alignmentConstraint.horizontal,C=0;C<H.length;C++){for(var _=0,S=0;S<H[C].length;S++){if(this.fixedNodeSet.has(H[C][S])){_=0;break}_+=this.idToNodeMap.get(H[C][S]).displacementY}for(var K=_/H[C].length,S=0;S<H[C].length;S++)this.idToNodeMap.get(H[C][S]).displacementY=K}}if(this.constraints.relativePlacementConstraint)if(d.RELAX_MOVEMENT_ON_CONSTRAINTS)this.totalIterations%10==0&&(this.shuffle(this.nodesInRelativeHorizontal),this.shuffle(this.nodesInRelativeVertical)),this.nodesInRelativeHorizontal.forEach(function(W){if(!w.fixedNodesOnHorizontal.has(W)){var k=0;w.dummyToNodeForVerticalAlignment.has(W)?k=w.idToNodeMap.get(w.dummyToNodeForVerticalAlignment.get(W)[0]).displacementX:k=w.idToNodeMap.get(W).displacementX,w.nodeToRelativeConstraintMapHorizontal.get(W).forEach(function(X){if(X.right){var J=w.nodeToTempPositionMapHorizontal.get(X.right)-w.nodeToTempPositionMapHorizontal.get(W)-k;J<X.gap&&(k-=X.gap-J)}else{var J=w.nodeToTempPositionMapHorizontal.get(W)-w.nodeToTempPositionMapHorizontal.get(X.left)+k;J<X.gap&&(k+=X.gap-J)}}),w.nodeToTempPositionMapHorizontal.set(W,w.nodeToTempPositionMapHorizontal.get(W)+k),w.dummyToNodeForVerticalAlignment.has(W)?w.dummyToNodeForVerticalAlignment.get(W).forEach(function(X){w.idToNodeMap.get(X).displacementX=k}):w.idToNodeMap.get(W).displacementX=k}}),this.nodesInRelativeVertical.forEach(function(W){if(!w.fixedNodesOnHorizontal.has(W)){var k=0;w.dummyToNodeForHorizontalAlignment.has(W)?k=w.idToNodeMap.get(w.dummyToNodeForHorizontalAlignment.get(W)[0]).displacementY:k=w.idToNodeMap.get(W).displacementY,w.nodeToRelativeConstraintMapVertical.get(W).forEach(function(X){if(X.bottom){var J=w.nodeToTempPositionMapVertical.get(X.bottom)-w.nodeToTempPositionMapVertical.get(W)-k;J<X.gap&&(k-=X.gap-J)}else{var J=w.nodeToTempPositionMapVertical.get(W)-w.nodeToTempPositionMapVertical.get(X.top)+k;J<X.gap&&(k+=X.gap-J)}}),w.nodeToTempPositionMapVertical.set(W,w.nodeToTempPositionMapVertical.get(W)+k),w.dummyToNodeForHorizontalAlignment.has(W)?w.dummyToNodeForHorizontalAlignment.get(W).forEach(function(X){w.idToNodeMap.get(X).displacementY=k}):w.idToNodeMap.get(W).displacementY=k}});else{for(var C=0;C<this.componentsOnHorizontal.length;C++){var Y=this.componentsOnHorizontal[C];if(this.fixedComponentsOnHorizontal[C])for(var S=0;S<Y.length;S++)this.dummyToNodeForVerticalAlignment.has(Y[S])?this.dummyToNodeForVerticalAlignment.get(Y[S]).forEach(function(X){w.idToNodeMap.get(X).displacementX=0}):this.idToNodeMap.get(Y[S]).displacementX=0;else{for(var Q=0,ee=0,S=0;S<Y.length;S++)if(this.dummyToNodeForVerticalAlignment.has(Y[S])){var Z=this.dummyToNodeForVerticalAlignment.get(Y[S]);Q+=Z.length*this.idToNodeMap.get(Z[0]).displacementX,ee+=Z.length}else Q+=this.idToNodeMap.get(Y[S]).displacementX,ee++;for(var te=Q/ee,S=0;S<Y.length;S++)this.dummyToNodeForVerticalAlignment.has(Y[S])?this.dummyToNodeForVerticalAlignment.get(Y[S]).forEach(function(X){w.idToNodeMap.get(X).displacementX=te}):this.idToNodeMap.get(Y[S]).displacementX=te}}for(var C=0;C<this.componentsOnVertical.length;C++){var Y=this.componentsOnVertical[C];if(this.fixedComponentsOnVertical[C])for(var S=0;S<Y.length;S++)this.dummyToNodeForHorizontalAlignment.has(Y[S])?this.dummyToNodeForHorizontalAlignment.get(Y[S]).forEach(function(J){w.idToNodeMap.get(J).displacementY=0}):this.idToNodeMap.get(Y[S]).displacementY=0;else{for(var Q=0,ee=0,S=0;S<Y.length;S++)if(this.dummyToNodeForHorizontalAlignment.has(Y[S])){var Z=this.dummyToNodeForHorizontalAlignment.get(Y[S]);Q+=Z.length*this.idToNodeMap.get(Z[0]).displacementY,ee+=Z.length}else Q+=this.idToNodeMap.get(Y[S]).displacementY,ee++;for(var te=Q/ee,S=0;S<Y.length;S++)this.dummyToNodeForHorizontalAlignment.has(Y[S])?this.dummyToNodeForHorizontalAlignment.get(Y[S]).forEach(function(De){w.idToNodeMap.get(De).displacementY=te}):this.idToNodeMap.get(Y[S]).displacementY=te}}}},G.prototype.calculateNodesToApplyGravitationTo=function(){var w=[],D,C=this.graphManager.getGraphs(),P=C.length,S;for(S=0;S<P;S++)D=C[S],D.updateConnected(),D.isConnected||(w=w.concat(D.getNodes()));return w},G.prototype.createBendpoints=function(){var w=[];w=w.concat(this.graphManager.getAllEdges());var D=new Set,C;for(C=0;C<w.length;C++){var P=w[C];if(!D.has(P)){var S=P.getSource(),V=P.getTarget();if(S==V)P.getBendpoints().push(new m),P.getBendpoints().push(new m),this.createDummyNodesForBendpoints(P),D.add(P);else{var H=[];if(H=H.concat(S.getEdgeListToNode(V)),H=H.concat(V.getEdgeListToNode(S)),!D.has(H[0])){if(H.length>1){var _;for(_=0;_<H.length;_++){var K=H[_];K.getBendpoints().push(new m),this.createDummyNodesForBendpoints(K)}}H.forEach(function(Y){D.add(Y)})}}}if(D.size==w.length)break}},G.prototype.positionNodesRadially=function(w){for(var D=new p(0,0),C=Math.ceil(Math.sqrt(w.length)),P=0,S=0,V=0,H=new m(0,0),_=0;_<w.length;_++){_%C==0&&(V=0,S=P,_!=0&&(S+=d.DEFAULT_COMPONENT_SEPERATION),P=0);var K=w[_],Y=T.findCenterOfTree(K);D.x=V,D.y=S,H=G.radialLayout(K,Y,D),H.y>P&&(P=Math.floor(H.y)),V=Math.floor(H.x+d.DEFAULT_COMPONENT_SEPERATION)}this.transform(new m(y.WORLD_CENTER_X-H.x/2,y.WORLD_CENTER_Y-H.y/2))},G.radialLayout=function(w,D,C){var P=Math.max(this.maxDiagonalInTree(w),d.DEFAULT_RADIAL_SEPARATION);G.branchRadialLayout(D,null,0,359,0,P);var S=N.calculateBounds(w),V=new B;V.setDeviceOrgX(S.getMinX()),V.setDeviceOrgY(S.getMinY()),V.setWorldOrgX(C.x),V.setWorldOrgY(C.y);for(var H=0;H<w.length;H++){var _=w[H];_.transform(V)}var K=new m(S.getMaxX(),S.getMaxY());return V.inverseTransformPoint(K)},G.branchRadialLayout=function(w,D,C,P,S,V){var H=(P-C+1)/2;H<0&&(H+=180);var _=(H+C)%360,K=_*I.TWO_PI/360,Y=Math.cos(K),Q=S*Math.cos(K),ee=S*Math.sin(K);w.setCenter(Q,ee);var Z=[];Z=Z.concat(w.getEdges());var te=Z.length;D!=null&&te--;for(var W=0,k=Z.length,X,J=w.getEdgesBetween(D);J.length>1;){var ae=J[0];J.splice(0,1);var le=Z.indexOf(ae);le>=0&&Z.splice(le,1),k--,te--}D!=null?X=(Z.indexOf(J[0])+1)%k:X=0;for(var De=Math.abs(P-C)/te,Re=X;W!=te;Re=++Re%k){var ie=Z[Re].getOtherEnd(w);if(ie!=D){var xe=(C+W*De)%360,Ne=(xe+De)%360;G.branchRadialLayout(ie,w,xe,Ne,S+V,V),W++}}},G.maxDiagonalInTree=function(w){for(var D=L.MIN_VALUE,C=0;C<w.length;C++){var P=w[C],S=P.getDiagonal();S>D&&(D=S)}return D},G.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},G.prototype.groupZeroDegreeMembers=function(){var w=this,D={};this.memberGroups={},this.idToDummyNode={};for(var C=[],P=this.graphManager.getAllNodes(),S=0;S<P.length;S++){var V=P[S],H=V.getParent();this.getNodeDegreeWithChildren(V)===0&&(H.id==null||!this.getToBeTiled(H))&&C.push(V)}for(var S=0;S<C.length;S++){var V=C[S],_=V.getParent().id;typeof D[_]>"u"&&(D[_]=[]),D[_]=D[_].concat(V)}Object.keys(D).forEach(function(K){if(D[K].length>1){var Y="DummyCompound_"+K;w.memberGroups[Y]=D[K];var Q=D[K][0].getParent(),ee=new f(w.graphManager);ee.id=Y,ee.paddingLeft=Q.paddingLeft||0,ee.paddingRight=Q.paddingRight||0,ee.paddingBottom=Q.paddingBottom||0,ee.paddingTop=Q.paddingTop||0,w.idToDummyNode[Y]=ee;var Z=w.getGraphManager().add(w.newGraph(),ee),te=Q.getChild();te.add(ee);for(var W=0;W<D[K].length;W++){var k=D[K][W];te.remove(k),Z.add(k)}}})},G.prototype.clearCompounds=function(){var w={},D={};this.performDFSOnCompounds();for(var C=0;C<this.compoundOrder.length;C++)D[this.compoundOrder[C].id]=this.compoundOrder[C],w[this.compoundOrder[C].id]=[].concat(this.compoundOrder[C].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[C].getChild()),this.compoundOrder[C].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(w,D)},G.prototype.clearZeroDegreeMembers=function(){var w=this,D=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(C){var P=w.idToDummyNode[C];if(D[C]=w.tileNodes(w.memberGroups[C],P.paddingLeft+P.paddingRight),P.rect.width=D[C].width,P.rect.height=D[C].height,P.setCenter(D[C].centerX,D[C].centerY),P.labelMarginLeft=0,P.labelMarginTop=0,d.NODE_DIMENSIONS_INCLUDE_LABELS){var S=P.rect.width,V=P.rect.height;P.labelWidth&&(P.labelPosHorizontal=="left"?(P.rect.x-=P.labelWidth,P.setWidth(S+P.labelWidth),P.labelMarginLeft=P.labelWidth):P.labelPosHorizontal=="center"&&P.labelWidth>S?(P.rect.x-=(P.labelWidth-S)/2,P.setWidth(P.labelWidth),P.labelMarginLeft=(P.labelWidth-S)/2):P.labelPosHorizontal=="right"&&P.setWidth(S+P.labelWidth)),P.labelHeight&&(P.labelPosVertical=="top"?(P.rect.y-=P.labelHeight,P.setHeight(V+P.labelHeight),P.labelMarginTop=P.labelHeight):P.labelPosVertical=="center"&&P.labelHeight>V?(P.rect.y-=(P.labelHeight-V)/2,P.setHeight(P.labelHeight),P.labelMarginTop=(P.labelHeight-V)/2):P.labelPosVertical=="bottom"&&P.setHeight(V+P.labelHeight))}})},G.prototype.repopulateCompounds=function(){for(var w=this.compoundOrder.length-1;w>=0;w--){var D=this.compoundOrder[w],C=D.id,P=D.paddingLeft,S=D.paddingTop,V=D.labelMarginLeft,H=D.labelMarginTop;this.adjustLocations(this.tiledMemberPack[C],D.rect.x,D.rect.y,P,S,V,H)}},G.prototype.repopulateZeroDegreeMembers=function(){var w=this,D=this.tiledZeroDegreePack;Object.keys(D).forEach(function(C){var P=w.idToDummyNode[C],S=P.paddingLeft,V=P.paddingTop,H=P.labelMarginLeft,_=P.labelMarginTop;w.adjustLocations(D[C],P.rect.x,P.rect.y,S,V,H,_)})},G.prototype.getToBeTiled=function(w){var D=w.id;if(this.toBeTiled[D]!=null)return this.toBeTiled[D];var C=w.getChild();if(C==null)return this.toBeTiled[D]=!1,!1;for(var P=C.getNodes(),S=0;S<P.length;S++){var V=P[S];if(this.getNodeDegree(V)>0)return this.toBeTiled[D]=!1,!1;if(V.getChild()==null){this.toBeTiled[V.id]=!1;continue}if(!this.getToBeTiled(V))return this.toBeTiled[D]=!1,!1}return this.toBeTiled[D]=!0,!0},G.prototype.getNodeDegree=function(w){for(var D=w.id,C=w.getEdges(),P=0,S=0;S<C.length;S++){var V=C[S];V.getSource().id!==V.getTarget().id&&(P=P+1)}return P},G.prototype.getNodeDegreeWithChildren=function(w){var D=this.getNodeDegree(w);if(w.getChild()==null)return D;for(var C=w.getChild().getNodes(),P=0;P<C.length;P++){var S=C[P];D+=this.getNodeDegreeWithChildren(S)}return D},G.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},G.prototype.fillCompexOrderByDFS=function(w){for(var D=0;D<w.length;D++){var C=w[D];C.getChild()!=null&&this.fillCompexOrderByDFS(C.getChild().getNodes()),this.getToBeTiled(C)&&this.compoundOrder.push(C)}},G.prototype.adjustLocations=function(w,D,C,P,S,V,H){D+=P+V,C+=S+H;for(var _=D,K=0;K<w.rows.length;K++){var Y=w.rows[K];D=_;for(var Q=0,ee=0;ee<Y.length;ee++){var Z=Y[ee];Z.rect.x=D,Z.rect.y=C,D+=Z.rect.width+w.horizontalPadding,Z.rect.height>Q&&(Q=Z.rect.height)}C+=Q+w.verticalPadding}},G.prototype.tileCompoundMembers=function(w,D){var C=this;this.tiledMemberPack=[],Object.keys(w).forEach(function(P){var S=D[P];if(C.tiledMemberPack[P]=C.tileNodes(w[P],S.paddingLeft+S.paddingRight),S.rect.width=C.tiledMemberPack[P].width,S.rect.height=C.tiledMemberPack[P].height,S.setCenter(C.tiledMemberPack[P].centerX,C.tiledMemberPack[P].centerY),S.labelMarginLeft=0,S.labelMarginTop=0,d.NODE_DIMENSIONS_INCLUDE_LABELS){var V=S.rect.width,H=S.rect.height;S.labelWidth&&(S.labelPosHorizontal=="left"?(S.rect.x-=S.labelWidth,S.setWidth(V+S.labelWidth),S.labelMarginLeft=S.labelWidth):S.labelPosHorizontal=="center"&&S.labelWidth>V?(S.rect.x-=(S.labelWidth-V)/2,S.setWidth(S.labelWidth),S.labelMarginLeft=(S.labelWidth-V)/2):S.labelPosHorizontal=="right"&&S.setWidth(V+S.labelWidth)),S.labelHeight&&(S.labelPosVertical=="top"?(S.rect.y-=S.labelHeight,S.setHeight(H+S.labelHeight),S.labelMarginTop=S.labelHeight):S.labelPosVertical=="center"&&S.labelHeight>H?(S.rect.y-=(S.labelHeight-H)/2,S.setHeight(S.labelHeight),S.labelMarginTop=(S.labelHeight-H)/2):S.labelPosVertical=="bottom"&&S.setHeight(H+S.labelHeight))}})},G.prototype.tileNodes=function(w,D){var C=this.tileNodesByFavoringDim(w,D,!0),P=this.tileNodesByFavoringDim(w,D,!1),S=this.getOrgRatio(C),V=this.getOrgRatio(P),H;return V<S?H=P:H=C,H},G.prototype.getOrgRatio=function(w){var D=w.width,C=w.height,P=D/C;return P<1&&(P=1/P),P},G.prototype.calcIdealRowWidth=function(w,D){var C=d.TILING_PADDING_VERTICAL,P=d.TILING_PADDING_HORIZONTAL,S=w.length,V=0,H=0,_=0;w.forEach(function(W){V+=W.getWidth(),H+=W.getHeight(),W.getWidth()>_&&(_=W.getWidth())});var K=V/S,Y=H/S,Q=Math.pow(C-P,2)+4*(K+P)*(Y+C)*S,ee=(P-C+Math.sqrt(Q))/(2*(K+P)),Z;D?(Z=Math.ceil(ee),Z==ee&&Z++):Z=Math.floor(ee);var te=Z*(K+P)-P;return _>te&&(te=_),te+=P*2,te},G.prototype.tileNodesByFavoringDim=function(w,D,C){var P=d.TILING_PADDING_VERTICAL,S=d.TILING_PADDING_HORIZONTAL,V=d.TILING_COMPARE_BY,H={rows:[],rowWidth:[],rowHeight:[],width:0,height:D,verticalPadding:P,horizontalPadding:S,centerX:0,centerY:0};V&&(H.idealRowWidth=this.calcIdealRowWidth(w,C));var _=function(k){return k.rect.width*k.rect.height},K=function(k,X){return _(X)-_(k)};w.sort(function(W,k){var X=K;return H.idealRowWidth?(X=V,X(W.id,k.id)):X(W,k)});for(var Y=0,Q=0,ee=0;ee<w.length;ee++){var Z=w[ee];Y+=Z.getCenterX(),Q+=Z.getCenterY()}H.centerX=Y/w.length,H.centerY=Q/w.length;for(var ee=0;ee<w.length;ee++){var Z=w[ee];if(H.rows.length==0)this.insertNodeToRow(H,Z,0,D);else if(this.canAddHorizontal(H,Z.rect.width,Z.rect.height)){var te=H.rows.length-1;H.idealRowWidth||(te=this.getShortestRowIndex(H)),this.insertNodeToRow(H,Z,te,D)}else this.insertNodeToRow(H,Z,H.rows.length,D);this.shiftToLastRow(H)}return H},G.prototype.insertNodeToRow=function(w,D,C,P){var S=P;if(C==w.rows.length){var V=[];w.rows.push(V),w.rowWidth.push(S),w.rowHeight.push(0)}var H=w.rowWidth[C]+D.rect.width;w.rows[C].length>0&&(H+=w.horizontalPadding),w.rowWidth[C]=H,w.width<H&&(w.width=H);var _=D.rect.height;C>0&&(_+=w.verticalPadding);var K=0;_>w.rowHeight[C]&&(K=w.rowHeight[C],w.rowHeight[C]=_,K=w.rowHeight[C]-K),w.height+=K,w.rows[C].push(D)},G.prototype.getShortestRowIndex=function(w){for(var D=-1,C=Number.MAX_VALUE,P=0;P<w.rows.length;P++)w.rowWidth[P]<C&&(D=P,C=w.rowWidth[P]);return D},G.prototype.getLongestRowIndex=function(w){for(var D=-1,C=Number.MIN_VALUE,P=0;P<w.rows.length;P++)w.rowWidth[P]>C&&(D=P,C=w.rowWidth[P]);return D},G.prototype.canAddHorizontal=function(w,D,C){if(w.idealRowWidth){var P=w.rows.length-1,S=w.rowWidth[P];return S+D+w.horizontalPadding<=w.idealRowWidth}var V=this.getShortestRowIndex(w);if(V<0)return!0;var H=w.rowWidth[V];if(H+w.horizontalPadding+D<=w.width)return!0;var _=0;w.rowHeight[V]<C&&V>0&&(_=C+w.verticalPadding-w.rowHeight[V]);var K;w.width-H>=D+w.horizontalPadding?K=(w.height+_)/(H+D+w.horizontalPadding):K=(w.height+_)/w.width,_=C+w.verticalPadding;var Y;return w.width<D?Y=(w.height+_)/D:Y=(w.height+_)/w.width,Y<1&&(Y=1/Y),K<1&&(K=1/K),K<Y},G.prototype.shiftToLastRow=function(w){var D=this.getLongestRowIndex(w),C=w.rowWidth.length-1,P=w.rows[D],S=P[P.length-1],V=S.width+w.horizontalPadding;if(w.width-w.rowWidth[C]>V&&D!=C){P.splice(-1,1),w.rows[C].push(S),w.rowWidth[D]=w.rowWidth[D]-V,w.rowWidth[C]=w.rowWidth[C]+V,w.width=w.rowWidth[instance.getLongestRowIndex(w)];for(var H=Number.MIN_VALUE,_=0;_<P.length;_++)P[_].height>H&&(H=P[_].height);D>0&&(H+=w.verticalPadding);var K=w.rowHeight[D]+w.rowHeight[C];w.rowHeight[D]=H,w.rowHeight[C]<S.height+w.verticalPadding&&(w.rowHeight[C]=S.height+w.verticalPadding);var Y=w.rowHeight[D]+w.rowHeight[C];w.height+=Y-K,this.shiftToLastRow(w)}},G.prototype.tilingPreLayout=function(){d.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},G.prototype.tilingPostLayout=function(){d.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},G.prototype.reduceTrees=function(){for(var w=[],D=!0,C;D;){var P=this.graphManager.getAllNodes(),S=[];D=!1;for(var V=0;V<P.length;V++)if(C=P[V],C.getEdges().length==1&&!C.getEdges()[0].isInterGraph&&C.getChild()==null){if(d.PURE_INCREMENTAL){var H=C.getEdges()[0].getOtherEnd(C),_=new E(C.getCenterX()-H.getCenterX(),C.getCenterY()-H.getCenterY());S.push([C,C.getEdges()[0],C.getOwner(),_])}else S.push([C,C.getEdges()[0],C.getOwner()]);D=!0}if(D==!0){for(var K=[],Y=0;Y<S.length;Y++)S[Y][0].getEdges().length==1&&(K.push(S[Y]),S[Y][0].getOwner().remove(S[Y][0]));w.push(K),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=w},G.prototype.growTree=function(w){for(var D=w.length,C=w[D-1],P,S=0;S<C.length;S++)P=C[S],this.findPlaceforPrunedNode(P),P[2].add(P[0]),P[2].add(P[1],P[1].source,P[1].target);w.splice(w.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},G.prototype.findPlaceforPrunedNode=function(w){var D,C,P=w[0];if(P==w[1].source?C=w[1].target:C=w[1].source,d.PURE_INCREMENTAL)P.setCenter(C.getCenterX()+w[3].getWidth(),C.getCenterY()+w[3].getHeight());else{var S=C.startX,V=C.finishX,H=C.startY,_=C.finishY,K=0,Y=0,Q=0,ee=0,Z=[K,Q,Y,ee];if(H>0)for(var te=S;te<=V;te++)Z[0]+=this.grid[te][H-1].length+this.grid[te][H].length-1;if(V<this.grid.length-1)for(var te=H;te<=_;te++)Z[1]+=this.grid[V+1][te].length+this.grid[V][te].length-1;if(_<this.grid[0].length-1)for(var te=S;te<=V;te++)Z[2]+=this.grid[te][_+1].length+this.grid[te][_].length-1;if(S>0)for(var te=H;te<=_;te++)Z[3]+=this.grid[S-1][te].length+this.grid[S][te].length-1;for(var W=L.MAX_VALUE,k,X,J=0;J<Z.length;J++)Z[J]<W?(W=Z[J],k=1,X=J):Z[J]==W&&k++;if(k==3&&W==0)Z[0]==0&&Z[1]==0&&Z[2]==0?D=1:Z[0]==0&&Z[1]==0&&Z[3]==0?D=0:Z[0]==0&&Z[2]==0&&Z[3]==0?D=3:Z[1]==0&&Z[2]==0&&Z[3]==0&&(D=2);else if(k==2&&W==0){var ae=Math.floor(Math.random()*2);Z[0]==0&&Z[1]==0?ae==0?D=0:D=1:Z[0]==0&&Z[2]==0?ae==0?D=0:D=2:Z[0]==0&&Z[3]==0?ae==0?D=0:D=3:Z[1]==0&&Z[2]==0?ae==0?D=1:D=2:Z[1]==0&&Z[3]==0?ae==0?D=1:D=3:ae==0?D=2:D=3}else if(k==4&&W==0){var ae=Math.floor(Math.random()*4);D=ae}else D=X;D==0?P.setCenter(C.getCenterX(),C.getCenterY()-C.getHeight()/2-g.DEFAULT_EDGE_LENGTH-P.getHeight()/2):D==1?P.setCenter(C.getCenterX()+C.getWidth()/2+g.DEFAULT_EDGE_LENGTH+P.getWidth()/2,C.getCenterY()):D==2?P.setCenter(C.getCenterX(),C.getCenterY()+C.getHeight()/2+g.DEFAULT_EDGE_LENGTH+P.getHeight()/2):P.setCenter(C.getCenterX()-C.getWidth()/2-g.DEFAULT_EDGE_LENGTH-P.getWidth()/2,C.getCenterY())}},i.exports=G},991:(i,o,s)=>{var l=s(551).FDLayoutNode,u=s(551).IMath;function c(h,d,v,g){l.call(this,h,d,v,g)}c.prototype=Object.create(l.prototype);for(var f in l)c[f]=l[f];c.prototype.calculateDisplacement=function(){var h=this.graphManager.getLayout();this.getChild()!=null&&this.fixedNodeWeight?(this.displacementX+=h.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.fixedNodeWeight,this.displacementY+=h.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.fixedNodeWeight):(this.displacementX+=h.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY+=h.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren),Math.abs(this.displacementX)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementX=h.coolingFactor*h.maxNodeDisplacement*u.sign(this.displacementX)),Math.abs(this.displacementY)>h.coolingFactor*h.maxNodeDisplacement&&(this.displacementY=h.coolingFactor*h.maxNodeDisplacement*u.sign(this.displacementY)),this.child&&this.child.getNodes().length>0&&this.propogateDisplacementToChildren(this.displacementX,this.displacementY)},c.prototype.propogateDisplacementToChildren=function(h,d){for(var v=this.getChild().getNodes(),g,y=0;y<v.length;y++)g=v[y],g.getChild()==null?(g.displacementX+=h,g.displacementY+=d):g.propogateDisplacementToChildren(h,d)},c.prototype.move=function(){var h=this.graphManager.getLayout();(this.child==null||this.child.getNodes().length==0)&&(this.moveBy(this.displacementX,this.displacementY),h.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY)),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},c.prototype.setPred1=function(h){this.pred1=h},c.prototype.getPred1=function(){return pred1},c.prototype.getPred2=function(){return pred2},c.prototype.setNext=function(h){this.next=h},c.prototype.getNext=function(){return next},c.prototype.setProcessed=function(h){this.processed=h},c.prototype.isProcessed=function(){return processed},i.exports=c},902:(i,o,s)=>{function l(v){if(Array.isArray(v)){for(var g=0,y=Array(v.length);g<v.length;g++)y[g]=v[g];return y}else return Array.from(v)}var u=s(806),c=s(551).LinkedList,f=s(551).Matrix,h=s(551).SVD;function d(){}d.handleConstraints=function(v){var g={};g.fixedNodeConstraint=v.constraints.fixedNodeConstraint,g.alignmentConstraint=v.constraints.alignmentConstraint,g.relativePlacementConstraint=v.constraints.relativePlacementConstraint;for(var y=new Map,p=new Map,m=[],E=[],T=v.getAllNodes(),L=0,I=0;I<T.length;I++){var N=T[I];N.getChild()==null&&(p.set(N.id,L++),m.push(N.getCenterX()),E.push(N.getCenterY()),y.set(N.id,N))}g.relativePlacementConstraint&&g.relativePlacementConstraint.forEach(function(j){!j.gap&&j.gap!=0&&(j.left?j.gap=u.DEFAULT_EDGE_LENGTH+y.get(j.left).getWidth()/2+y.get(j.right).getWidth()/2:j.gap=u.DEFAULT_EDGE_LENGTH+y.get(j.top).getHeight()/2+y.get(j.bottom).getHeight()/2)});var B=function(oe,he){return{x:oe.x-he.x,y:oe.y-he.y}},R=function(oe){var he=0,me=0;return oe.forEach(function(de){he+=m[p.get(de)],me+=E[p.get(de)]}),{x:he/oe.size,y:me/oe.size}},G=function(oe,he,me,de,we){function Le(ze,Ge){var Ze=new Set(ze),We=!0,Xe=!1,ct=void 0;try{for(var at=Ge[Symbol.iterator](),Et;!(We=(Et=at.next()).done);We=!0){var tt=Et.value;Ze.add(tt)}}catch($e){Xe=!0,ct=$e}finally{try{!We&&at.return&&at.return()}finally{if(Xe)throw ct}}return Ze}var Se=new Map;oe.forEach(function(ze,Ge){Se.set(Ge,0)}),oe.forEach(function(ze,Ge){ze.forEach(function(Ze){Se.set(Ze.id,Se.get(Ze.id)+1)})});var Te=new Map,Be=new Map,_e=new c;Se.forEach(function(ze,Ge){ze==0?(_e.push(Ge),me||(he=="horizontal"?Te.set(Ge,p.has(Ge)?m[p.get(Ge)]:de.get(Ge)):Te.set(Ge,p.has(Ge)?E[p.get(Ge)]:de.get(Ge)))):Te.set(Ge,Number.NEGATIVE_INFINITY),me&&Be.set(Ge,new Set([Ge]))}),me&&we.forEach(function(ze){var Ge=[];if(ze.forEach(function(Xe){me.has(Xe)&&Ge.push(Xe)}),Ge.length>0){var Ze=0;Ge.forEach(function(Xe){he=="horizontal"?(Te.set(Xe,p.has(Xe)?m[p.get(Xe)]:de.get(Xe)),Ze+=Te.get(Xe)):(Te.set(Xe,p.has(Xe)?E[p.get(Xe)]:de.get(Xe)),Ze+=Te.get(Xe))}),Ze=Ze/Ge.length,ze.forEach(function(Xe){me.has(Xe)||Te.set(Xe,Ze)})}else{var We=0;ze.forEach(function(Xe){he=="horizontal"?We+=p.has(Xe)?m[p.get(Xe)]:de.get(Xe):We+=p.has(Xe)?E[p.get(Xe)]:de.get(Xe)}),We=We/ze.length,ze.forEach(function(Xe){Te.set(Xe,We)})}});for(var Fe=function(){var Ge=_e.shift(),Ze=oe.get(Ge);Ze.forEach(function(We){if(Te.get(We.id)<Te.get(Ge)+We.gap)if(me&&me.has(We.id)){var Xe=void 0;if(he=="horizontal"?Xe=p.has(We.id)?m[p.get(We.id)]:de.get(We.id):Xe=p.has(We.id)?E[p.get(We.id)]:de.get(We.id),Te.set(We.id,Xe),Xe<Te.get(Ge)+We.gap){var ct=Te.get(Ge)+We.gap-Xe;Be.get(Ge).forEach(function(at){Te.set(at,Te.get(at)-ct)})}}else Te.set(We.id,Te.get(Ge)+We.gap);Se.set(We.id,Se.get(We.id)-1),Se.get(We.id)==0&&_e.push(We.id),me&&Be.set(We.id,Le(Be.get(Ge),Be.get(We.id)))})};_e.length!=0;)Fe();if(me){var He=new Set;oe.forEach(function(ze,Ge){ze.length==0&&He.add(Ge)});var nt=[];Be.forEach(function(ze,Ge){if(He.has(Ge)){var Ze=!1,We=!0,Xe=!1,ct=void 0;try{for(var at=ze[Symbol.iterator](),Et;!(We=(Et=at.next()).done);We=!0){var tt=Et.value;me.has(tt)&&(Ze=!0)}}catch(lt){Xe=!0,ct=lt}finally{try{!We&&at.return&&at.return()}finally{if(Xe)throw ct}}if(!Ze){var $e=!1,Qe=void 0;nt.forEach(function(lt,ft){lt.has([].concat(l(ze))[0])&&($e=!0,Qe=ft)}),$e?ze.forEach(function(lt){nt[Qe].add(lt)}):nt.push(new Set(ze))}}}),nt.forEach(function(ze,Ge){var Ze=Number.POSITIVE_INFINITY,We=Number.POSITIVE_INFINITY,Xe=Number.NEGATIVE_INFINITY,ct=Number.NEGATIVE_INFINITY,at=!0,Et=!1,tt=void 0;try{for(var $e=ze[Symbol.iterator](),Qe;!(at=(Qe=$e.next()).done);at=!0){var lt=Qe.value,ft=void 0;he=="horizontal"?ft=p.has(lt)?m[p.get(lt)]:de.get(lt):ft=p.has(lt)?E[p.get(lt)]:de.get(lt);var Nt=Te.get(lt);ft<Ze&&(Ze=ft),ft>Xe&&(Xe=ft),Nt<We&&(We=Nt),Nt>ct&&(ct=Nt)}}catch(x){Et=!0,tt=x}finally{try{!at&&$e.return&&$e.return()}finally{if(Et)throw tt}}var Sr=(Ze+Xe)/2-(We+ct)/2,jt=!0,Vt=!1,M=void 0;try{for(var F=ze[Symbol.iterator](),A;!(jt=(A=F.next()).done);jt=!0){var b=A.value;Te.set(b,Te.get(b)+Sr)}}catch(x){Vt=!0,M=x}finally{try{!jt&&F.return&&F.return()}finally{if(Vt)throw M}}})}return Te},z=function(oe){var he=0,me=0,de=0,we=0;if(oe.forEach(function(Be){Be.left?m[p.get(Be.left)]-m[p.get(Be.right)]>=0?he++:me++:E[p.get(Be.top)]-E[p.get(Be.bottom)]>=0?de++:we++}),he>me&&de>we)for(var Le=0;Le<p.size;Le++)m[Le]=-1*m[Le],E[Le]=-1*E[Le];else if(he>me)for(var Se=0;Se<p.size;Se++)m[Se]=-1*m[Se];else if(de>we)for(var Te=0;Te<p.size;Te++)E[Te]=-1*E[Te]},w=function(oe){var he=[],me=new c,de=new Set,we=0;return oe.forEach(function(Le,Se){if(!de.has(Se)){he[we]=[];var Te=Se;for(me.push(Te),de.add(Te),he[we].push(Te);me.length!=0;){Te=me.shift();var Be=oe.get(Te);Be.forEach(function(_e){de.has(_e.id)||(me.push(_e.id),de.add(_e.id),he[we].push(_e.id))})}we++}}),he},D=function(oe){var he=new Map;return oe.forEach(function(me,de){he.set(de,[])}),oe.forEach(function(me,de){me.forEach(function(we){he.get(de).push(we),he.get(we.id).push({id:de,gap:we.gap,direction:we.direction})})}),he},C=function(oe){var he=new Map;return oe.forEach(function(me,de){he.set(de,[])}),oe.forEach(function(me,de){me.forEach(function(we){he.get(we.id).push({id:de,gap:we.gap,direction:we.direction})})}),he},P=[],S=[],V=!1,H=!1,_=new Set,K=new Map,Y=new Map,Q=[];if(g.fixedNodeConstraint&&g.fixedNodeConstraint.forEach(function(j){_.add(j.nodeId)}),g.relativePlacementConstraint&&(g.relativePlacementConstraint.forEach(function(j){j.left?(K.has(j.left)?K.get(j.left).push({id:j.right,gap:j.gap,direction:"horizontal"}):K.set(j.left,[{id:j.right,gap:j.gap,direction:"horizontal"}]),K.has(j.right)||K.set(j.right,[])):(K.has(j.top)?K.get(j.top).push({id:j.bottom,gap:j.gap,direction:"vertical"}):K.set(j.top,[{id:j.bottom,gap:j.gap,direction:"vertical"}]),K.has(j.bottom)||K.set(j.bottom,[]))}),Y=D(K),Q=w(Y)),u.TRANSFORM_ON_CONSTRAINT_HANDLING){if(g.fixedNodeConstraint&&g.fixedNodeConstraint.length>1)g.fixedNodeConstraint.forEach(function(j,oe){P[oe]=[j.position.x,j.position.y],S[oe]=[m[p.get(j.nodeId)],E[p.get(j.nodeId)]]}),V=!0;else if(g.alignmentConstraint)(function(){var j=0;if(g.alignmentConstraint.vertical){for(var oe=g.alignmentConstraint.vertical,he=function(Te){var Be=new Set;oe[Te].forEach(function(He){Be.add(He)});var _e=new Set([].concat(l(Be)).filter(function(He){return _.has(He)})),Fe=void 0;_e.size>0?Fe=m[p.get(_e.values().next().value)]:Fe=R(Be).x,oe[Te].forEach(function(He){P[j]=[Fe,E[p.get(He)]],S[j]=[m[p.get(He)],E[p.get(He)]],j++})},me=0;me<oe.length;me++)he(me);V=!0}if(g.alignmentConstraint.horizontal){for(var de=g.alignmentConstraint.horizontal,we=function(Te){var Be=new Set;de[Te].forEach(function(He){Be.add(He)});var _e=new Set([].concat(l(Be)).filter(function(He){return _.has(He)})),Fe=void 0;_e.size>0?Fe=m[p.get(_e.values().next().value)]:Fe=R(Be).y,de[Te].forEach(function(He){P[j]=[m[p.get(He)],Fe],S[j]=[m[p.get(He)],E[p.get(He)]],j++})},Le=0;Le<de.length;Le++)we(Le);V=!0}g.relativePlacementConstraint&&(H=!0)})();else if(g.relativePlacementConstraint){for(var ee=0,Z=0,te=0;te<Q.length;te++)Q[te].length>ee&&(ee=Q[te].length,Z=te);if(ee<Y.size/2)z(g.relativePlacementConstraint),V=!1,H=!1;else{var W=new Map,k=new Map,X=[];Q[Z].forEach(function(j){K.get(j).forEach(function(oe){oe.direction=="horizontal"?(W.has(j)?W.get(j).push(oe):W.set(j,[oe]),W.has(oe.id)||W.set(oe.id,[]),X.push({left:j,right:oe.id})):(k.has(j)?k.get(j).push(oe):k.set(j,[oe]),k.has(oe.id)||k.set(oe.id,[]),X.push({top:j,bottom:oe.id}))})}),z(X),H=!1;var J=G(W,"horizontal"),ae=G(k,"vertical");Q[Z].forEach(function(j,oe){S[oe]=[m[p.get(j)],E[p.get(j)]],P[oe]=[],J.has(j)?P[oe][0]=J.get(j):P[oe][0]=m[p.get(j)],ae.has(j)?P[oe][1]=ae.get(j):P[oe][1]=E[p.get(j)]}),V=!0}}if(V){for(var le=void 0,De=f.transpose(P),Re=f.transpose(S),ie=0;ie<De.length;ie++)De[ie]=f.multGamma(De[ie]),Re[ie]=f.multGamma(Re[ie]);var xe=f.multMat(De,f.transpose(Re)),Ne=h.svd(xe);le=f.multMat(Ne.V,f.transpose(Ne.U));for(var pe=0;pe<p.size;pe++){var se=[m[pe],E[pe]],Ce=[le[0][0],le[1][0]],ke=[le[0][1],le[1][1]];m[pe]=f.dotProduct(se,Ce),E[pe]=f.dotProduct(se,ke)}H&&z(g.relativePlacementConstraint)}}if(u.ENFORCE_CONSTRAINTS){if(g.fixedNodeConstraint&&g.fixedNodeConstraint.length>0){var Pe={x:0,y:0};g.fixedNodeConstraint.forEach(function(j,oe){var he={x:m[p.get(j.nodeId)],y:E[p.get(j.nodeId)]},me=j.position,de=B(me,he);Pe.x+=de.x,Pe.y+=de.y}),Pe.x/=g.fixedNodeConstraint.length,Pe.y/=g.fixedNodeConstraint.length,m.forEach(function(j,oe){m[oe]+=Pe.x}),E.forEach(function(j,oe){E[oe]+=Pe.y}),g.fixedNodeConstraint.forEach(function(j){m[p.get(j.nodeId)]=j.position.x,E[p.get(j.nodeId)]=j.position.y})}if(g.alignmentConstraint){if(g.alignmentConstraint.vertical)for(var Me=g.alignmentConstraint.vertical,fe=function(oe){var he=new Set;Me[oe].forEach(function(we){he.add(we)});var me=new Set([].concat(l(he)).filter(function(we){return _.has(we)})),de=void 0;me.size>0?de=m[p.get(me.values().next().value)]:de=R(he).x,he.forEach(function(we){_.has(we)||(m[p.get(we)]=de)})},U=0;U<Me.length;U++)fe(U);if(g.alignmentConstraint.horizontal)for(var re=g.alignmentConstraint.horizontal,ge=function(oe){var he=new Set;re[oe].forEach(function(we){he.add(we)});var me=new Set([].concat(l(he)).filter(function(we){return _.has(we)})),de=void 0;me.size>0?de=E[p.get(me.values().next().value)]:de=R(he).y,he.forEach(function(we){_.has(we)||(E[p.get(we)]=de)})},ue=0;ue<re.length;ue++)ge(ue)}g.relativePlacementConstraint&&function(){var j=new Map,oe=new Map,he=new Map,me=new Map,de=new Map,we=new Map,Le=new Set,Se=new Set;if(_.forEach(function(je){Le.add(je),Se.add(je)}),g.alignmentConstraint){if(g.alignmentConstraint.vertical)for(var Te=g.alignmentConstraint.vertical,Be=function(Ve){he.set("dummy"+Ve,[]),Te[Ve].forEach(function(et){j.set(et,"dummy"+Ve),he.get("dummy"+Ve).push(et),_.has(et)&&Le.add("dummy"+Ve)}),de.set("dummy"+Ve,m[p.get(Te[Ve][0])])},_e=0;_e<Te.length;_e++)Be(_e);if(g.alignmentConstraint.horizontal)for(var Fe=g.alignmentConstraint.horizontal,He=function(Ve){me.set("dummy"+Ve,[]),Fe[Ve].forEach(function(et){oe.set(et,"dummy"+Ve),me.get("dummy"+Ve).push(et),_.has(et)&&Se.add("dummy"+Ve)}),we.set("dummy"+Ve,E[p.get(Fe[Ve][0])])},nt=0;nt<Fe.length;nt++)He(nt)}var ze=new Map,Ge=new Map,Ze=function(Ve){K.get(Ve).forEach(function(et){var gt=void 0,yt=void 0;et.direction=="horizontal"?(gt=j.get(Ve)?j.get(Ve):Ve,j.get(et.id)?yt={id:j.get(et.id),gap:et.gap,direction:et.direction}:yt=et,ze.has(gt)?ze.get(gt).push(yt):ze.set(gt,[yt]),ze.has(yt.id)||ze.set(yt.id,[])):(gt=oe.get(Ve)?oe.get(Ve):Ve,oe.get(et.id)?yt={id:oe.get(et.id),gap:et.gap,direction:et.direction}:yt=et,Ge.has(gt)?Ge.get(gt).push(yt):Ge.set(gt,[yt]),Ge.has(yt.id)||Ge.set(yt.id,[]))})},We=!0,Xe=!1,ct=void 0;try{for(var at=K.keys()[Symbol.iterator](),Et;!(We=(Et=at.next()).done);We=!0){var tt=Et.value;Ze(tt)}}catch(je){Xe=!0,ct=je}finally{try{!We&&at.return&&at.return()}finally{if(Xe)throw ct}}var $e=D(ze),Qe=D(Ge),lt=w($e),ft=w(Qe),Nt=C(ze),Sr=C(Ge),jt=[],Vt=[];lt.forEach(function(je,Ve){jt[Ve]=[],je.forEach(function(et){Nt.get(et).length==0&&jt[Ve].push(et)})}),ft.forEach(function(je,Ve){Vt[Ve]=[],je.forEach(function(et){Sr.get(et).length==0&&Vt[Ve].push(et)})});var M=G(ze,"horizontal",Le,de,jt),F=G(Ge,"vertical",Se,we,Vt),A=function(Ve){he.get(Ve)?he.get(Ve).forEach(function(et){m[p.get(et)]=M.get(Ve)}):m[p.get(Ve)]=M.get(Ve)},b=!0,x=!1,O=void 0;try{for(var q=M.keys()[Symbol.iterator](),$;!(b=($=q.next()).done);b=!0){var ne=$.value;A(ne)}}catch(je){x=!0,O=je}finally{try{!b&&q.return&&q.return()}finally{if(x)throw O}}var be=function(Ve){me.get(Ve)?me.get(Ve).forEach(function(et){E[p.get(et)]=F.get(Ve)}):E[p.get(Ve)]=F.get(Ve)},ye=!0,ve=!1,Oe=void 0;try{for(var Ae=F.keys()[Symbol.iterator](),Ye;!(ye=(Ye=Ae.next()).done);ye=!0){var ne=Ye.value;be(ne)}}catch(je){ve=!0,Oe=je}finally{try{!ye&&Ae.return&&Ae.return()}finally{if(ve)throw Oe}}}()}for(var ce=0;ce<T.length;ce++){var Ue=T[ce];Ue.getChild()==null&&Ue.setCenter(m[p.get(Ue.id)],E[p.get(Ue.id)])}},i.exports=d},551:i=>{i.exports=t}},r={};function n(i){var o=r[i];if(o!==void 0)return o.exports;var s=r[i]={exports:{}};return e[i](s,s.exports,n),s.exports}var a=n(45);return a})()})});var Kh=Ee((Ca,Qo)=>{(function(e,r){typeof Ca=="object"&&typeof Qo=="object"?Qo.exports=r(Zo()):typeof define=="function"&&define.amd?define(["cose-base"],r):typeof Ca=="object"?Ca.cytoscapeFcose=r(Zo()):e.cytoscapeFcose=r(e.coseBase)})(Ca,function(t){return(()=>{"use strict";var e={658:i=>{i.exports=Object.assign!=null?Object.assign.bind(Object):function(o){for(var s=arguments.length,l=Array(s>1?s-1:0),u=1;u<s;u++)l[u-1]=arguments[u];return l.forEach(function(c){Object.keys(c).forEach(function(f){return o[f]=c[f]})}),o}},548:(i,o,s)=>{var l=function(){function f(h,d){var v=[],g=!0,y=!1,p=void 0;try{for(var m=h[Symbol.iterator](),E;!(g=(E=m.next()).done)&&(v.push(E.value),!(d&&v.length===d));g=!0);}catch(T){y=!0,p=T}finally{try{!g&&m.return&&m.return()}finally{if(y)throw p}}return v}return function(h,d){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return f(h,d);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=s(140).layoutBase.LinkedList,c={};c.getTopMostNodes=function(f){for(var h={},d=0;d<f.length;d++)h[f[d].id()]=!0;var v=f.filter(function(g,y){typeof g=="number"&&(g=y);for(var p=g.parent()[0];p!=null;){if(h[p.id()])return!1;p=p.parent()[0]}return!0});return v},c.connectComponents=function(f,h,d,v){var g=new u,y=new Set,p=[],m=void 0,E=void 0,T=void 0,L=!1,I=1,N=[],B=[],R=function(){var z=f.collection();B.push(z);var w=d[0],D=f.collection();D.merge(w).merge(w.descendants().intersection(h)),p.push(w),D.forEach(function(S){g.push(S),y.add(S),z.merge(S)});for(var C=function(){w=g.shift();var V=f.collection();w.neighborhood().nodes().forEach(function(Y){h.intersection(w.edgesWith(Y)).length>0&&V.merge(Y)});for(var H=0;H<V.length;H++){var _=V[H];if(m=d.intersection(_.union(_.ancestors())),m!=null&&!y.has(m[0])){var K=m.union(m.descendants());K.forEach(function(Y){g.push(Y),y.add(Y),z.merge(Y),d.has(Y)&&p.push(Y)})}}};g.length!=0;)C();if(z.forEach(function(S){h.intersection(S.connectedEdges()).forEach(function(V){z.has(V.source())&&z.has(V.target())&&z.merge(V)})}),p.length==d.length&&(L=!0),!L||L&&I>1){E=p[0],T=E.connectedEdges().length,p.forEach(function(S){S.connectedEdges().length<T&&(T=S.connectedEdges().length,E=S)}),N.push(E.id());var P=f.collection();P.merge(p[0]),p.forEach(function(S){P.merge(S)}),p=[],d=d.difference(P),I++}};do R();while(!L);return v&&N.length>0&&v.set("dummy"+(v.size+1),N),B},c.relocateComponent=function(f,h,d){if(!d.fixedNodeConstraint){var v=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,y=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;if(d.quality=="draft"){var m=!0,E=!1,T=void 0;try{for(var L=h.nodeIndexes[Symbol.iterator](),I;!(m=(I=L.next()).done);m=!0){var N=I.value,B=l(N,2),R=B[0],G=B[1],z=d.cy.getElementById(R);if(z){var w=z.boundingBox(),D=h.xCoords[G]-w.w/2,C=h.xCoords[G]+w.w/2,P=h.yCoords[G]-w.h/2,S=h.yCoords[G]+w.h/2;D<v&&(v=D),C>g&&(g=C),P<y&&(y=P),S>p&&(p=S)}}}catch(Y){E=!0,T=Y}finally{try{!m&&L.return&&L.return()}finally{if(E)throw T}}var V=f.x-(g+v)/2,H=f.y-(p+y)/2;h.xCoords=h.xCoords.map(function(Y){return Y+V}),h.yCoords=h.yCoords.map(function(Y){return Y+H})}else{Object.keys(h).forEach(function(Y){var Q=h[Y],ee=Q.getRect().x,Z=Q.getRect().x+Q.getRect().width,te=Q.getRect().y,W=Q.getRect().y+Q.getRect().height;ee<v&&(v=ee),Z>g&&(g=Z),te<y&&(y=te),W>p&&(p=W)});var _=f.x-(g+v)/2,K=f.y-(p+y)/2;Object.keys(h).forEach(function(Y){var Q=h[Y];Q.setCenter(Q.getCenterX()+_,Q.getCenterY()+K)})}}},c.calcBoundingBox=function(f,h,d,v){for(var g=Number.MAX_SAFE_INTEGER,y=Number.MIN_SAFE_INTEGER,p=Number.MAX_SAFE_INTEGER,m=Number.MIN_SAFE_INTEGER,E=void 0,T=void 0,L=void 0,I=void 0,N=f.descendants().not(":parent"),B=N.length,R=0;R<B;R++){var G=N[R];E=h[v.get(G.id())]-G.width()/2,T=h[v.get(G.id())]+G.width()/2,L=d[v.get(G.id())]-G.height()/2,I=d[v.get(G.id())]+G.height()/2,g>E&&(g=E),y<T&&(y=T),p>L&&(p=L),m<I&&(m=I)}var z={};return z.topLeftX=g,z.topLeftY=p,z.width=y-g,z.height=m-p,z},c.calcParentsWithoutChildren=function(f,h){var d=f.collection();return h.nodes(":parent").forEach(function(v){var g=!1;v.children().forEach(function(y){y.css("display")!="none"&&(g=!0)}),g||d.merge(v)}),d},i.exports=c},816:(i,o,s)=>{var l=s(548),u=s(140).CoSELayout,c=s(140).CoSENode,f=s(140).layoutBase.PointD,h=s(140).layoutBase.DimensionD,d=s(140).layoutBase.LayoutConstants,v=s(140).layoutBase.FDLayoutConstants,g=s(140).CoSEConstants,y=function(m,E){var T=m.cy,L=m.eles,I=L.nodes(),N=L.edges(),B=void 0,R=void 0,G=void 0,z={};m.randomize&&(B=E.nodeIndexes,R=E.xCoords,G=E.yCoords);var w=function(Y){return typeof Y=="function"},D=function(Y,Q){return w(Y)?Y(Q):Y},C=l.calcParentsWithoutChildren(T,L),P=function K(Y,Q,ee,Z){for(var te=Q.length,W=0;W<te;W++){var k=Q[W],X=null;k.intersection(C).length==0&&(X=k.children());var J=void 0,ae=k.layoutDimensions({nodeDimensionsIncludeLabels:Z.nodeDimensionsIncludeLabels});if(k.outerWidth()!=null&&k.outerHeight()!=null)if(Z.randomize)if(!k.isParent())J=Y.add(new c(ee.graphManager,new f(R[B.get(k.id())]-ae.w/2,G[B.get(k.id())]-ae.h/2),new h(parseFloat(ae.w),parseFloat(ae.h))));else{var le=l.calcBoundingBox(k,R,G,B);k.intersection(C).length==0?J=Y.add(new c(ee.graphManager,new f(le.topLeftX,le.topLeftY),new h(le.width,le.height))):J=Y.add(new c(ee.graphManager,new f(le.topLeftX,le.topLeftY),new h(parseFloat(ae.w),parseFloat(ae.h))))}else J=Y.add(new c(ee.graphManager,new f(k.position("x")-ae.w/2,k.position("y")-ae.h/2),new h(parseFloat(ae.w),parseFloat(ae.h))));else J=Y.add(new c(this.graphManager));if(J.id=k.data("id"),J.nodeRepulsion=D(Z.nodeRepulsion,k),J.paddingLeft=parseInt(k.css("padding")),J.paddingTop=parseInt(k.css("padding")),J.paddingRight=parseInt(k.css("padding")),J.paddingBottom=parseInt(k.css("padding")),Z.nodeDimensionsIncludeLabels&&(J.labelWidth=k.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).w,J.labelHeight=k.boundingBox({includeLabels:!0,includeNodes:!1,includeOverlays:!1}).h,J.labelPosVertical=k.css("text-valign"),J.labelPosHorizontal=k.css("text-halign")),z[k.data("id")]=J,isNaN(J.rect.x)&&(J.rect.x=0),isNaN(J.rect.y)&&(J.rect.y=0),X!=null&&X.length>0){var De=void 0;De=ee.getGraphManager().add(ee.newGraph(),J),K(De,X,ee,Z)}}},S=function(Y,Q,ee){for(var Z=0,te=0,W=0;W<ee.length;W++){var k=ee[W],X=z[k.data("source")],J=z[k.data("target")];if(X&&J&&X!==J&&X.getEdgesBetween(J).length==0){var ae=Q.add(Y.newEdge(),X,J);ae.id=k.id(),ae.idealLength=D(m.idealEdgeLength,k),ae.edgeElasticity=D(m.edgeElasticity,k),Z+=ae.idealLength,te++}}m.idealEdgeLength!=null&&(te>0?g.DEFAULT_EDGE_LENGTH=v.DEFAULT_EDGE_LENGTH=Z/te:w(m.idealEdgeLength)?g.DEFAULT_EDGE_LENGTH=v.DEFAULT_EDGE_LENGTH=50:g.DEFAULT_EDGE_LENGTH=v.DEFAULT_EDGE_LENGTH=m.idealEdgeLength,g.MIN_REPULSION_DIST=v.MIN_REPULSION_DIST=v.DEFAULT_EDGE_LENGTH/10,g.DEFAULT_RADIAL_SEPARATION=v.DEFAULT_EDGE_LENGTH)},V=function(Y,Q){Q.fixedNodeConstraint&&(Y.constraints.fixedNodeConstraint=Q.fixedNodeConstraint),Q.alignmentConstraint&&(Y.constraints.alignmentConstraint=Q.alignmentConstraint),Q.relativePlacementConstraint&&(Y.constraints.relativePlacementConstraint=Q.relativePlacementConstraint)};m.nestingFactor!=null&&(g.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=v.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=m.nestingFactor),m.gravity!=null&&(g.DEFAULT_GRAVITY_STRENGTH=v.DEFAULT_GRAVITY_STRENGTH=m.gravity),m.numIter!=null&&(g.MAX_ITERATIONS=v.MAX_ITERATIONS=m.numIter),m.gravityRange!=null&&(g.DEFAULT_GRAVITY_RANGE_FACTOR=v.DEFAULT_GRAVITY_RANGE_FACTOR=m.gravityRange),m.gravityCompound!=null&&(g.DEFAULT_COMPOUND_GRAVITY_STRENGTH=v.DEFAULT_COMPOUND_GRAVITY_STRENGTH=m.gravityCompound),m.gravityRangeCompound!=null&&(g.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=v.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=m.gravityRangeCompound),m.initialEnergyOnIncremental!=null&&(g.DEFAULT_COOLING_FACTOR_INCREMENTAL=v.DEFAULT_COOLING_FACTOR_INCREMENTAL=m.initialEnergyOnIncremental),m.tilingCompareBy!=null&&(g.TILING_COMPARE_BY=m.tilingCompareBy),m.quality=="proof"?d.QUALITY=2:d.QUALITY=0,g.NODE_DIMENSIONS_INCLUDE_LABELS=v.NODE_DIMENSIONS_INCLUDE_LABELS=d.NODE_DIMENSIONS_INCLUDE_LABELS=m.nodeDimensionsIncludeLabels,g.DEFAULT_INCREMENTAL=v.DEFAULT_INCREMENTAL=d.DEFAULT_INCREMENTAL=!m.randomize,g.ANIMATE=v.ANIMATE=d.ANIMATE=m.animate,g.TILE=m.tile,g.TILING_PADDING_VERTICAL=typeof m.tilingPaddingVertical=="function"?m.tilingPaddingVertical.call():m.tilingPaddingVertical,g.TILING_PADDING_HORIZONTAL=typeof m.tilingPaddingHorizontal=="function"?m.tilingPaddingHorizontal.call():m.tilingPaddingHorizontal,g.DEFAULT_INCREMENTAL=v.DEFAULT_INCREMENTAL=d.DEFAULT_INCREMENTAL=!0,g.PURE_INCREMENTAL=!m.randomize,d.DEFAULT_UNIFORM_LEAF_NODE_SIZES=m.uniformNodeDimensions,m.step=="transformed"&&(g.TRANSFORM_ON_CONSTRAINT_HANDLING=!0,g.ENFORCE_CONSTRAINTS=!1,g.APPLY_LAYOUT=!1),m.step=="enforced"&&(g.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,g.ENFORCE_CONSTRAINTS=!0,g.APPLY_LAYOUT=!1),m.step=="cose"&&(g.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,g.ENFORCE_CONSTRAINTS=!1,g.APPLY_LAYOUT=!0),m.step=="all"&&(m.randomize?g.TRANSFORM_ON_CONSTRAINT_HANDLING=!0:g.TRANSFORM_ON_CONSTRAINT_HANDLING=!1,g.ENFORCE_CONSTRAINTS=!0,g.APPLY_LAYOUT=!0),m.fixedNodeConstraint||m.alignmentConstraint||m.relativePlacementConstraint?g.TREE_REDUCTION_ON_INCREMENTAL=!1:g.TREE_REDUCTION_ON_INCREMENTAL=!0;var H=new u,_=H.newGraphManager();return P(_.addRoot(),l.getTopMostNodes(I),H,m),S(H,_,N),V(H,m),H.runLayout(),z};i.exports={coseLayout:y}},212:(i,o,s)=>{var l=function(){function m(E,T){for(var L=0;L<T.length;L++){var I=T[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,T,L){return T&&m(E.prototype,T),L&&m(E,L),E}}();function u(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")}var c=s(658),f=s(548),h=s(657),d=h.spectralLayout,v=s(816),g=v.coseLayout,y=Object.freeze({quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:void 0,fit:!0,padding:30,nodeDimensionsIncludeLabels:!1,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:75,piTol:1e-7,nodeRepulsion:function(E){return 4500},idealEdgeLength:function(E){return 50},edgeElasticity:function(E){return .45},nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,tilingCompareBy:void 0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}),p=function(){function m(E){u(this,m),this.options=c({},y,E)}return l(m,[{key:"run",value:function(){var T=this,L=this.options,I=L.cy,N=L.eles,B=[],R=void 0,G=void 0,z=[],w=void 0,D=[];L.fixedNodeConstraint&&(!Array.isArray(L.fixedNodeConstraint)||L.fixedNodeConstraint.length==0)&&(L.fixedNodeConstraint=void 0),L.alignmentConstraint&&(L.alignmentConstraint.vertical&&(!Array.isArray(L.alignmentConstraint.vertical)||L.alignmentConstraint.vertical.length==0)&&(L.alignmentConstraint.vertical=void 0),L.alignmentConstraint.horizontal&&(!Array.isArray(L.alignmentConstraint.horizontal)||L.alignmentConstraint.horizontal.length==0)&&(L.alignmentConstraint.horizontal=void 0)),L.relativePlacementConstraint&&(!Array.isArray(L.relativePlacementConstraint)||L.relativePlacementConstraint.length==0)&&(L.relativePlacementConstraint=void 0);var C=L.fixedNodeConstraint||L.alignmentConstraint||L.relativePlacementConstraint;C&&(L.tile=!1,L.packComponents=!1);var P=void 0,S=!1;if(I.layoutUtilities&&L.packComponents&&(P=I.layoutUtilities("get"),P||(P=I.layoutUtilities()),S=!0),N.nodes().length>0)if(S){var _=f.getTopMostNodes(L.eles.nodes());if(w=f.connectComponents(I,L.eles,_),w.forEach(function(pe){var se=pe.boundingBox();D.push({x:se.x1+se.w/2,y:se.y1+se.h/2})}),L.randomize&&w.forEach(function(pe){L.eles=pe,B.push(d(L))}),L.quality=="default"||L.quality=="proof"){var K=I.collection();if(L.tile){var Y=new Map,Q=[],ee=[],Z=0,te={nodeIndexes:Y,xCoords:Q,yCoords:ee},W=[];if(w.forEach(function(pe,se){pe.edges().length==0&&(pe.nodes().forEach(function(Ce,ke){K.merge(pe.nodes()[ke]),Ce.isParent()||(te.nodeIndexes.set(pe.nodes()[ke].id(),Z++),te.xCoords.push(pe.nodes()[0].position().x),te.yCoords.push(pe.nodes()[0].position().y))}),W.push(se))}),K.length>1){var k=K.boundingBox();D.push({x:k.x1+k.w/2,y:k.y1+k.h/2}),w.push(K),B.push(te);for(var X=W.length-1;X>=0;X--)w.splice(W[X],1),B.splice(W[X],1),D.splice(W[X],1)}}w.forEach(function(pe,se){L.eles=pe,z.push(g(L,B[se])),f.relocateComponent(D[se],z[se],L)})}else w.forEach(function(pe,se){f.relocateComponent(D[se],B[se],L)});var J=new Set;if(w.length>1){var ae=[],le=N.filter(function(pe){return pe.css("display")=="none"});w.forEach(function(pe,se){var Ce=void 0;if(L.quality=="draft"&&(Ce=B[se].nodeIndexes),pe.nodes().not(le).length>0){var ke={};ke.edges=[],ke.nodes=[];var Pe=void 0;pe.nodes().not(le).forEach(function(Me){if(L.quality=="draft")if(!Me.isParent())Pe=Ce.get(Me.id()),ke.nodes.push({x:B[se].xCoords[Pe]-Me.boundingbox().w/2,y:B[se].yCoords[Pe]-Me.boundingbox().h/2,width:Me.boundingbox().w,height:Me.boundingbox().h});else{var fe=f.calcBoundingBox(Me,B[se].xCoords,B[se].yCoords,Ce);ke.nodes.push({x:fe.topLeftX,y:fe.topLeftY,width:fe.width,height:fe.height})}else z[se][Me.id()]&&ke.nodes.push({x:z[se][Me.id()].getLeft(),y:z[se][Me.id()].getTop(),width:z[se][Me.id()].getWidth(),height:z[se][Me.id()].getHeight()})}),pe.edges().forEach(function(Me){var fe=Me.source(),U=Me.target();if(fe.css("display")!="none"&&U.css("display")!="none")if(L.quality=="draft"){var re=Ce.get(fe.id()),ge=Ce.get(U.id()),ue=[],ce=[];if(fe.isParent()){var Ue=f.calcBoundingBox(fe,B[se].xCoords,B[se].yCoords,Ce);ue.push(Ue.topLeftX+Ue.width/2),ue.push(Ue.topLeftY+Ue.height/2)}else ue.push(B[se].xCoords[re]),ue.push(B[se].yCoords[re]);if(U.isParent()){var j=f.calcBoundingBox(U,B[se].xCoords,B[se].yCoords,Ce);ce.push(j.topLeftX+j.width/2),ce.push(j.topLeftY+j.height/2)}else ce.push(B[se].xCoords[ge]),ce.push(B[se].yCoords[ge]);ke.edges.push({startX:ue[0],startY:ue[1],endX:ce[0],endY:ce[1]})}else z[se][fe.id()]&&z[se][U.id()]&&ke.edges.push({startX:z[se][fe.id()].getCenterX(),startY:z[se][fe.id()].getCenterY(),endX:z[se][U.id()].getCenterX(),endY:z[se][U.id()].getCenterY()})}),ke.nodes.length>0&&(ae.push(ke),J.add(se))}});var De=P.packComponents(ae,L.randomize).shifts;if(L.quality=="draft")B.forEach(function(pe,se){var Ce=pe.xCoords.map(function(Pe){return Pe+De[se].dx}),ke=pe.yCoords.map(function(Pe){return Pe+De[se].dy});pe.xCoords=Ce,pe.yCoords=ke});else{var Re=0;J.forEach(function(pe){Object.keys(z[pe]).forEach(function(se){var Ce=z[pe][se];Ce.setCenter(Ce.getCenterX()+De[Re].dx,Ce.getCenterY()+De[Re].dy)}),Re++})}}}else{var V=L.eles.boundingBox();if(D.push({x:V.x1+V.w/2,y:V.y1+V.h/2}),L.randomize){var H=d(L);B.push(H)}L.quality=="default"||L.quality=="proof"?(z.push(g(L,B[0])),f.relocateComponent(D[0],z[0],L)):f.relocateComponent(D[0],B[0],L)}var ie=function(se,Ce){if(L.quality=="default"||L.quality=="proof"){typeof se=="number"&&(se=Ce);var ke=void 0,Pe=void 0,Me=se.data("id");return z.forEach(function(U){Me in U&&(ke={x:U[Me].getRect().getCenterX(),y:U[Me].getRect().getCenterY()},Pe=U[Me])}),L.nodeDimensionsIncludeLabels&&(Pe.labelWidth&&(Pe.labelPosHorizontal=="left"?ke.x+=Pe.labelWidth/2:Pe.labelPosHorizontal=="right"&&(ke.x-=Pe.labelWidth/2)),Pe.labelHeight&&(Pe.labelPosVertical=="top"?ke.y+=Pe.labelHeight/2:Pe.labelPosVertical=="bottom"&&(ke.y-=Pe.labelHeight/2))),ke==null&&(ke={x:se.position("x"),y:se.position("y")}),{x:ke.x,y:ke.y}}else{var fe=void 0;return B.forEach(function(U){var re=U.nodeIndexes.get(se.id());re!=null&&(fe={x:U.xCoords[re],y:U.yCoords[re]})}),fe==null&&(fe={x:se.position("x"),y:se.position("y")}),{x:fe.x,y:fe.y}}};if(L.quality=="default"||L.quality=="proof"||L.randomize){var xe=f.calcParentsWithoutChildren(I,N),Ne=N.filter(function(pe){return pe.css("display")=="none"});L.eles=N.not(Ne),N.nodes().not(":parent").not(Ne).layoutPositions(T,L,ie),xe.length>0&&xe.forEach(function(pe){pe.position(ie(pe))})}else console.log("If randomize option is set to false, then quality option must be 'default' or 'proof'.")}}]),m}();i.exports=p},657:(i,o,s)=>{var l=s(548),u=s(140).layoutBase.Matrix,c=s(140).layoutBase.SVD,f=function(d){var v=d.cy,g=d.eles,y=g.nodes(),p=g.nodes(":parent"),m=new Map,E=new Map,T=new Map,L=[],I=[],N=[],B=[],R=[],G=[],z=[],w=[],D=void 0,C=void 0,P=1e8,S=1e-9,V=d.piTol,H=d.samplingType,_=d.nodeSeparation,K=void 0,Y=function(){for(var he=0,me=0,de=!1;me<K;){he=Math.floor(Math.random()*C),de=!1;for(var we=0;we<me;we++)if(B[we]==he){de=!0;break}if(!de)B[me]=he,me++;else continue}},Q=function(he,me,de){for(var we=[],Le=0,Se=0,Te=0,Be=void 0,_e=[],Fe=0,He=1,nt=0;nt<C;nt++)_e[nt]=P;for(we[Se]=he,_e[he]=0;Se>=Le;){Te=we[Le++];for(var ze=L[Te],Ge=0;Ge<ze.length;Ge++)Be=E.get(ze[Ge]),_e[Be]==P&&(_e[Be]=_e[Te]+1,we[++Se]=Be);G[Te][me]=_e[Te]*_}if(de){for(var Ze=0;Ze<C;Ze++)G[Ze][me]<R[Ze]&&(R[Ze]=G[Ze][me]);for(var We=0;We<C;We++)R[We]>Fe&&(Fe=R[We],He=We)}return He},ee=function(he){var me=void 0;if(he){me=Math.floor(Math.random()*C),D=me;for(var we=0;we<C;we++)R[we]=P;for(var Le=0;Le<K;Le++)B[Le]=me,me=Q(me,Le,he)}else{Y();for(var de=0;de<K;de++)Q(B[de],de,he,!1)}for(var Se=0;Se<C;Se++)for(var Te=0;Te<K;Te++)G[Se][Te]*=G[Se][Te];for(var Be=0;Be<K;Be++)z[Be]=[];for(var _e=0;_e<K;_e++)for(var Fe=0;Fe<K;Fe++)z[_e][Fe]=G[B[Fe]][_e]},Z=function(){for(var he=c.svd(z),me=he.S,de=he.U,we=he.V,Le=me[0]*me[0]*me[0],Se=[],Te=0;Te<K;Te++){Se[Te]=[];for(var Be=0;Be<K;Be++)Se[Te][Be]=0,Te==Be&&(Se[Te][Be]=me[Te]/(me[Te]*me[Te]+Le/(me[Te]*me[Te])))}w=u.multMat(u.multMat(we,Se),u.transpose(de))},te=function(){for(var he=void 0,me=void 0,de=[],we=[],Le=[],Se=[],Te=0;Te<C;Te++)de[Te]=Math.random(),we[Te]=Math.random();de=u.normalize(de),we=u.normalize(we);for(var Be=0,_e=S,Fe=S,He=void 0;;){Be++;for(var nt=0;nt<C;nt++)Le[nt]=de[nt];if(de=u.multGamma(u.multL(u.multGamma(Le),G,w)),he=u.dotProduct(Le,de),de=u.normalize(de),_e=u.dotProduct(Le,de),He=Math.abs(_e/Fe),He<=1+V&&He>=1)break;Fe=_e}for(var ze=0;ze<C;ze++)Le[ze]=de[ze];for(Be=0,Fe=S;;){Be++;for(var Ge=0;Ge<C;Ge++)Se[Ge]=we[Ge];if(Se=u.minusOp(Se,u.multCons(Le,u.dotProduct(Le,Se))),we=u.multGamma(u.multL(u.multGamma(Se),G,w)),me=u.dotProduct(Se,we),we=u.normalize(we),_e=u.dotProduct(Se,we),He=Math.abs(_e/Fe),He<=1+V&&He>=1)break;Fe=_e}for(var Ze=0;Ze<C;Ze++)Se[Ze]=we[Ze];I=u.multCons(Le,Math.sqrt(Math.abs(he))),N=u.multCons(Se,Math.sqrt(Math.abs(me)))};l.connectComponents(v,g,l.getTopMostNodes(y),m),p.forEach(function(oe){l.connectComponents(v,g,l.getTopMostNodes(oe.descendants().intersection(g)),m)});for(var W=0,k=0;k<y.length;k++)y[k].isParent()||E.set(y[k].id(),W++);var X=!0,J=!1,ae=void 0;try{for(var le=m.keys()[Symbol.iterator](),De;!(X=(De=le.next()).done);X=!0){var Re=De.value;E.set(Re,W++)}}catch(oe){J=!0,ae=oe}finally{try{!X&&le.return&&le.return()}finally{if(J)throw ae}}for(var ie=0;ie<E.size;ie++)L[ie]=[];p.forEach(function(oe){for(var he=oe.children().intersection(g);he.nodes(":childless").length==0;)he=he.nodes()[0].children().intersection(g);var me=0,de=he.nodes(":childless")[0].connectedEdges().length;he.nodes(":childless").forEach(function(we,Le){we.connectedEdges().length<de&&(de=we.connectedEdges().length,me=Le)}),T.set(oe.id(),he.nodes(":childless")[me].id())}),y.forEach(function(oe){var he=void 0;oe.isParent()?he=E.get(T.get(oe.id())):he=E.get(oe.id()),oe.neighborhood().nodes().forEach(function(me){g.intersection(oe.edgesWith(me)).length>0&&(me.isParent()?L[he].push(T.get(me.id())):L[he].push(me.id()))})});var xe=function(he){var me=E.get(he),de=void 0;m.get(he).forEach(function(we){v.getElementById(we).isParent()?de=T.get(we):de=we,L[me].push(de),L[E.get(de)].push(he)})},Ne=!0,pe=!1,se=void 0;try{for(var Ce=m.keys()[Symbol.iterator](),ke;!(Ne=(ke=Ce.next()).done);Ne=!0){var Pe=ke.value;xe(Pe)}}catch(oe){pe=!0,se=oe}finally{try{!Ne&&Ce.return&&Ce.return()}finally{if(pe)throw se}}C=E.size;var Me=void 0;if(C>2){K=C<d.sampleSize?C:d.sampleSize;for(var fe=0;fe<C;fe++)G[fe]=[];for(var U=0;U<K;U++)w[U]=[];return d.quality=="draft"||d.step=="all"?(ee(H),Z(),te(),Me={nodeIndexes:E,xCoords:I,yCoords:N}):(E.forEach(function(oe,he){I.push(v.getElementById(he).position("x")),N.push(v.getElementById(he).position("y"))}),Me={nodeIndexes:E,xCoords:I,yCoords:N}),Me}else{var re=E.keys(),ge=v.getElementById(re.next().value),ue=ge.position(),ce=ge.outerWidth();if(I.push(ue.x),N.push(ue.y),C==2){var Ue=v.getElementById(re.next().value),j=Ue.outerWidth();I.push(ue.x+ce/2+j/2+d.idealEdgeLength),N.push(ue.y)}return Me={nodeIndexes:E,xCoords:I,yCoords:N},Me}};i.exports={spectralLayout:f}},579:(i,o,s)=>{var l=s(212),u=function(f){f&&f("layout","fcose",l)};typeof cytoscape<"u"&&u(cytoscape),i.exports=u},140:i=>{i.exports=t}},r={};function n(i){var o=r[i];if(o!==void 0)return o.exports;var s=r[i]={exports:{}};return e[i](s,s.exports,n),s.exports}var a=n(579);return a})()})});var ts=Ee((jo,es)=>{(function(t,e){typeof jo=="object"&&typeof es<"u"?es.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).graphology=e()})(jo,function(){"use strict";function t(M){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},t(M)}function e(M,F){M.prototype=Object.create(F.prototype),M.prototype.constructor=M,n(M,F)}function r(M){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},r(M)}function n(M,F){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,b){return A.__proto__=b,A},n(M,F)}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i(M,F,A){return i=a()?Reflect.construct.bind():function(b,x,O){var q=[null];q.push.apply(q,x);var $=new(Function.bind.apply(b,q));return O&&n($,O.prototype),$},i.apply(null,arguments)}function o(M){var F=typeof Map=="function"?new Map:void 0;return o=function(A){if(A===null||(b=A,Function.toString.call(b).indexOf("[native code]")===-1))return A;var b;if(typeof A!="function")throw new TypeError("Super expression must either be null or a function");if(F!==void 0){if(F.has(A))return F.get(A);F.set(A,x)}function x(){return i(A,arguments,r(this).constructor)}return x.prototype=Object.create(A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),n(x,A)},o(M)}function s(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}var l=function(){for(var M=arguments[0],F=1,A=arguments.length;F<A;F++)if(arguments[F])for(var b in arguments[F])M[b]=arguments[F][b];return M};function u(M,F,A,b){var x=M._nodes.get(F),O=null;return x?O=b==="mixed"?x.out&&x.out[A]||x.undirected&&x.undirected[A]:b==="directed"?x.out&&x.out[A]:x.undirected&&x.undirected[A]:O}function c(M){return t(M)==="object"&&M!==null&&M.constructor===Object}function f(M){var F;for(F in M)return!1;return!0}function h(M,F,A){Object.defineProperty(M,F,{enumerable:!1,configurable:!1,writable:!0,value:A})}function d(M,F,A){var b={enumerable:!0,configurable:!0};typeof A=="function"?b.get=A:(b.value=A,b.writable=!1),Object.defineProperty(M,F,b)}function v(M){return!!c(M)&&!(M.attributes&&!Array.isArray(M.attributes))}typeof Object.assign=="function"&&(l=Object.assign);var g,y={exports:{}},p=typeof Reflect=="object"?Reflect:null,m=p&&typeof p.apply=="function"?p.apply:function(M,F,A){return Function.prototype.apply.call(M,F,A)};g=p&&typeof p.ownKeys=="function"?p.ownKeys:Object.getOwnPropertySymbols?function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:function(M){return Object.getOwnPropertyNames(M)};var E=Number.isNaN||function(M){return M!=M};function T(){T.init.call(this)}y.exports=T,y.exports.once=function(M,F){return new Promise(function(A,b){function x(q){M.removeListener(F,O),b(q)}function O(){typeof M.removeListener=="function"&&M.removeListener("error",x),A([].slice.call(arguments))}C(M,F,O,{once:!0}),F!=="error"&&function(q,$,ne){typeof q.on=="function"&&C(q,"error",$,ne)}(M,x,{once:!0})})},T.EventEmitter=T,T.prototype._events=void 0,T.prototype._eventsCount=0,T.prototype._maxListeners=void 0;var L=10;function I(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}function N(M){return M._maxListeners===void 0?T.defaultMaxListeners:M._maxListeners}function B(M,F,A,b){var x,O,q,$;if(I(A),(O=M._events)===void 0?(O=M._events=Object.create(null),M._eventsCount=0):(O.newListener!==void 0&&(M.emit("newListener",F,A.listener?A.listener:A),O=M._events),q=O[F]),q===void 0)q=O[F]=A,++M._eventsCount;else if(typeof q=="function"?q=O[F]=b?[A,q]:[q,A]:b?q.unshift(A):q.push(A),(x=N(M))>0&&q.length>x&&!q.warned){q.warned=!0;var ne=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(F)+" listeners added. Use emitter.setMaxListeners() to increase limit");ne.name="MaxListenersExceededWarning",ne.emitter=M,ne.type=F,ne.count=q.length,$=ne,console&&console.warn&&console.warn($)}return M}function R(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function G(M,F,A){var b={fired:!1,wrapFn:void 0,target:M,type:F,listener:A},x=R.bind(b);return x.listener=A,b.wrapFn=x,x}function z(M,F,A){var b=M._events;if(b===void 0)return[];var x=b[F];return x===void 0?[]:typeof x=="function"?A?[x.listener||x]:[x]:A?function(O){for(var q=new Array(O.length),$=0;$<q.length;++$)q[$]=O[$].listener||O[$];return q}(x):D(x,x.length)}function w(M){var F=this._events;if(F!==void 0){var A=F[M];if(typeof A=="function")return 1;if(A!==void 0)return A.length}return 0}function D(M,F){for(var A=new Array(F),b=0;b<F;++b)A[b]=M[b];return A}function C(M,F,A,b){if(typeof M.on=="function")b.once?M.once(F,A):M.on(F,A);else{if(typeof M.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M);M.addEventListener(F,function x(O){b.once&&M.removeEventListener(F,x),A(O)})}}function P(M){if(typeof M!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=M}Object.defineProperty(T,"defaultMaxListeners",{enumerable:!0,get:function(){return L},set:function(M){if(typeof M!="number"||M<0||E(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");L=M}}),T.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},T.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||E(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this},T.prototype.getMaxListeners=function(){return N(this)},T.prototype.emit=function(M){for(var F=[],A=1;A<arguments.length;A++)F.push(arguments[A]);var b=M==="error",x=this._events;if(x!==void 0)b=b&&x.error===void 0;else if(!b)return!1;if(b){var O;if(F.length>0&&(O=F[0]),O instanceof Error)throw O;var q=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw q.context=O,q}var $=x[M];if($===void 0)return!1;if(typeof $=="function")m($,this,F);else{var ne=$.length,be=D($,ne);for(A=0;A<ne;++A)m(be[A],this,F)}return!0},T.prototype.addListener=function(M,F){return B(this,M,F,!1)},T.prototype.on=T.prototype.addListener,T.prototype.prependListener=function(M,F){return B(this,M,F,!0)},T.prototype.once=function(M,F){return I(F),this.on(M,G(this,M,F)),this},T.prototype.prependOnceListener=function(M,F){return I(F),this.prependListener(M,G(this,M,F)),this},T.prototype.removeListener=function(M,F){var A,b,x,O,q;if(I(F),(b=this._events)===void 0)return this;if((A=b[M])===void 0)return this;if(A===F||A.listener===F)--this._eventsCount==0?this._events=Object.create(null):(delete b[M],b.removeListener&&this.emit("removeListener",M,A.listener||F));else if(typeof A!="function"){for(x=-1,O=A.length-1;O>=0;O--)if(A[O]===F||A[O].listener===F){q=A[O].listener,x=O;break}if(x<0)return this;x===0?A.shift():function($,ne){for(;ne+1<$.length;ne++)$[ne]=$[ne+1];$.pop()}(A,x),A.length===1&&(b[M]=A[0]),b.removeListener!==void 0&&this.emit("removeListener",M,q||F)}return this},T.prototype.off=T.prototype.removeListener,T.prototype.removeAllListeners=function(M){var F,A,b;if((A=this._events)===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[M]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete A[M]),this;if(arguments.length===0){var x,O=Object.keys(A);for(b=0;b<O.length;++b)(x=O[b])!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(F=A[M])=="function")this.removeListener(M,F);else if(F!==void 0)for(b=F.length-1;b>=0;b--)this.removeListener(M,F[b]);return this},T.prototype.listeners=function(M){return z(this,M,!0)},T.prototype.rawListeners=function(M){return z(this,M,!1)},T.listenerCount=function(M,F){return typeof M.listenerCount=="function"?M.listenerCount(F):w.call(M,F)},T.prototype.listenerCount=w,T.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},typeof Symbol<"u"&&(P.prototype[Symbol.iterator]=function(){return this}),P.of=function(){var M=arguments,F=M.length,A=0;return new P(function(){return A>=F?{done:!0}:{done:!1,value:M[A++]}})},P.empty=function(){return new P(function(){return{done:!0}})},P.fromSequence=function(M){var F=0,A=M.length;return new P(function(){return F>=A?{done:!0}:{done:!1,value:M[F++]}})},P.is=function(M){return M instanceof P||typeof M=="object"&&M!==null&&typeof M.next=="function"};var S=P,V={};V.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",V.SYMBOL_SUPPORT=typeof Symbol<"u";var H=S,_=V,K=_.ARRAY_BUFFER_SUPPORT,Y=_.SYMBOL_SUPPORT,Q=function(M){var F=function(A){return typeof A=="string"||Array.isArray(A)||K&&ArrayBuffer.isView(A)?H.fromSequence(A):typeof A!="object"||A===null?null:Y&&typeof A[Symbol.iterator]=="function"?A[Symbol.iterator]():typeof A.next=="function"?A:null}(M);if(!F)throw new Error("obliterator: target is not iterable nor a valid iterator.");return F},ee=Q,Z=function(M,F){for(var A,b=arguments.length>1?F:1/0,x=b!==1/0?new Array(b):[],O=0,q=ee(M);;){if(O===b)return x;if((A=q.next()).done)return O!==F&&(x.length=O),x;x[O++]=A.value}},te=function(M){function F(A){var b;return(b=M.call(this)||this).name="GraphError",b.message=A,b}return e(F,M),F}(o(Error)),W=function(M){function F(A){var b;return(b=M.call(this,A)||this).name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(s(b),F.prototype.constructor),b}return e(F,M),F}(te),k=function(M){function F(A){var b;return(b=M.call(this,A)||this).name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(s(b),F.prototype.constructor),b}return e(F,M),F}(te),X=function(M){function F(A){var b;return(b=M.call(this,A)||this).name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(s(b),F.prototype.constructor),b}return e(F,M),F}(te);function J(M,F){this.key=M,this.attributes=F,this.clear()}function ae(M,F){this.key=M,this.attributes=F,this.clear()}function le(M,F){this.key=M,this.attributes=F,this.clear()}function De(M,F,A,b,x){this.key=F,this.attributes=x,this.undirected=M,this.source=A,this.target=b}J.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},ae.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},le.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},De.prototype.attach=function(){var M="out",F="in";this.undirected&&(M=F="undirected");var A=this.source.key,b=this.target.key;this.source[M][b]=this,this.undirected&&A===b||(this.target[F][A]=this)},De.prototype.attachMulti=function(){var M="out",F="in",A=this.source.key,b=this.target.key;this.undirected&&(M=F="undirected");var x=this.source[M],O=x[b];if(O===void 0)return x[b]=this,void(this.undirected&&A===b||(this.target[F][A]=this));O.previous=this,this.next=O,x[b]=this,this.target[F][A]=this},De.prototype.detach=function(){var M=this.source.key,F=this.target.key,A="out",b="in";this.undirected&&(A=b="undirected"),delete this.source[A][F],delete this.target[b][M]},De.prototype.detachMulti=function(){var M=this.source.key,F=this.target.key,A="out",b="in";this.undirected&&(A=b="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[A][F],delete this.target[b][M]):(this.next.previous=void 0,this.source[A][F]=this.next,this.target[b][M]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};function Re(M,F,A,b,x,O,q){var $,ne,be,ye;if(b=""+b,A===0){if(!($=M._nodes.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" node in the graph.'));be=x,ye=O}else if(A===3){if(x=""+x,!(ne=M._edges.get(x)))throw new k("Graph.".concat(F,': could not find the "').concat(x,'" edge in the graph.'));var ve=ne.source.key,Oe=ne.target.key;if(b===ve)$=ne.target;else{if(b!==Oe)throw new k("Graph.".concat(F,': the "').concat(b,'" node is not attached to the "').concat(x,'" edge (').concat(ve,", ").concat(Oe,")."));$=ne.source}be=O,ye=q}else{if(!(ne=M._edges.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" edge in the graph.'));$=A===1?ne.source:ne.target,be=x,ye=O}return[$,be,ye]}var ie=[{name:function(M){return"get".concat(M,"Attribute")},attacher:function(M,F,A){M.prototype[F]=function(b,x,O){var q=Re(this,F,A,b,x,O),$=q[0],ne=q[1];return $.attributes[ne]}}},{name:function(M){return"get".concat(M,"Attributes")},attacher:function(M,F,A){M.prototype[F]=function(b,x){return Re(this,F,A,b,x)[0].attributes}}},{name:function(M){return"has".concat(M,"Attribute")},attacher:function(M,F,A){M.prototype[F]=function(b,x,O){var q=Re(this,F,A,b,x,O),$=q[0],ne=q[1];return $.attributes.hasOwnProperty(ne)}}},{name:function(M){return"set".concat(M,"Attribute")},attacher:function(M,F,A){M.prototype[F]=function(b,x,O,q){var $=Re(this,F,A,b,x,O,q),ne=$[0],be=$[1],ye=$[2];return ne.attributes[be]=ye,this.emit("nodeAttributesUpdated",{key:ne.key,type:"set",attributes:ne.attributes,name:be}),this}}},{name:function(M){return"update".concat(M,"Attribute")},attacher:function(M,F,A){M.prototype[F]=function(b,x,O,q){var $=Re(this,F,A,b,x,O,q),ne=$[0],be=$[1],ye=$[2];if(typeof ye!="function")throw new W("Graph.".concat(F,": updater should be a function."));var ve=ne.attributes,Oe=ye(ve[be]);return ve[be]=Oe,this.emit("nodeAttributesUpdated",{key:ne.key,type:"set",attributes:ne.attributes,name:be}),this}}},{name:function(M){return"remove".concat(M,"Attribute")},attacher:function(M,F,A){M.prototype[F]=function(b,x,O){var q=Re(this,F,A,b,x,O),$=q[0],ne=q[1];return delete $.attributes[ne],this.emit("nodeAttributesUpdated",{key:$.key,type:"remove",attributes:$.attributes,name:ne}),this}}},{name:function(M){return"replace".concat(M,"Attributes")},attacher:function(M,F,A){M.prototype[F]=function(b,x,O){var q=Re(this,F,A,b,x,O),$=q[0],ne=q[1];if(!c(ne))throw new W("Graph.".concat(F,": provided attributes are not a plain object."));return $.attributes=ne,this.emit("nodeAttributesUpdated",{key:$.key,type:"replace",attributes:$.attributes}),this}}},{name:function(M){return"merge".concat(M,"Attributes")},attacher:function(M,F,A){M.prototype[F]=function(b,x,O){var q=Re(this,F,A,b,x,O),$=q[0],ne=q[1];if(!c(ne))throw new W("Graph.".concat(F,": provided attributes are not a plain object."));return l($.attributes,ne),this.emit("nodeAttributesUpdated",{key:$.key,type:"merge",attributes:$.attributes,data:ne}),this}}},{name:function(M){return"update".concat(M,"Attributes")},attacher:function(M,F,A){M.prototype[F]=function(b,x,O){var q=Re(this,F,A,b,x,O),$=q[0],ne=q[1];if(typeof ne!="function")throw new W("Graph.".concat(F,": provided updater is not a function."));return $.attributes=ne($.attributes),this.emit("nodeAttributesUpdated",{key:$.key,type:"update",attributes:$.attributes}),this}}}],xe=[{name:function(M){return"get".concat(M,"Attribute")},attacher:function(M,F,A){M.prototype[F]=function(b,x){var O;if(this.type!=="mixed"&&A!=="mixed"&&A!==this.type)throw new X("Graph.".concat(F,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new X("Graph.".concat(F,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var q=""+b,$=""+x;if(x=arguments[2],!(O=u(this,q,$,A)))throw new k("Graph.".concat(F,': could not find an edge for the given path ("').concat(q,'" - "').concat($,'").'))}else{if(A!=="mixed")throw new X("Graph.".concat(F,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(b=""+b,!(O=this._edges.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" edge in the graph.'))}return O.attributes[x]}}},{name:function(M){return"get".concat(M,"Attributes")},attacher:function(M,F,A){M.prototype[F]=function(b){var x;if(this.type!=="mixed"&&A!=="mixed"&&A!==this.type)throw new X("Graph.".concat(F,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new X("Graph.".concat(F,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var O=""+b,q=""+arguments[1];if(!(x=u(this,O,q,A)))throw new k("Graph.".concat(F,': could not find an edge for the given path ("').concat(O,'" - "').concat(q,'").'))}else{if(A!=="mixed")throw new X("Graph.".concat(F,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(b=""+b,!(x=this._edges.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" edge in the graph.'))}return x.attributes}}},{name:function(M){return"has".concat(M,"Attribute")},attacher:function(M,F,A){M.prototype[F]=function(b,x){var O;if(this.type!=="mixed"&&A!=="mixed"&&A!==this.type)throw new X("Graph.".concat(F,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new X("Graph.".concat(F,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var q=""+b,$=""+x;if(x=arguments[2],!(O=u(this,q,$,A)))throw new k("Graph.".concat(F,': could not find an edge for the given path ("').concat(q,'" - "').concat($,'").'))}else{if(A!=="mixed")throw new X("Graph.".concat(F,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(b=""+b,!(O=this._edges.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" edge in the graph.'))}return O.attributes.hasOwnProperty(x)}}},{name:function(M){return"set".concat(M,"Attribute")},attacher:function(M,F,A){M.prototype[F]=function(b,x,O){var q;if(this.type!=="mixed"&&A!=="mixed"&&A!==this.type)throw new X("Graph.".concat(F,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new X("Graph.".concat(F,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var $=""+b,ne=""+x;if(x=arguments[2],O=arguments[3],!(q=u(this,$,ne,A)))throw new k("Graph.".concat(F,': could not find an edge for the given path ("').concat($,'" - "').concat(ne,'").'))}else{if(A!=="mixed")throw new X("Graph.".concat(F,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(b=""+b,!(q=this._edges.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" edge in the graph.'))}return q.attributes[x]=O,this.emit("edgeAttributesUpdated",{key:q.key,type:"set",attributes:q.attributes,name:x}),this}}},{name:function(M){return"update".concat(M,"Attribute")},attacher:function(M,F,A){M.prototype[F]=function(b,x,O){var q;if(this.type!=="mixed"&&A!=="mixed"&&A!==this.type)throw new X("Graph.".concat(F,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new X("Graph.".concat(F,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var $=""+b,ne=""+x;if(x=arguments[2],O=arguments[3],!(q=u(this,$,ne,A)))throw new k("Graph.".concat(F,': could not find an edge for the given path ("').concat($,'" - "').concat(ne,'").'))}else{if(A!=="mixed")throw new X("Graph.".concat(F,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(b=""+b,!(q=this._edges.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" edge in the graph.'))}if(typeof O!="function")throw new W("Graph.".concat(F,": updater should be a function."));return q.attributes[x]=O(q.attributes[x]),this.emit("edgeAttributesUpdated",{key:q.key,type:"set",attributes:q.attributes,name:x}),this}}},{name:function(M){return"remove".concat(M,"Attribute")},attacher:function(M,F,A){M.prototype[F]=function(b,x){var O;if(this.type!=="mixed"&&A!=="mixed"&&A!==this.type)throw new X("Graph.".concat(F,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new X("Graph.".concat(F,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var q=""+b,$=""+x;if(x=arguments[2],!(O=u(this,q,$,A)))throw new k("Graph.".concat(F,': could not find an edge for the given path ("').concat(q,'" - "').concat($,'").'))}else{if(A!=="mixed")throw new X("Graph.".concat(F,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(b=""+b,!(O=this._edges.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" edge in the graph.'))}return delete O.attributes[x],this.emit("edgeAttributesUpdated",{key:O.key,type:"remove",attributes:O.attributes,name:x}),this}}},{name:function(M){return"replace".concat(M,"Attributes")},attacher:function(M,F,A){M.prototype[F]=function(b,x){var O;if(this.type!=="mixed"&&A!=="mixed"&&A!==this.type)throw new X("Graph.".concat(F,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new X("Graph.".concat(F,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var q=""+b,$=""+x;if(x=arguments[2],!(O=u(this,q,$,A)))throw new k("Graph.".concat(F,': could not find an edge for the given path ("').concat(q,'" - "').concat($,'").'))}else{if(A!=="mixed")throw new X("Graph.".concat(F,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(b=""+b,!(O=this._edges.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" edge in the graph.'))}if(!c(x))throw new W("Graph.".concat(F,": provided attributes are not a plain object."));return O.attributes=x,this.emit("edgeAttributesUpdated",{key:O.key,type:"replace",attributes:O.attributes}),this}}},{name:function(M){return"merge".concat(M,"Attributes")},attacher:function(M,F,A){M.prototype[F]=function(b,x){var O;if(this.type!=="mixed"&&A!=="mixed"&&A!==this.type)throw new X("Graph.".concat(F,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new X("Graph.".concat(F,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var q=""+b,$=""+x;if(x=arguments[2],!(O=u(this,q,$,A)))throw new k("Graph.".concat(F,': could not find an edge for the given path ("').concat(q,'" - "').concat($,'").'))}else{if(A!=="mixed")throw new X("Graph.".concat(F,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(b=""+b,!(O=this._edges.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" edge in the graph.'))}if(!c(x))throw new W("Graph.".concat(F,": provided attributes are not a plain object."));return l(O.attributes,x),this.emit("edgeAttributesUpdated",{key:O.key,type:"merge",attributes:O.attributes,data:x}),this}}},{name:function(M){return"update".concat(M,"Attributes")},attacher:function(M,F,A){M.prototype[F]=function(b,x){var O;if(this.type!=="mixed"&&A!=="mixed"&&A!==this.type)throw new X("Graph.".concat(F,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new X("Graph.".concat(F,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var q=""+b,$=""+x;if(x=arguments[2],!(O=u(this,q,$,A)))throw new k("Graph.".concat(F,': could not find an edge for the given path ("').concat(q,'" - "').concat($,'").'))}else{if(A!=="mixed")throw new X("Graph.".concat(F,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(b=""+b,!(O=this._edges.get(b)))throw new k("Graph.".concat(F,': could not find the "').concat(b,'" edge in the graph.'))}if(typeof x!="function")throw new W("Graph.".concat(F,": provided updater is not a function."));return O.attributes=x(O.attributes),this.emit("edgeAttributesUpdated",{key:O.key,type:"update",attributes:O.attributes}),this}}}],Ne=S,pe=Q,se=function(){var M=arguments,F=null,A=-1;return new Ne(function(){for(var b=null;;){if(F===null){if(++A>=M.length)return{done:!0};F=pe(M[A])}if((b=F.next()).done!==!0)break;F=null}return b})},Ce=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function ke(M,F,A,b){var x=!1;for(var O in F)if(O!==b){var q=F[O];if(x=A(q.key,q.attributes,q.source.key,q.target.key,q.source.attributes,q.target.attributes,q.undirected),M&&x)return q.key}}function Pe(M,F,A,b){var x,O,q,$=!1;for(var ne in F)if(ne!==b){x=F[ne];do{if(O=x.source,q=x.target,$=A(x.key,x.attributes,O.key,q.key,O.attributes,q.attributes,x.undirected),M&&$)return x.key;x=x.next}while(x!==void 0)}}function Me(M,F){var A,b=Object.keys(M),x=b.length,O=0;return new S(function(){do if(A)A=A.next;else{if(O>=x)return{done:!0};var q=b[O++];if(q===F){A=void 0;continue}A=M[q]}while(!A);return{done:!1,value:{edge:A.key,attributes:A.attributes,source:A.source.key,target:A.target.key,sourceAttributes:A.source.attributes,targetAttributes:A.target.attributes,undirected:A.undirected}}})}function fe(M,F,A,b){var x=F[A];if(x){var O=x.source,q=x.target;return b(x.key,x.attributes,O.key,q.key,O.attributes,q.attributes,x.undirected)&&M?x.key:void 0}}function U(M,F,A,b){var x=F[A];if(x){var O=!1;do{if(O=b(x.key,x.attributes,x.source.key,x.target.key,x.source.attributes,x.target.attributes,x.undirected),M&&O)return x.key;x=x.next}while(x!==void 0)}}function re(M,F){var A=M[F];return A.next!==void 0?new S(function(){if(!A)return{done:!0};var b={edge:A.key,attributes:A.attributes,source:A.source.key,target:A.target.key,sourceAttributes:A.source.attributes,targetAttributes:A.target.attributes,undirected:A.undirected};return A=A.next,{done:!1,value:b}}):S.of({edge:A.key,attributes:A.attributes,source:A.source.key,target:A.target.key,sourceAttributes:A.source.attributes,targetAttributes:A.target.attributes,undirected:A.undirected})}function ge(M,F){if(M.size===0)return[];if(F==="mixed"||F===M.type)return typeof Array.from=="function"?Array.from(M._edges.keys()):Z(M._edges.keys(),M._edges.size);for(var A,b,x=F==="undirected"?M.undirectedSize:M.directedSize,O=new Array(x),q=F==="undirected",$=M._edges.values(),ne=0;(A=$.next()).done!==!0;)(b=A.value).undirected===q&&(O[ne++]=b.key);return O}function ue(M,F,A,b){if(F.size!==0){for(var x,O,q=A!=="mixed"&&A!==F.type,$=A==="undirected",ne=!1,be=F._edges.values();(x=be.next()).done!==!0;)if(O=x.value,!q||O.undirected===$){var ye=O,ve=ye.key,Oe=ye.attributes,Ae=ye.source,Ye=ye.target;if(ne=b(ve,Oe,Ae.key,Ye.key,Ae.attributes,Ye.attributes,O.undirected),M&&ne)return ve}}}function ce(M,F){if(M.size===0)return S.empty();var A=F!=="mixed"&&F!==M.type,b=F==="undirected",x=M._edges.values();return new S(function(){for(var O,q;;){if((O=x.next()).done)return O;if(q=O.value,!A||q.undirected===b)break}return{value:{edge:q.key,attributes:q.attributes,source:q.source.key,target:q.target.key,sourceAttributes:q.source.attributes,targetAttributes:q.target.attributes,undirected:q.undirected},done:!1}})}function Ue(M,F,A,b,x,O){var q,$=F?Pe:ke;if(A!=="undirected"&&(b!=="out"&&(q=$(M,x.in,O),M&&q)||b!=="in"&&(q=$(M,x.out,O,b?void 0:x.key),M&&q))||A!=="directed"&&(q=$(M,x.undirected,O),M&&q))return q}function j(M,F,A,b){var x=[];return Ue(!1,M,F,A,b,function(O){x.push(O)}),x}function oe(M,F,A){var b=S.empty();return M!=="undirected"&&(F!=="out"&&A.in!==void 0&&(b=se(b,Me(A.in))),F!=="in"&&A.out!==void 0&&(b=se(b,Me(A.out,F?void 0:A.key)))),M!=="directed"&&A.undirected!==void 0&&(b=se(b,Me(A.undirected))),b}function he(M,F,A,b,x,O,q){var $,ne=A?U:fe;if(F!=="undirected"&&(x.in!==void 0&&b!=="out"&&($=ne(M,x.in,O,q),M&&$)||x.out!==void 0&&b!=="in"&&(b||x.key!==O)&&($=ne(M,x.out,O,q),M&&$))||F!=="directed"&&x.undirected!==void 0&&($=ne(M,x.undirected,O,q),M&&$))return $}function me(M,F,A,b,x){var O=[];return he(!1,M,F,A,b,x,function(q){O.push(q)}),O}function de(M,F,A,b){var x=S.empty();return M!=="undirected"&&(A.in!==void 0&&F!=="out"&&b in A.in&&(x=se(x,re(A.in,b))),A.out!==void 0&&F!=="in"&&b in A.out&&(F||A.key!==b)&&(x=se(x,re(A.out,b)))),M!=="directed"&&A.undirected!==void 0&&b in A.undirected&&(x=se(x,re(A.undirected,b))),x}var we=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Le(){this.A=null,this.B=null}function Se(M,F,A,b,x){for(var O in b){var q=b[O],$=q.source,ne=q.target,be=$===A?ne:$;if(!F||!F.has(be.key)){var ye=x(be.key,be.attributes);if(M&&ye)return be.key}}}function Te(M,F,A,b,x){if(F!=="mixed"){if(F==="undirected")return Se(M,null,b,b.undirected,x);if(typeof A=="string")return Se(M,null,b,b[A],x)}var O,q=new Le;if(F!=="undirected"){if(A!=="out"){if(O=Se(M,null,b,b.in,x),M&&O)return O;q.wrap(b.in)}if(A!=="in"){if(O=Se(M,q,b,b.out,x),M&&O)return O;q.wrap(b.out)}}if(F!=="directed"&&(O=Se(M,q,b,b.undirected,x),M&&O))return O}function Be(M,F,A){var b=Object.keys(A),x=b.length,O=0;return new S(function(){var q=null;do{if(O>=x)return M&&M.wrap(A),{done:!0};var $=A[b[O++]],ne=$.source,be=$.target;q=ne===F?be:ne,M&&M.has(q.key)&&(q=null)}while(q===null);return{done:!1,value:{neighbor:q.key,attributes:q.attributes}}})}function _e(M,F){var A=F.name,b=F.type,x=F.direction;M.prototype[A]=function(O){if(b!=="mixed"&&this.type!=="mixed"&&b!==this.type)return[];O=""+O;var q=this._nodes.get(O);if(q===void 0)throw new k("Graph.".concat(A,': could not find the "').concat(O,'" node in the graph.'));return function($,ne,be){if($!=="mixed"){if($==="undirected")return Object.keys(be.undirected);if(typeof ne=="string")return Object.keys(be[ne])}var ye=[];return Te(!1,$,ne,be,function(ve){ye.push(ve)}),ye}(b==="mixed"?this.type:b,x,q)}}function Fe(M,F){var A=F.name,b=F.type,x=F.direction,O=A.slice(0,-1)+"Entries";M.prototype[O]=function(q){if(b!=="mixed"&&this.type!=="mixed"&&b!==this.type)return S.empty();q=""+q;var $=this._nodes.get(q);if($===void 0)throw new k("Graph.".concat(O,': could not find the "').concat(q,'" node in the graph.'));return function(ne,be,ye){if(ne!=="mixed"){if(ne==="undirected")return Be(null,ye,ye.undirected);if(typeof be=="string")return Be(null,ye,ye[be])}var ve=S.empty(),Oe=new Le;return ne!=="undirected"&&(be!=="out"&&(ve=se(ve,Be(Oe,ye,ye.in))),be!=="in"&&(ve=se(ve,Be(Oe,ye,ye.out)))),ne!=="directed"&&(ve=se(ve,Be(Oe,ye,ye.undirected))),ve}(b==="mixed"?this.type:b,x,$)}}function He(M,F,A,b,x){for(var O,q,$,ne,be,ye,ve,Oe=b._nodes.values(),Ae=b.type;(O=Oe.next()).done!==!0;){var Ye=!1;if(q=O.value,Ae!=="undirected")for($ in ne=q.out){be=ne[$];do{if(ye=be.target,Ye=!0,ve=x(q.key,ye.key,q.attributes,ye.attributes,be.key,be.attributes,be.undirected),M&&ve)return be;be=be.next}while(be)}if(Ae!=="directed"){for($ in ne=q.undirected)if(!(F&&q.key>$)){be=ne[$];do{if((ye=be.target).key!==$&&(ye=be.source),Ye=!0,ve=x(q.key,ye.key,q.attributes,ye.attributes,be.key,be.attributes,be.undirected),M&&ve)return be;be=be.next}while(be)}}if(A&&!Ye&&(ve=x(q.key,null,q.attributes,null,null,null,null),M&&ve))return null}}function nt(M){if(!c(M))throw new W('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in M))throw new W("Graph.import: serialized node is missing its key.");if("attributes"in M&&(!c(M.attributes)||M.attributes===null))throw new W("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function ze(M){if(!c(M))throw new W('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in M))throw new W("Graph.import: serialized edge is missing its source.");if(!("target"in M))throw new W("Graph.import: serialized edge is missing its target.");if("attributes"in M&&(!c(M.attributes)||M.attributes===null))throw new W("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in M&&typeof M.undirected!="boolean")throw new W("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}Le.prototype.wrap=function(M){this.A===null?this.A=M:this.B===null&&(this.B=M)},Le.prototype.has=function(M){return this.A!==null&&M in this.A||this.B!==null&&M in this.B};var Ge,Ze=(Ge=255&Math.floor(256*Math.random()),function(){return Ge++}),We=new Set(["directed","undirected","mixed"]),Xe=new Set(["domain","_events","_eventsCount","_maxListeners"]),ct={allowSelfLoops:!0,multi:!1,type:"mixed"};function at(M,F,A){var b=new M.NodeDataClass(F,A);return M._nodes.set(F,b),M.emit("nodeAdded",{key:F,attributes:A}),b}function Et(M,F,A,b,x,O,q,$){if(!b&&M.type==="undirected")throw new X("Graph.".concat(F,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(b&&M.type==="directed")throw new X("Graph.".concat(F,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if($&&!c($))throw new W("Graph.".concat(F,': invalid attributes. Expecting an object but got "').concat($,'"'));if(O=""+O,q=""+q,$=$||{},!M.allowSelfLoops&&O===q)throw new X("Graph.".concat(F,': source & target are the same ("').concat(O,`"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`));var ne=M._nodes.get(O),be=M._nodes.get(q);if(!ne)throw new k("Graph.".concat(F,': source node "').concat(O,'" not found.'));if(!be)throw new k("Graph.".concat(F,': target node "').concat(q,'" not found.'));var ye={key:null,undirected:b,source:O,target:q,attributes:$};if(A)x=M._edgeKeyGenerator();else if(x=""+x,M._edges.has(x))throw new X("Graph.".concat(F,': the "').concat(x,'" edge already exists in the graph.'));if(!M.multi&&(b?ne.undirected[q]!==void 0:ne.out[q]!==void 0))throw new X("Graph.".concat(F,': an edge linking "').concat(O,'" to "').concat(q,`" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`));var ve=new De(b,x,ne,be,$);M._edges.set(x,ve);var Oe=O===q;return b?(ne.undirectedDegree++,be.undirectedDegree++,Oe&&(ne.undirectedLoops++,M._undirectedSelfLoopCount++)):(ne.outDegree++,be.inDegree++,Oe&&(ne.directedLoops++,M._directedSelfLoopCount++)),M.multi?ve.attachMulti():ve.attach(),b?M._undirectedSize++:M._directedSize++,ye.key=x,M.emit("edgeAdded",ye),x}function tt(M,F,A,b,x,O,q,$,ne){if(!b&&M.type==="undirected")throw new X("Graph.".concat(F,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(b&&M.type==="directed")throw new X("Graph.".concat(F,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if($){if(ne){if(typeof $!="function")throw new W("Graph.".concat(F,': invalid updater function. Expecting a function but got "').concat($,'"'))}else if(!c($))throw new W("Graph.".concat(F,': invalid attributes. Expecting an object but got "').concat($,'"'))}var be;if(O=""+O,q=""+q,ne&&(be=$,$=void 0),!M.allowSelfLoops&&O===q)throw new X("Graph.".concat(F,': source & target are the same ("').concat(O,`"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`));var ye,ve,Oe=M._nodes.get(O),Ae=M._nodes.get(q);if(!A&&(ye=M._edges.get(x))){if(!(ye.source.key===O&&ye.target.key===q||b&&ye.source.key===q&&ye.target.key===O))throw new X("Graph.".concat(F,': inconsistency detected when attempting to merge the "').concat(x,'" edge with "').concat(O,'" source & "').concat(q,'" target vs. ("').concat(ye.source.key,'", "').concat(ye.target.key,'").'));ve=ye}if(ve||M.multi||!Oe||(ve=b?Oe.undirected[q]:Oe.out[q]),ve){var Ye=[ve.key,!1,!1,!1];if(ne?!be:!$)return Ye;if(ne){var je=ve.attributes;ve.attributes=be(je),M.emit("edgeAttributesUpdated",{type:"replace",key:ve.key,attributes:ve.attributes})}else l(ve.attributes,$),M.emit("edgeAttributesUpdated",{type:"merge",key:ve.key,attributes:ve.attributes,data:$});return Ye}$=$||{},ne&&be&&($=be($));var Ve={key:null,undirected:b,source:O,target:q,attributes:$};if(A)x=M._edgeKeyGenerator();else if(x=""+x,M._edges.has(x))throw new X("Graph.".concat(F,': the "').concat(x,'" edge already exists in the graph.'));var et=!1,gt=!1;Oe||(Oe=at(M,O,{}),et=!0,O===q&&(Ae=Oe,gt=!0)),Ae||(Ae=at(M,q,{}),gt=!0),ye=new De(b,x,Oe,Ae,$),M._edges.set(x,ye);var yt=O===q;return b?(Oe.undirectedDegree++,Ae.undirectedDegree++,yt&&(Oe.undirectedLoops++,M._undirectedSelfLoopCount++)):(Oe.outDegree++,Ae.inDegree++,yt&&(Oe.directedLoops++,M._directedSelfLoopCount++)),M.multi?ye.attachMulti():ye.attach(),b?M._undirectedSize++:M._directedSize++,Ve.key=x,M.emit("edgeAdded",Ve),[x,!0,et,gt]}function $e(M,F){M._edges.delete(F.key);var A=F.source,b=F.target,x=F.attributes,O=F.undirected,q=A===b;O?(A.undirectedDegree--,b.undirectedDegree--,q&&(A.undirectedLoops--,M._undirectedSelfLoopCount--)):(A.outDegree--,b.inDegree--,q&&(A.directedLoops--,M._directedSelfLoopCount--)),M.multi?F.detachMulti():F.detach(),O?M._undirectedSize--:M._directedSize--,M.emit("edgeDropped",{key:F.key,attributes:x,source:A.key,target:b.key,undirected:O})}var Qe=function(M){function F(b){var x;if(x=M.call(this)||this,typeof(b=l({},ct,b)).multi!="boolean")throw new W(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "`.concat(b.multi,'".'));if(!We.has(b.type))throw new W(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "`.concat(b.type,'".'));if(typeof b.allowSelfLoops!="boolean")throw new W(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "`.concat(b.allowSelfLoops,'".'));var O=b.type==="mixed"?J:b.type==="directed"?ae:le;h(s(x),"NodeDataClass",O);var q="geid_"+Ze()+"_",$=0;return h(s(x),"_attributes",{}),h(s(x),"_nodes",new Map),h(s(x),"_edges",new Map),h(s(x),"_directedSize",0),h(s(x),"_undirectedSize",0),h(s(x),"_directedSelfLoopCount",0),h(s(x),"_undirectedSelfLoopCount",0),h(s(x),"_edgeKeyGenerator",function(){var ne;do ne=q+$++;while(x._edges.has(ne));return ne}),h(s(x),"_options",b),Xe.forEach(function(ne){return h(s(x),ne,x[ne])}),d(s(x),"order",function(){return x._nodes.size}),d(s(x),"size",function(){return x._edges.size}),d(s(x),"directedSize",function(){return x._directedSize}),d(s(x),"undirectedSize",function(){return x._undirectedSize}),d(s(x),"selfLoopCount",function(){return x._directedSelfLoopCount+x._undirectedSelfLoopCount}),d(s(x),"directedSelfLoopCount",function(){return x._directedSelfLoopCount}),d(s(x),"undirectedSelfLoopCount",function(){return x._undirectedSelfLoopCount}),d(s(x),"multi",x._options.multi),d(s(x),"type",x._options.type),d(s(x),"allowSelfLoops",x._options.allowSelfLoops),d(s(x),"implementation",function(){return"graphology"}),x}e(F,M);var A=F.prototype;return A._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},A.hasNode=function(b){return this._nodes.has(""+b)},A.hasDirectedEdge=function(b,x){if(this.type==="undirected")return!1;if(arguments.length===1){var O=""+b,q=this._edges.get(O);return!!q&&!q.undirected}if(arguments.length===2){b=""+b,x=""+x;var $=this._nodes.get(b);return!!$&&$.out.hasOwnProperty(x)}throw new W("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},A.hasUndirectedEdge=function(b,x){if(this.type==="directed")return!1;if(arguments.length===1){var O=""+b,q=this._edges.get(O);return!!q&&q.undirected}if(arguments.length===2){b=""+b,x=""+x;var $=this._nodes.get(b);return!!$&&$.undirected.hasOwnProperty(x)}throw new W("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},A.hasEdge=function(b,x){if(arguments.length===1){var O=""+b;return this._edges.has(O)}if(arguments.length===2){b=""+b,x=""+x;var q=this._nodes.get(b);return!!q&&(q.out!==void 0&&q.out.hasOwnProperty(x)||q.undirected!==void 0&&q.undirected.hasOwnProperty(x))}throw new W("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},A.directedEdge=function(b,x){if(this.type!=="undirected"){if(b=""+b,x=""+x,this.multi)throw new X("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var O=this._nodes.get(b);if(!O)throw new k('Graph.directedEdge: could not find the "'.concat(b,'" source node in the graph.'));if(!this._nodes.has(x))throw new k('Graph.directedEdge: could not find the "'.concat(x,'" target node in the graph.'));var q=O.out&&O.out[x]||void 0;return q?q.key:void 0}},A.undirectedEdge=function(b,x){if(this.type!=="directed"){if(b=""+b,x=""+x,this.multi)throw new X("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var O=this._nodes.get(b);if(!O)throw new k('Graph.undirectedEdge: could not find the "'.concat(b,'" source node in the graph.'));if(!this._nodes.has(x))throw new k('Graph.undirectedEdge: could not find the "'.concat(x,'" target node in the graph.'));var q=O.undirected&&O.undirected[x]||void 0;return q?q.key:void 0}},A.edge=function(b,x){if(this.multi)throw new X("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");b=""+b,x=""+x;var O=this._nodes.get(b);if(!O)throw new k('Graph.edge: could not find the "'.concat(b,'" source node in the graph.'));if(!this._nodes.has(x))throw new k('Graph.edge: could not find the "'.concat(x,'" target node in the graph.'));var q=O.out&&O.out[x]||O.undirected&&O.undirected[x]||void 0;if(q)return q.key},A.areDirectedNeighbors=function(b,x){b=""+b,x=""+x;var O=this._nodes.get(b);if(!O)throw new k('Graph.areDirectedNeighbors: could not find the "'.concat(b,'" node in the graph.'));return this.type!=="undirected"&&(x in O.in||x in O.out)},A.areOutNeighbors=function(b,x){b=""+b,x=""+x;var O=this._nodes.get(b);if(!O)throw new k('Graph.areOutNeighbors: could not find the "'.concat(b,'" node in the graph.'));return this.type!=="undirected"&&x in O.out},A.areInNeighbors=function(b,x){b=""+b,x=""+x;var O=this._nodes.get(b);if(!O)throw new k('Graph.areInNeighbors: could not find the "'.concat(b,'" node in the graph.'));return this.type!=="undirected"&&x in O.in},A.areUndirectedNeighbors=function(b,x){b=""+b,x=""+x;var O=this._nodes.get(b);if(!O)throw new k('Graph.areUndirectedNeighbors: could not find the "'.concat(b,'" node in the graph.'));return this.type!=="directed"&&x in O.undirected},A.areNeighbors=function(b,x){b=""+b,x=""+x;var O=this._nodes.get(b);if(!O)throw new k('Graph.areNeighbors: could not find the "'.concat(b,'" node in the graph.'));return this.type!=="undirected"&&(x in O.in||x in O.out)||this.type!=="directed"&&x in O.undirected},A.areInboundNeighbors=function(b,x){b=""+b,x=""+x;var O=this._nodes.get(b);if(!O)throw new k('Graph.areInboundNeighbors: could not find the "'.concat(b,'" node in the graph.'));return this.type!=="undirected"&&x in O.in||this.type!=="directed"&&x in O.undirected},A.areOutboundNeighbors=function(b,x){b=""+b,x=""+x;var O=this._nodes.get(b);if(!O)throw new k('Graph.areOutboundNeighbors: could not find the "'.concat(b,'" node in the graph.'));return this.type!=="undirected"&&x in O.out||this.type!=="directed"&&x in O.undirected},A.inDegree=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.inDegree: could not find the "'.concat(b,'" node in the graph.'));return this.type==="undirected"?0:x.inDegree},A.outDegree=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.outDegree: could not find the "'.concat(b,'" node in the graph.'));return this.type==="undirected"?0:x.outDegree},A.directedDegree=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.directedDegree: could not find the "'.concat(b,'" node in the graph.'));return this.type==="undirected"?0:x.inDegree+x.outDegree},A.undirectedDegree=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.undirectedDegree: could not find the "'.concat(b,'" node in the graph.'));return this.type==="directed"?0:x.undirectedDegree},A.inboundDegree=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.inboundDegree: could not find the "'.concat(b,'" node in the graph.'));var O=0;return this.type!=="directed"&&(O+=x.undirectedDegree),this.type!=="undirected"&&(O+=x.inDegree),O},A.outboundDegree=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.outboundDegree: could not find the "'.concat(b,'" node in the graph.'));var O=0;return this.type!=="directed"&&(O+=x.undirectedDegree),this.type!=="undirected"&&(O+=x.outDegree),O},A.degree=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.degree: could not find the "'.concat(b,'" node in the graph.'));var O=0;return this.type!=="directed"&&(O+=x.undirectedDegree),this.type!=="undirected"&&(O+=x.inDegree+x.outDegree),O},A.inDegreeWithoutSelfLoops=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(b,'" node in the graph.'));return this.type==="undirected"?0:x.inDegree-x.directedLoops},A.outDegreeWithoutSelfLoops=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(b,'" node in the graph.'));return this.type==="undirected"?0:x.outDegree-x.directedLoops},A.directedDegreeWithoutSelfLoops=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(b,'" node in the graph.'));return this.type==="undirected"?0:x.inDegree+x.outDegree-2*x.directedLoops},A.undirectedDegreeWithoutSelfLoops=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(b,'" node in the graph.'));return this.type==="directed"?0:x.undirectedDegree-2*x.undirectedLoops},A.inboundDegreeWithoutSelfLoops=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(b,'" node in the graph.'));var O=0,q=0;return this.type!=="directed"&&(O+=x.undirectedDegree,q+=2*x.undirectedLoops),this.type!=="undirected"&&(O+=x.inDegree,q+=x.directedLoops),O-q},A.outboundDegreeWithoutSelfLoops=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(b,'" node in the graph.'));var O=0,q=0;return this.type!=="directed"&&(O+=x.undirectedDegree,q+=2*x.undirectedLoops),this.type!=="undirected"&&(O+=x.outDegree,q+=x.directedLoops),O-q},A.degreeWithoutSelfLoops=function(b){b=""+b;var x=this._nodes.get(b);if(!x)throw new k('Graph.degreeWithoutSelfLoops: could not find the "'.concat(b,'" node in the graph.'));var O=0,q=0;return this.type!=="directed"&&(O+=x.undirectedDegree,q+=2*x.undirectedLoops),this.type!=="undirected"&&(O+=x.inDegree+x.outDegree,q+=2*x.directedLoops),O-q},A.source=function(b){b=""+b;var x=this._edges.get(b);if(!x)throw new k('Graph.source: could not find the "'.concat(b,'" edge in the graph.'));return x.source.key},A.target=function(b){b=""+b;var x=this._edges.get(b);if(!x)throw new k('Graph.target: could not find the "'.concat(b,'" edge in the graph.'));return x.target.key},A.extremities=function(b){b=""+b;var x=this._edges.get(b);if(!x)throw new k('Graph.extremities: could not find the "'.concat(b,'" edge in the graph.'));return[x.source.key,x.target.key]},A.opposite=function(b,x){b=""+b,x=""+x;var O=this._edges.get(x);if(!O)throw new k('Graph.opposite: could not find the "'.concat(x,'" edge in the graph.'));var q=O.source.key,$=O.target.key;if(b===q)return $;if(b===$)return q;throw new k('Graph.opposite: the "'.concat(b,'" node is not attached to the "').concat(x,'" edge (').concat(q,", ").concat($,")."))},A.hasExtremity=function(b,x){b=""+b,x=""+x;var O=this._edges.get(b);if(!O)throw new k('Graph.hasExtremity: could not find the "'.concat(b,'" edge in the graph.'));return O.source.key===x||O.target.key===x},A.isUndirected=function(b){b=""+b;var x=this._edges.get(b);if(!x)throw new k('Graph.isUndirected: could not find the "'.concat(b,'" edge in the graph.'));return x.undirected},A.isDirected=function(b){b=""+b;var x=this._edges.get(b);if(!x)throw new k('Graph.isDirected: could not find the "'.concat(b,'" edge in the graph.'));return!x.undirected},A.isSelfLoop=function(b){b=""+b;var x=this._edges.get(b);if(!x)throw new k('Graph.isSelfLoop: could not find the "'.concat(b,'" edge in the graph.'));return x.source===x.target},A.addNode=function(b,x){var O=function(q,$,ne){if(ne&&!c(ne))throw new W('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(ne,'"'));if($=""+$,ne=ne||{},q._nodes.has($))throw new X('Graph.addNode: the "'.concat($,'" node already exist in the graph.'));var be=new q.NodeDataClass($,ne);return q._nodes.set($,be),q.emit("nodeAdded",{key:$,attributes:ne}),be}(this,b,x);return O.key},A.mergeNode=function(b,x){if(x&&!c(x))throw new W('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(x,'"'));b=""+b,x=x||{};var O=this._nodes.get(b);return O?(x&&(l(O.attributes,x),this.emit("nodeAttributesUpdated",{type:"merge",key:b,attributes:O.attributes,data:x})),[b,!1]):(O=new this.NodeDataClass(b,x),this._nodes.set(b,O),this.emit("nodeAdded",{key:b,attributes:x}),[b,!0])},A.updateNode=function(b,x){if(x&&typeof x!="function")throw new W('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(x,'"'));b=""+b;var O=this._nodes.get(b);if(O){if(x){var q=O.attributes;O.attributes=x(q),this.emit("nodeAttributesUpdated",{type:"replace",key:b,attributes:O.attributes})}return[b,!1]}var $=x?x({}):{};return O=new this.NodeDataClass(b,$),this._nodes.set(b,O),this.emit("nodeAdded",{key:b,attributes:$}),[b,!0]},A.dropNode=function(b){b=""+b;var x,O=this._nodes.get(b);if(!O)throw new k('Graph.dropNode: could not find the "'.concat(b,'" node in the graph.'));if(this.type!=="undirected"){for(var q in O.out){x=O.out[q];do $e(this,x),x=x.next;while(x)}for(var $ in O.in){x=O.in[$];do $e(this,x),x=x.next;while(x)}}if(this.type!=="directed")for(var ne in O.undirected){x=O.undirected[ne];do $e(this,x),x=x.next;while(x)}this._nodes.delete(b),this.emit("nodeDropped",{key:b,attributes:O.attributes})},A.dropEdge=function(b){var x;if(arguments.length>1){var O=""+arguments[0],q=""+arguments[1];if(!(x=u(this,O,q,this.type)))throw new k('Graph.dropEdge: could not find the "'.concat(O,'" -> "').concat(q,'" edge in the graph.'))}else if(b=""+b,!(x=this._edges.get(b)))throw new k('Graph.dropEdge: could not find the "'.concat(b,'" edge in the graph.'));return $e(this,x),this},A.dropDirectedEdge=function(b,x){if(arguments.length<2)throw new X("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new X("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var O=u(this,b=""+b,x=""+x,"directed");if(!O)throw new k('Graph.dropDirectedEdge: could not find a "'.concat(b,'" -> "').concat(x,'" edge in the graph.'));return $e(this,O),this},A.dropUndirectedEdge=function(b,x){if(arguments.length<2)throw new X("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new X("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var O=u(this,b,x,"undirected");if(!O)throw new k('Graph.dropUndirectedEdge: could not find a "'.concat(b,'" -> "').concat(x,'" edge in the graph.'));return $e(this,O),this},A.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},A.clearEdges=function(){for(var b,x=this._nodes.values();(b=x.next()).done!==!0;)b.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},A.getAttribute=function(b){return this._attributes[b]},A.getAttributes=function(){return this._attributes},A.hasAttribute=function(b){return this._attributes.hasOwnProperty(b)},A.setAttribute=function(b,x){return this._attributes[b]=x,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:b}),this},A.updateAttribute=function(b,x){if(typeof x!="function")throw new W("Graph.updateAttribute: updater should be a function.");var O=this._attributes[b];return this._attributes[b]=x(O),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:b}),this},A.removeAttribute=function(b){return delete this._attributes[b],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:b}),this},A.replaceAttributes=function(b){if(!c(b))throw new W("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=b,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},A.mergeAttributes=function(b){if(!c(b))throw new W("Graph.mergeAttributes: provided attributes are not a plain object.");return l(this._attributes,b),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:b}),this},A.updateAttributes=function(b){if(typeof b!="function")throw new W("Graph.updateAttributes: provided updater is not a function.");return this._attributes=b(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},A.updateEachNodeAttributes=function(b,x){if(typeof b!="function")throw new W("Graph.updateEachNodeAttributes: expecting an updater function.");if(x&&!v(x))throw new W("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var O,q,$=this._nodes.values();(O=$.next()).done!==!0;)(q=O.value).attributes=b(q.key,q.attributes);this.emit("eachNodeAttributesUpdated",{hints:x||null})},A.updateEachEdgeAttributes=function(b,x){if(typeof b!="function")throw new W("Graph.updateEachEdgeAttributes: expecting an updater function.");if(x&&!v(x))throw new W("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var O,q,$,ne,be=this._edges.values();(O=be.next()).done!==!0;)$=(q=O.value).source,ne=q.target,q.attributes=b(q.key,q.attributes,$.key,ne.key,$.attributes,ne.attributes,q.undirected);this.emit("eachEdgeAttributesUpdated",{hints:x||null})},A.forEachAdjacencyEntry=function(b){if(typeof b!="function")throw new W("Graph.forEachAdjacencyEntry: expecting a callback.");He(!1,!1,!1,this,b)},A.forEachAdjacencyEntryWithOrphans=function(b){if(typeof b!="function")throw new W("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");He(!1,!1,!0,this,b)},A.forEachAssymetricAdjacencyEntry=function(b){if(typeof b!="function")throw new W("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");He(!1,!0,!1,this,b)},A.forEachAssymetricAdjacencyEntryWithOrphans=function(b){if(typeof b!="function")throw new W("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");He(!1,!0,!0,this,b)},A.nodes=function(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):Z(this._nodes.keys(),this._nodes.size)},A.forEachNode=function(b){if(typeof b!="function")throw new W("Graph.forEachNode: expecting a callback.");for(var x,O,q=this._nodes.values();(x=q.next()).done!==!0;)b((O=x.value).key,O.attributes)},A.findNode=function(b){if(typeof b!="function")throw new W("Graph.findNode: expecting a callback.");for(var x,O,q=this._nodes.values();(x=q.next()).done!==!0;)if(b((O=x.value).key,O.attributes))return O.key},A.mapNodes=function(b){if(typeof b!="function")throw new W("Graph.mapNode: expecting a callback.");for(var x,O,q=this._nodes.values(),$=new Array(this.order),ne=0;(x=q.next()).done!==!0;)O=x.value,$[ne++]=b(O.key,O.attributes);return $},A.someNode=function(b){if(typeof b!="function")throw new W("Graph.someNode: expecting a callback.");for(var x,O,q=this._nodes.values();(x=q.next()).done!==!0;)if(b((O=x.value).key,O.attributes))return!0;return!1},A.everyNode=function(b){if(typeof b!="function")throw new W("Graph.everyNode: expecting a callback.");for(var x,O,q=this._nodes.values();(x=q.next()).done!==!0;)if(!b((O=x.value).key,O.attributes))return!1;return!0},A.filterNodes=function(b){if(typeof b!="function")throw new W("Graph.filterNodes: expecting a callback.");for(var x,O,q=this._nodes.values(),$=[];(x=q.next()).done!==!0;)b((O=x.value).key,O.attributes)&&$.push(O.key);return $},A.reduceNodes=function(b,x){if(typeof b!="function")throw new W("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new W("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var O,q,$=x,ne=this._nodes.values();(O=ne.next()).done!==!0;)$=b($,(q=O.value).key,q.attributes);return $},A.nodeEntries=function(){var b=this._nodes.values();return new S(function(){var x=b.next();if(x.done)return x;var O=x.value;return{value:{node:O.key,attributes:O.attributes},done:!1}})},A.export=function(){var b=this,x=new Array(this._nodes.size),O=0;this._nodes.forEach(function($,ne){x[O++]=function(be,ye){var ve={key:be};return f(ye.attributes)||(ve.attributes=l({},ye.attributes)),ve}(ne,$)});var q=new Array(this._edges.size);return O=0,this._edges.forEach(function($,ne){q[O++]=function(be,ye,ve){var Oe={key:ye,source:ve.source.key,target:ve.target.key};return f(ve.attributes)||(Oe.attributes=l({},ve.attributes)),be==="mixed"&&ve.undirected&&(Oe.undirected=!0),Oe}(b.type,ne,$)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:x,edges:q}},A.import=function(b){var x,O,q,$,ne,be=this,ye=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(b instanceof F)return b.forEachNode(function($t,nr){ye?be.mergeNode($t,nr):be.addNode($t,nr)}),b.forEachEdge(function($t,nr,Ma,Aa,rC,nC,vs){ye?vs?be.mergeUndirectedEdgeWithKey($t,Ma,Aa,nr):be.mergeDirectedEdgeWithKey($t,Ma,Aa,nr):vs?be.addUndirectedEdgeWithKey($t,Ma,Aa,nr):be.addDirectedEdgeWithKey($t,Ma,Aa,nr)}),this;if(!c(b))throw new W("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(b.attributes){if(!c(b.attributes))throw new W("Graph.import: invalid attributes. Expecting a plain object.");ye?this.mergeAttributes(b.attributes):this.replaceAttributes(b.attributes)}if(b.nodes){if(q=b.nodes,!Array.isArray(q))throw new W("Graph.import: invalid nodes. Expecting an array.");for(x=0,O=q.length;x<O;x++){nt($=q[x]);var ve=$,Oe=ve.key,Ae=ve.attributes;ye?this.mergeNode(Oe,Ae):this.addNode(Oe,Ae)}}if(b.edges){var Ye=!1;if(this.type==="undirected"&&(Ye=!0),q=b.edges,!Array.isArray(q))throw new W("Graph.import: invalid edges. Expecting an array.");for(x=0,O=q.length;x<O;x++){ze(ne=q[x]);var je=ne,Ve=je.source,et=je.target,gt=je.attributes,yt=je.undirected,er=yt===void 0?Ye:yt;"key"in ne?(ye?er?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:er?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,ne.key,Ve,et,gt):(ye?er?this.mergeUndirectedEdge:this.mergeDirectedEdge:er?this.addUndirectedEdge:this.addDirectedEdge).call(this,Ve,et,gt)}}return this},A.nullCopy=function(b){var x=new F(l({},this._options,b));return x.replaceAttributes(l({},this.getAttributes())),x},A.emptyCopy=function(b){var x=this.nullCopy(b);return this._nodes.forEach(function(O,q){var $=l({},O.attributes);O=new x.NodeDataClass(q,$),x._nodes.set(q,O)}),x},A.copy=function(b){if(typeof(b=b||{}).type=="string"&&b.type!==this.type&&b.type!=="mixed")throw new X('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(b.type,'" because this would mean losing information about the current graph.'));if(typeof b.multi=="boolean"&&b.multi!==this.multi&&b.multi!==!0)throw new X("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof b.allowSelfLoops=="boolean"&&b.allowSelfLoops!==this.allowSelfLoops&&b.allowSelfLoops!==!0)throw new X("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var x,O,q=this.emptyCopy(b),$=this._edges.values();(x=$.next()).done!==!0;)Et(q,"copy",!1,(O=x.value).undirected,O.key,O.source.key,O.target.key,l({},O.attributes));return q},A.toJSON=function(){return this.export()},A.toString=function(){return"[object Graph]"},A.inspect=function(){var b=this,x={};this._nodes.forEach(function(be,ye){x[ye]=be.attributes});var O={},q={};this._edges.forEach(function(be,ye){var ve,Oe=be.undirected?"--":"->",Ae="",Ye=be.source.key,je=be.target.key;be.undirected&&Ye>je&&(ve=Ye,Ye=je,je=ve);var Ve="(".concat(Ye,")").concat(Oe,"(").concat(je,")");ye.startsWith("geid_")?b.multi&&(q[Ve]===void 0?q[Ve]=0:q[Ve]++,Ae+="".concat(q[Ve],". ")):Ae+="[".concat(ye,"]: "),O[Ae+=Ve]=be.attributes});var $={};for(var ne in this)this.hasOwnProperty(ne)&&!Xe.has(ne)&&typeof this[ne]!="function"&&t(ne)!=="symbol"&&($[ne]=this[ne]);return $.attributes=this._attributes,$.nodes=x,$.edges=O,h($,"constructor",this.constructor),$},F}(y.exports.EventEmitter);typeof Symbol<"u"&&(Qe.prototype[Symbol.for("nodejs.util.inspect.custom")]=Qe.prototype.inspect),[{name:function(M){return"".concat(M,"Edge")},generateKey:!0},{name:function(M){return"".concat(M,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(M){return"".concat(M,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(M){return"".concat(M,"EdgeWithKey")}},{name:function(M){return"".concat(M,"DirectedEdgeWithKey")},type:"directed"},{name:function(M){return"".concat(M,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(M){["add","merge","update"].forEach(function(F){var A=M.name(F),b=F==="add"?Et:tt;M.generateKey?Qe.prototype[A]=function(x,O,q){return b(this,A,!0,(M.type||this.type)==="undirected",null,x,O,q,F==="update")}:Qe.prototype[A]=function(x,O,q,$){return b(this,A,!1,(M.type||this.type)==="undirected",x,O,q,$,F==="update")}})}),function(M){ie.forEach(function(F){var A=F.name,b=F.attacher;b(M,A("Node"),0),b(M,A("Source"),1),b(M,A("Target"),2),b(M,A("Opposite"),3)})}(Qe),function(M){xe.forEach(function(F){var A=F.name,b=F.attacher;b(M,A("Edge"),"mixed"),b(M,A("DirectedEdge"),"directed"),b(M,A("UndirectedEdge"),"undirected")})}(Qe),function(M){Ce.forEach(function(F){(function(A,b){var x=b.name,O=b.type,q=b.direction;A.prototype[x]=function($,ne){if(O!=="mixed"&&this.type!=="mixed"&&O!==this.type)return[];if(!arguments.length)return ge(this,O);if(arguments.length===1){$=""+$;var be=this._nodes.get($);if(be===void 0)throw new k("Graph.".concat(x,': could not find the "').concat($,'" node in the graph.'));return j(this.multi,O==="mixed"?this.type:O,q,be)}if(arguments.length===2){$=""+$,ne=""+ne;var ye=this._nodes.get($);if(!ye)throw new k("Graph.".concat(x,':  could not find the "').concat($,'" source node in the graph.'));if(!this._nodes.has(ne))throw new k("Graph.".concat(x,':  could not find the "').concat(ne,'" target node in the graph.'));return me(O,this.multi,q,ye,ne)}throw new W("Graph.".concat(x,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}})(M,F),function(A,b){var x=b.name,O=b.type,q=b.direction,$="forEach"+x[0].toUpperCase()+x.slice(1,-1);A.prototype[$]=function(ve,Oe,Ae){if(O==="mixed"||this.type==="mixed"||O===this.type){if(arguments.length===1)return ue(!1,this,O,Ae=ve);if(arguments.length===2){ve=""+ve,Ae=Oe;var Ye=this._nodes.get(ve);if(Ye===void 0)throw new k("Graph.".concat($,': could not find the "').concat(ve,'" node in the graph.'));return Ue(!1,this.multi,O==="mixed"?this.type:O,q,Ye,Ae)}if(arguments.length===3){ve=""+ve,Oe=""+Oe;var je=this._nodes.get(ve);if(!je)throw new k("Graph.".concat($,':  could not find the "').concat(ve,'" source node in the graph.'));if(!this._nodes.has(Oe))throw new k("Graph.".concat($,':  could not find the "').concat(Oe,'" target node in the graph.'));return he(!1,O,this.multi,q,je,Oe,Ae)}throw new W("Graph.".concat($,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var ne="map"+x[0].toUpperCase()+x.slice(1);A.prototype[ne]=function(){var ve,Oe=Array.prototype.slice.call(arguments),Ae=Oe.pop();if(Oe.length===0){var Ye=0;O!=="directed"&&(Ye+=this.undirectedSize),O!=="undirected"&&(Ye+=this.directedSize),ve=new Array(Ye);var je=0;Oe.push(function(Ve,et,gt,yt,er,$t,nr){ve[je++]=Ae(Ve,et,gt,yt,er,$t,nr)})}else ve=[],Oe.push(function(Ve,et,gt,yt,er,$t,nr){ve.push(Ae(Ve,et,gt,yt,er,$t,nr))});return this[$].apply(this,Oe),ve};var be="filter"+x[0].toUpperCase()+x.slice(1);A.prototype[be]=function(){var ve=Array.prototype.slice.call(arguments),Oe=ve.pop(),Ae=[];return ve.push(function(Ye,je,Ve,et,gt,yt,er){Oe(Ye,je,Ve,et,gt,yt,er)&&Ae.push(Ye)}),this[$].apply(this,ve),Ae};var ye="reduce"+x[0].toUpperCase()+x.slice(1);A.prototype[ye]=function(){var ve,Oe,Ae=Array.prototype.slice.call(arguments);if(Ae.length<2||Ae.length>4)throw new W("Graph.".concat(ye,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(Ae.length,")."));if(typeof Ae[Ae.length-1]=="function"&&typeof Ae[Ae.length-2]!="function")throw new W("Graph.".concat(ye,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));Ae.length===2?(ve=Ae[0],Oe=Ae[1],Ae=[]):Ae.length===3?(ve=Ae[1],Oe=Ae[2],Ae=[Ae[0]]):Ae.length===4&&(ve=Ae[2],Oe=Ae[3],Ae=[Ae[0],Ae[1]]);var Ye=Oe;return Ae.push(function(je,Ve,et,gt,yt,er,$t){Ye=ve(Ye,je,Ve,et,gt,yt,er,$t)}),this[$].apply(this,Ae),Ye}}(M,F),function(A,b){var x=b.name,O=b.type,q=b.direction,$="find"+x[0].toUpperCase()+x.slice(1,-1);A.prototype[$]=function(ye,ve,Oe){if(O!=="mixed"&&this.type!=="mixed"&&O!==this.type)return!1;if(arguments.length===1)return ue(!0,this,O,Oe=ye);if(arguments.length===2){ye=""+ye,Oe=ve;var Ae=this._nodes.get(ye);if(Ae===void 0)throw new k("Graph.".concat($,': could not find the "').concat(ye,'" node in the graph.'));return Ue(!0,this.multi,O==="mixed"?this.type:O,q,Ae,Oe)}if(arguments.length===3){ye=""+ye,ve=""+ve;var Ye=this._nodes.get(ye);if(!Ye)throw new k("Graph.".concat($,':  could not find the "').concat(ye,'" source node in the graph.'));if(!this._nodes.has(ve))throw new k("Graph.".concat($,':  could not find the "').concat(ve,'" target node in the graph.'));return he(!0,O,this.multi,q,Ye,ve,Oe)}throw new W("Graph.".concat($,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var ne="some"+x[0].toUpperCase()+x.slice(1,-1);A.prototype[ne]=function(){var ye=Array.prototype.slice.call(arguments),ve=ye.pop();return ye.push(function(Oe,Ae,Ye,je,Ve,et,gt){return ve(Oe,Ae,Ye,je,Ve,et,gt)}),!!this[$].apply(this,ye)};var be="every"+x[0].toUpperCase()+x.slice(1,-1);A.prototype[be]=function(){var ye=Array.prototype.slice.call(arguments),ve=ye.pop();return ye.push(function(Oe,Ae,Ye,je,Ve,et,gt){return!ve(Oe,Ae,Ye,je,Ve,et,gt)}),!this[$].apply(this,ye)}}(M,F),function(A,b){var x=b.name,O=b.type,q=b.direction,$=x.slice(0,-1)+"Entries";A.prototype[$]=function(ne,be){if(O!=="mixed"&&this.type!=="mixed"&&O!==this.type)return S.empty();if(!arguments.length)return ce(this,O);if(arguments.length===1){ne=""+ne;var ye=this._nodes.get(ne);if(!ye)throw new k("Graph.".concat($,': could not find the "').concat(ne,'" node in the graph.'));return oe(O,q,ye)}if(arguments.length===2){ne=""+ne,be=""+be;var ve=this._nodes.get(ne);if(!ve)throw new k("Graph.".concat($,':  could not find the "').concat(ne,'" source node in the graph.'));if(!this._nodes.has(be))throw new k("Graph.".concat($,':  could not find the "').concat(be,'" target node in the graph.'));return de(O,q,ve,be)}throw new W("Graph.".concat($,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(M,F)})}(Qe),function(M){we.forEach(function(F){_e(M,F),function(A,b){var x=b.name,O=b.type,q=b.direction,$="forEach"+x[0].toUpperCase()+x.slice(1,-1);A.prototype[$]=function(ve,Oe){if(O==="mixed"||this.type==="mixed"||O===this.type){ve=""+ve;var Ae=this._nodes.get(ve);if(Ae===void 0)throw new k("Graph.".concat($,': could not find the "').concat(ve,'" node in the graph.'));Te(!1,O==="mixed"?this.type:O,q,Ae,Oe)}};var ne="map"+x[0].toUpperCase()+x.slice(1);A.prototype[ne]=function(ve,Oe){var Ae=[];return this[$](ve,function(Ye,je){Ae.push(Oe(Ye,je))}),Ae};var be="filter"+x[0].toUpperCase()+x.slice(1);A.prototype[be]=function(ve,Oe){var Ae=[];return this[$](ve,function(Ye,je){Oe(Ye,je)&&Ae.push(Ye)}),Ae};var ye="reduce"+x[0].toUpperCase()+x.slice(1);A.prototype[ye]=function(ve,Oe,Ae){if(arguments.length<3)throw new W("Graph.".concat(ye,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var Ye=Ae;return this[$](ve,function(je,Ve){Ye=Oe(Ye,je,Ve)}),Ye}}(M,F),function(A,b){var x=b.name,O=b.type,q=b.direction,$=x[0].toUpperCase()+x.slice(1,-1),ne="find"+$;A.prototype[ne]=function(ve,Oe){if(O==="mixed"||this.type==="mixed"||O===this.type){ve=""+ve;var Ae=this._nodes.get(ve);if(Ae===void 0)throw new k("Graph.".concat(ne,': could not find the "').concat(ve,'" node in the graph.'));return Te(!0,O==="mixed"?this.type:O,q,Ae,Oe)}};var be="some"+$;A.prototype[be]=function(ve,Oe){return!!this[ne](ve,Oe)};var ye="every"+$;A.prototype[ye]=function(ve,Oe){return!this[ne](ve,function(Ae,Ye){return!Oe(Ae,Ye)})}}(M,F),Fe(M,F)})}(Qe);var lt=function(M){function F(A){var b=l({type:"directed"},A);if("multi"in b&&b.multi!==!1)throw new W("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(b.type!=="directed")throw new W('DirectedGraph.from: inconsistent "'+b.type+'" type in given options!');return M.call(this,b)||this}return e(F,M),F}(Qe),ft=function(M){function F(A){var b=l({type:"undirected"},A);if("multi"in b&&b.multi!==!1)throw new W("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(b.type!=="undirected")throw new W('UndirectedGraph.from: inconsistent "'+b.type+'" type in given options!');return M.call(this,b)||this}return e(F,M),F}(Qe),Nt=function(M){function F(A){var b=l({multi:!0},A);if("multi"in b&&b.multi!==!0)throw new W("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return M.call(this,b)||this}return e(F,M),F}(Qe),Sr=function(M){function F(A){var b=l({type:"directed",multi:!0},A);if("multi"in b&&b.multi!==!0)throw new W("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(b.type!=="directed")throw new W('MultiDirectedGraph.from: inconsistent "'+b.type+'" type in given options!');return M.call(this,b)||this}return e(F,M),F}(Qe),jt=function(M){function F(A){var b=l({type:"undirected",multi:!0},A);if("multi"in b&&b.multi!==!0)throw new W("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(b.type!=="undirected")throw new W('MultiUndirectedGraph.from: inconsistent "'+b.type+'" type in given options!');return M.call(this,b)||this}return e(F,M),F}(Qe);function Vt(M){M.from=function(F,A){var b=l({},F.options,A),x=new M(b);return x.import(F),x}}return Vt(Qe),Vt(lt),Vt(ft),Vt(Nt),Vt(Sr),Vt(jt),Qe.Graph=Qe,Qe.DirectedGraph=lt,Qe.UndirectedGraph=ft,Qe.MultiGraph=Nt,Qe.MultiDirectedGraph=Sr,Qe.MultiUndirectedGraph=jt,Qe.InvalidArgumentsGraphError=W,Qe.NotFoundGraphError=k,Qe.UsageGraphError=X,Qe})});var Jt=Ee((OT,jh)=>{jh.exports=function(e){return e!==null&&typeof e=="object"&&typeof e.addUndirectedEdgeWithKey=="function"&&typeof e.dropNode=="function"&&typeof e.multi=="boolean"}});var Di=Ee(ed=>{ed.copyNode=function(t,e,r){return r=Object.assign({},r),t.addNode(e,r)}});var Yr=Ee(Ta=>{Ta.addEdge=function(e,r,n,a,i,o){return r?n==null?e.addUndirectedEdge(a,i,o):e.addUndirectedEdgeWithKey(n,a,i,o):n==null?e.addDirectedEdge(a,i,o):e.addDirectedEdgeWithKey(n,a,i,o)};Ta.copyEdge=function(e,r,n,a,i,o){return o=Object.assign({},o),r?n==null?e.addUndirectedEdge(a,i,o):e.addUndirectedEdgeWithKey(n,a,i,o):n==null?e.addDirectedEdge(a,i,o):e.addDirectedEdgeWithKey(n,a,i,o)};Ta.mergeEdge=function(e,r,n,a,i,o){return r?n==null?e.mergeUndirectedEdge(a,i,o):e.mergeUndirectedEdgeWithKey(n,a,i,o):n==null?e.mergeDirectedEdge(a,i,o):e.mergeDirectedEdgeWithKey(n,a,i,o)};Ta.updateEdge=function(e,r,n,a,i,o){return r?n==null?e.updateUndirectedEdge(a,i,o):e.updateUndirectedEdgeWithKey(n,a,i,o):n==null?e.updateDirectedEdge(a,i,o):e.updateDirectedEdgeWithKey(n,a,i,o)}});var rs=Ee((RT,td)=>{function Wr(t){this.graph=t,this.stack=new Array(t.order),this.seen=new Set,this.size=0}Wr.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order};Wr.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size};Wr.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,r=this.graph;r.someNode(function(n,a){if(e.size===r.order)return!0;if(e.has(n))return!1;var i=t(n,a);return!!i})};Wr.prototype.has=function(t){return this.seen.has(t)};Wr.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e===this.seen.size?!1:(this.stack[this.size++]=t,!0)};Wr.prototype.pushWith=function(t,e){var r=this.seen.size;return this.seen.add(t),r===this.seen.size?!1:(this.stack[this.size++]=e,!0)};Wr.prototype.pop=function(){if(this.size!==0)return this.stack[--this.size]};td.exports=Wr});var ad=Ee(dr=>{var Sa=Jt(),cx=Di().copyNode,fx=Yr().copyEdge,Mi=rs();function rd(t,e){if(!Sa(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(t.order){var r=new Mi(t),n=r.push.bind(r);r.forEachNodeYetUnseen(function(a){var i=[];r.push(a);for(var o;r.size!==0;)o=r.pop(),i.push(o),t.forEachNeighbor(o,n);e(i)})}}function nd(t,e){if(!Sa(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(t.order){var r=new Mi(t),n=r.push.bind(r);r.forEachNodeYetUnseen(function(a){var i=0;r.push(a);for(var o;r.size!==0;)o=r.pop(),i++,t.forEachNeighbor(o,n);e(i)})}}function hx(t,e,r){if(!Sa(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return;var n=new Mi(t),a;function i(o,s,l,u,c,f,h){a===u&&(u=l),e(o,s,l,u,c,f,h)&&n.push(u)}n.forEachNodeYetUnseen(function(o){var s=0;for(n.push(o);n.size!==0;)a=n.pop(),s++,t.forEachEdge(a,i);r(s)})}function dx(t){var e=0;return nd(t,function(){e++}),e}function vx(t){var e=[];return rd(t,function(r){e.push(r)}),e}function ns(t){if(!Sa(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];var e=new Mi(t),r=e.push.bind(e),n=[],a;return e.forEachNodeYetUnseen(function(i){a=[],e.push(i);for(var o;e.size!==0;)o=e.pop(),a.push(o),t.forEachNeighbor(o,r);return a.length>n.length&&(n=a),n.length>e.countUnseenNodes()}),n}function gx(t){var e=ns(t),r=t.nullCopy();return e.forEach(function(n){cx(r,n,t.getNodeAttributes(n))}),t.forEachEdge(function(n,a,i,o,s,l,u){r.hasNode(i)&&fx(r,u,n,i,o,a)}),r}function px(t){var e=new Set(ns(t));t.forEachNode(function(r){e.has(r)||t.dropNode(r)})}function yx(t){if(!Sa(t))throw new Error("graphology-components: the given graph is not a valid graphology instance.");if(!t.order)return[];if(t.type==="undirected")throw new Error("graphology-components: the given graph is undirected");var e=t.nodes(),r=[],n,a;if(!t.size){for(n=0,a=e.length;n<a;n++)r.push([e[n]]);return r}var i=1,o=[],s=[],l=new Map,u=new Set,c,f,h,d=function(v){var g,y=t.outboundNeighbors(v),p;l.set(v,i++),o.push(v),s.push(v);for(var m=0,E=y.length;m<E;m++)if(g=y[m],l.has(g)){if(p=l.get(g),!u.has(g))for(;l.get(o[o.length-1])>p;)o.pop()}else d(g);if(l.get(o[o.length-1])===l.get(v)){c=[];do f=s.pop(),c.push(f),u.add(f);while(f!==v);r.push(c),o.pop()}};for(n=0,a=e.length;n<a;n++)h=e[n],u.has(h)||d(h);return r}dr.forEachConnectedComponent=rd;dr.forEachConnectedComponentOrder=nd;dr.forEachConnectedComponentOrderWithEdgeFilter=hx;dr.countConnectedComponents=dx;dr.connectedComponents=vx;dr.largestConnectedComponent=ns;dr.largestConnectedComponentSubgraph=gx;dr.cropToLargestConnectedComponent=px;dr.stronglyConnectedComponents=yx});var ld=Ee((FT,ud)=>{var id=Jt(),od=Di().copyNode,sd=Yr().copyEdge;ud.exports=function(e,r){if(!id(e)||!id(r))throw new Error("graphology-operators/disjoint-union: invalid graph.");if(e.multi!==r.multi)throw new Error("graphology-operators/disjoint-union: both graph should be simple or multi.");var n=e.nullCopy();n.mergeAttributes(e.getAttributes());var a={},i={},o=0;return e.forEachNode(function(s,l){a[s]=o,od(n,o,l),o++}),r.forEachNode(function(s,l){i[s]=o,od(n,o,l),o++}),o=0,e.forEachEdge(function(s,l,u,c,f,h,d){sd(n,d,o++,a[u],a[c],c,l)}),r.forEachEdge(function(s,l,u,c,f,h,d){sd(n,d,o++,i[u],i[c],c,l)}),n}});var hd=Ee((BT,fd)=>{var mx=Jt(),cd=Yr().copyEdge;fd.exports=function(e){if(!mx(e))throw new Error("graphology-operators/reverse: invalid graph.");var r=e.emptyCopy();return e.forEachUndirectedEdge(function(n,a,i,o){cd(r,!0,n,i,o,a)}),e.forEachDirectedEdge(function(n,a,i,o){cd(r,!1,n,o,i,a)}),r}});var gd=Ee((GT,vd)=>{var bx=Jt(),dd=Di().copyNode,wx=Yr().copyEdge;vd.exports=function(e,r){if(!bx(e))throw new Error("graphology-operators/subgraph: invalid graph instance.");var n=e.nullCopy(),a=r;if(Array.isArray(r)){if(r.length===0)return n;r=new Set(r)}if(r instanceof Set){if(r.size===0)return n;a=function(o){return r.has(o)};var i=r;r=new Set,i.forEach(function(o){r.add(""+o)})}if(typeof a!="function")throw new Error("graphology-operators/subgraph: invalid nodes. Expecting an array or a set or a filtering function.");if(typeof r=="function"){if(e.forEachNode(function(o,s){a(o,s)&&dd(n,o,s)}),n.order===0)return n}else r.forEach(function(o){if(!e.hasNode(o))throw new Error('graphology-operators/subgraph: the "'+o+'" node was not found in the graph.');dd(n,o,e.getNodeAttributes(o))});return e.forEachEdge(function(o,s,l,u,c,f,h){a(l,c)&&(u!==l&&!a(u,f)||wx(n,h,o,l,u,s))}),n}});var yd=Ee((zT,pd)=>{var Ex=Jt(),as=Yr().copyEdge;pd.exports=function(e,r){if(!Ex(e))throw new Error("graphology-operators/to-directed: expecting a valid graphology instance.");typeof r=="function"&&(r={mergeEdge:r}),r=r||{};var n=typeof r.mergeEdge=="function"?r.mergeEdge:null;if(e.type==="directed")return e.copy();var a=e.emptyCopy({type:"directed"});return e.forEachDirectedEdge(function(i,o,s,l){as(a,!1,i,s,l,o)}),e.forEachUndirectedEdge(function(i,o,s,l){var u=!e.multi&&e.type==="mixed"&&a.edge(s,l),c=!e.multi&&e.type==="mixed"&&a.edge(l,s);u?a.replaceEdgeAttributes(u,n(a.getEdgeAttributes(u),o)):as(a,!1,null,s,l,o),s!==l&&(c?a.replaceEdgeAttributes(c,n(a.getEdgeAttributes(c),o)):as(a,!1,null,l,s,o))}),a}});var bd=Ee((UT,md)=>{var xx=Jt();md.exports=function(e){if(!xx(e))throw new Error("graphology-operators/to-mixed: expecting a valid graphology instance.");return e.copy({type:"mixed"})}});var Ed=Ee((VT,wd)=>{var Cx=Jt();wd.exports=function(e){if(!Cx(e))throw new Error("graphology-operators/to-multi: expecting a valid graphology instance.");return e.copy({multi:!0})}});var Cd=Ee((qT,xd)=>{var Tx=Jt(),Sx=Yr().copyEdge;xd.exports=function(e,r){if(!Tx(e))throw new Error("graphology-operators/to-simple: expecting a valid graphology instance.");typeof r=="function"&&(r={mergeEdge:r}),r=r||{};var n=typeof r.mergeEdge=="function"?r.mergeEdge:null;if(!e.multi)return e.copy();var a=e.emptyCopy({multi:!1});return e.forEachEdge(function(i,o,s,l,u,c,f){var h=f?a.undirectedEdge(s,l):a.directedEdge(s,l);if(h){n&&a.replaceEdgeAttributes(h,n(a.getEdgeAttributes(h),o));return}Sx(a,f,i,s,l,o)}),a}});var Ld=Ee((HT,Sd)=>{var Lx=Jt(),Td=Yr().copyEdge;Sd.exports=function(e,r){if(!Lx(e))throw new Error("graphology-operators/to-undirected: expecting a valid graphology instance.");typeof r=="function"&&(r={mergeEdge:r}),r=r||{};var n=typeof r.mergeEdge=="function"?r.mergeEdge:null;if(e.type==="undirected")return e.copy();var a=e.emptyCopy({type:"undirected"});return e.forEachUndirectedEdge(function(i,o,s,l){Td(a,!0,i,s,l,o)}),e.forEachDirectedEdge(function(i,o,s,l){if(!e.multi){var u=a.edge(s,l);if(u){n&&a.replaceEdgeAttributes(u,n(a.getEdgeAttributes(u),o));return}}Td(a,!0,null,s,l,o)}),a}});var Ad=Ee((YT,Md)=>{var Dd=Jt();Md.exports=function(e,r){if(!Dd(e)||!Dd(r))throw new Error("graphology-operators/union: invalid graph.");if(e.multi!==r.multi)throw new Error("graphology-operators/union: both graph should be simple or multi.");var n=e.copy();return n.import(r,!0),n}});var Nd=Ee(vr=>{vr.disjointUnion=ld();vr.reverse=hd();vr.subgraph=gd();vr.toDirected=yd();vr.toMixed=bd();vr.toMulti=Ed();vr.toSimple=Cd();vr.toUndirected=Ld();vr.union=Ad()});var Od=Ee(is=>{is.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";is.SYMBOL_SUPPORT=typeof Symbol<"u"});var Rd=Ee((_T,Pd)=>{var Id=Od(),Dx=Id.ARRAY_BUFFER_SUPPORT,Mx=Id.SYMBOL_SUPPORT;Pd.exports=function(e,r){var n,a,i,o,s;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof r!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||Dx&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(i=0,o=e.length;i<o;i++)r(e[i],i);return}if(typeof e.forEach=="function"){e.forEach(r);return}if(Mx&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(n=e,i=0;s=n.next(),s.done!==!0;)r(s.value,i),i++;return}for(a in e)e.hasOwnProperty(a)&&r(e[a],a)}});var kd=Ee(gr=>{var Ax=Math.pow(2,8)-1,Nx=Math.pow(2,16)-1,Ox=Math.pow(2,32)-1,Ix=Math.pow(2,7)-1,Px=Math.pow(2,15)-1,Rx=Math.pow(2,31)-1;gr.getPointerArray=function(t){var e=t-1;if(e<=Ax)return Uint8Array;if(e<=Nx)return Uint16Array;if(e<=Ox)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")};gr.getSignedPointerArray=function(t){var e=t-1;return e<=Ix?Int8Array:e<=Px?Int16Array:e<=Rx?Int32Array:Float64Array};gr.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var kx={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};gr.getMinimalRepresentation=function(t,e){var r=null,n=0,a,i,o,s,l;for(s=0,l=t.length;s<l;s++)o=e?e(t[s]):t[s],i=gr.getNumberType(o),a=kx[i.name],a>n&&(n=a,r=i);return r};gr.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};gr.concat=function(){var t=0,e,r,n;for(e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var a=new arguments[0].constructor(t);for(e=0,r=0;e<n;e++)a.set(arguments[e],r),r+=arguments[e].length;return a};gr.indices=function(t){for(var e=gr.getPointerArray(t),r=new e(t),n=0;n<t;n++)r[n]=n;return r}});var Gd=Ee(La=>{var Fd=Rd(),Bd=kd();function Fx(t){return Array.isArray(t)||Bd.isTypedArray(t)}function os(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function Bx(t){var e=os(t),r=typeof e=="number"?new Array(e):[],n=0;return Fd(t,function(a){r[n++]=a}),r}function Gx(t){var e=os(t),r=typeof e=="number"?Bd.getPointerArray(e):Array,n=typeof e=="number"?new Array(e):[],a=typeof e=="number"?new r(e):[],i=0;return Fd(t,function(o){n[i]=o,a[i]=i++}),[n,a]}La.isArrayLike=Fx;La.guessLength=os;La.toArray=Bx;La.toArrayWithIndices=Gx});var Ud=Ee((ZT,zd)=>{function pr(t){if(typeof t!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=t}typeof Symbol<"u"&&(pr.prototype[Symbol.iterator]=function(){return this});pr.of=function(){var t=arguments,e=t.length,r=0;return new pr(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};pr.empty=function(){var t=new pr(function(){return{done:!0}});return t};pr.fromSequence=function(t){var e=0,r=t.length;return new pr(function(){return e>=r?{done:!0}:{done:!1,value:t[e++]}})};pr.is=function(t){return t instanceof pr?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};zd.exports=pr});var Hd=Ee((QT,qd)=>{var ss=Gd(),Vd=Ud();function Lt(t,e){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if(typeof e!="number"||e<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=t,this.capacity=e,this.items=new t(this.capacity),this.clear()}Lt.prototype.clear=function(){this.start=0,this.size=0};Lt.prototype.push=function(t){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");var e=(this.start+this.size)%this.capacity;return this.items[e]=t,++this.size};Lt.prototype.unshift=function(t){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var e=this.start-1;return this.start===0&&(e=this.capacity-1),this.items[e]=t,this.start=e,++this.size};Lt.prototype.pop=function(){if(this.size===0)return;let t=(this.start+this.size-1)%this.capacity;return this.size--,this.items[t]};Lt.prototype.shift=function(){if(this.size!==0){var t=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[t]}};Lt.prototype.peekFirst=function(){if(this.size!==0)return this.items[this.start]};Lt.prototype.peekLast=function(){if(this.size!==0){var t=this.start+this.size-1;return t>this.capacity&&(t-=this.capacity),this.items[t]}};Lt.prototype.get=function(t){if(this.size!==0)return t=this.start+t,t>this.capacity&&(t-=this.capacity),this.items[t]};Lt.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=this.capacity,n=this.size,a=this.start,i=0;i<n;)t.call(e,this.items[a],i,this),a++,i++,a===r&&(a=0)};Lt.prototype.toArray=function(){var t=this.start+this.size;if(t<this.capacity)return this.items.slice(this.start,t);for(var e=new this.ArrayClass(this.size),r=this.capacity,n=this.size,a=this.start,i=0;i<n;)e[i]=this.items[a],a++,i++,a===r&&(a=0);return e};Lt.prototype.values=function(){var t=this.items,e=this.capacity,r=this.size,n=this.start,a=0;return new Vd(function(){if(a>=r)return{done:!0};var i=t[n];return n++,a++,n===e&&(n=0),{value:i,done:!1}})};Lt.prototype.entries=function(){var t=this.items,e=this.capacity,r=this.size,n=this.start,a=0;return new Vd(function(){if(a>=r)return{done:!0};var i=t[n];return n++,n===e&&(n=0),{value:[a++,i],done:!1}})};typeof Symbol<"u"&&(Lt.prototype[Symbol.iterator]=Lt.prototype.values);Lt.prototype.inspect=function(){var t=this.toArray();return t.type=this.ArrayClass.name,t.capacity=this.capacity,Object.defineProperty(t,"constructor",{value:Lt,enumerable:!1}),t};typeof Symbol<"u"&&(Lt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Lt.prototype.inspect);Lt.from=function(t,e,r){if(arguments.length<3&&(r=ss.guessLength(t),typeof r!="number"))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var n=new Lt(e,r);if(ss.isArrayLike(t)){var a,i;for(a=0,i=t.length;a<i;a++)n.items[a]=t[a];return n.size=i,n}return ss.forEach(t,function(o){n.push(o)}),n};qd.exports=Lt});var Wd=Ee((JT,Yd)=>{var zx=Hd();function Xr(t){this.graph=t,this.queue=new zx(Array,t.order),this.seen=new Set,this.size=0}Xr.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order};Xr.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size};Xr.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,r=this.graph;r.someNode(function(n,a){if(e.size===r.order)return!0;if(e.has(n))return!1;var i=t(n,a);return!!i})};Xr.prototype.has=function(t){return this.seen.has(t)};Xr.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e===this.seen.size?!1:(this.queue.push(t),this.size++,!0)};Xr.prototype.pushWith=function(t,e){var r=this.seen.size;return this.seen.add(t),r===this.seen.size?!1:(this.queue.push(e),this.size++,!0)};Xr.prototype.shift=function(){var t=this.queue.shift();return this.size=this.queue.size,t};Yd.exports=Xr});var ls=Ee(us=>{function Ux(t,e,r){this.node=t,this.attributes=e,this.depth=r}function Vx(t){return t[0].toUpperCase()+t.slice(1)}us.TraversalRecord=Ux;us.capitalize=Vx});var Kd=Ee(cs=>{var qx=Jt(),Hx=Wd(),_d=ls(),Xd=_d.TraversalRecord,Yx=_d.capitalize;function $d(t,e,r,n){if(n=n||{},!qx(t))throw new Error("graphology-traversal/bfs: expecting a graphology instance.");if(typeof r!="function")throw new Error("graphology-traversal/bfs: given callback is not a function.");if(t.order===0)return;var a=new Hx(t),i=t["forEach"+Yx(n.mode||"outbound")+"Neighbor"].bind(t),o;e===null?o=a.forEachNodeYetUnseen.bind(a):o=function(c){e=""+e,c(e,t.getNodeAttributes(e))};var s,l;function u(c,f){a.pushWith(c,new Xd(c,f,s.depth+1))}o(function(c,f){for(a.pushWith(c,new Xd(c,f,0));a.size!==0;)s=a.shift(),l=r(s.node,s.attributes,s.depth),l!==!0&&i(s.node,u)})}cs.bfs=function(t,e,r){return $d(t,null,e,r)};cs.bfsFromNode=$d});var jd=Ee(fs=>{var Wx=Jt(),Xx=rs(),Qd=ls(),Zd=Qd.TraversalRecord,_x=Qd.capitalize;function Jd(t,e,r,n){if(n=n||{},!Wx(t))throw new Error("graphology-traversal/dfs: expecting a graphology instance.");if(typeof r!="function")throw new Error("graphology-traversal/dfs: given callback is not a function.");if(t.order===0)return;var a=new Xx(t),i=t["forEach"+_x(n.mode||"outbound")+"Neighbor"].bind(t),o;e===null?o=a.forEachNodeYetUnseen.bind(a):o=function(c){e=""+e,c(e,t.getNodeAttributes(e))};var s,l;function u(c,f){a.pushWith(c,new Zd(c,f,s.depth+1))}o(function(c,f){for(a.pushWith(c,new Zd(c,f,0));a.size!==0;)s=a.pop(),l=r(s.node,s.attributes,s.depth),l!==!0&&i(s.node,u)})}fs.dfs=function(t,e,r){return Jd(t,null,e,r)};fs.dfsFromNode=Jd});var rv=Ee(Da=>{var ev=Kd(),tv=jd();Da.bfs=ev.bfs;Da.bfsFromNode=ev.bfsFromNode;Da.dfs=tv.dfs;Da.dfsFromNode=tv.dfsFromNode});var mv=yr(Xi());function Ys(){let t=window.getComputedStyle(document.documentElement);return{colorA:t.getPropertyValue("--color-a")||"#8d5524",colorB:t.getPropertyValue("--color-b")||"#c68642",colorC:t.getPropertyValue("--color-c")||"#e0ac69",colorD:t.getPropertyValue("--color-d")||"#f1c27d",colorE:t.getPropertyValue("--color-e")||"#ffdbac"}}var Jo=yr($h()),Zh=yr(Kh());Jo.default.use(Zh.default);var Li=Ys(),ux=[{selector:"*",style:{"font-family":"Merriweather, serif"}},{selector:"node",style:{label:"data(label)","text-wrap":"wrap","text-max-width":"200"}},{selector:"edge",style:{width:"data(width)","line-opacity":t=>t.cy().data("selected")>0?.2:.5}},{selector:"node.highlight:unselected",style:{"background-color":Li.colorB}},{selector:"edge.highlight:unselected",style:{"line-color":Li.colorB,"line-opacity":.8}},{selector:"node:selected",style:{"background-color":Li.colorA}},{selector:"edge:selected",style:{label:"data(weight)","line-color":Li.colorB,"line-opacity":.8}}];function lx(t){let e=(0,Jo.default)({container:t,style:ux,selectionType:"additive"}),r=()=>e.nodes("node:selected").length;return e.on("select","node",n=>{n.target.openNeighborhood().addClass("highlight"),e.data("selected",r())}),e.on("unselect","node",n=>{let a=n.target,i=o=>!o.selected();for(let o of a.openNeighborhood())o.isEdge()?o.connectedNodes().every(i)&&o.removeClass("highlight"):o.openNeighborhood("node").every(i)&&o.removeClass("highlight");e.data("selected",r())}),e.data("selected",r()),e}function Qh(t){window.subgraph=lx(t)}function Jh(){return{name:"fcose",quality:"proof",nodeDimensionsIncludeLabels:!0,idealEdgeLength:t=>{let e=t.source().degree(!1),r=t.target().degree(!1);return 200-t.data("weight")+e*r}}}var nv=yr(ts()),av=yr(ts()),iv=yr(ad()),ov=yr(Nd()),sv=yr(rv());function $x(t){let e=new nv.default({allowSelfLoops:!1,multi:!1,type:"undirected"});for(let n of t.elements.nodes){let{id:a,word:i,sense:o}=n.data;e.addNode(a,{word:i,sense:o})}for(let n of t.elements.edges){let{source:a,target:i,weight:o}=n.data;e.addEdge(a,i,{weight:o})}let r=0;return(0,iv.forEachConnectedComponent)(e,n=>{if(!(n.length>50)){for(let a of n)e.setNodeAttribute(a,"component",r);r++}}),e}function*Kx(t,e){let r=new Set([e]);(0,sv.bfsFromNode)(t,e,(n,a,i)=>{if(a.component==null&&i>2)return!0;r.add(n)}),yield*r}function*Zx(t){let e=(n,a)=>{let{word:i,sense:o}=a;return{group:"nodes",data:Oi(Ni({},a),{id:n,label:`${i}: ${o}`})}},r=(n,a,i,o)=>{let{weight:s}=a,l=Math.min(10,Math.max(2,s/8));return{group:"edges",data:Oi(Ni({},a),{id:n,source:i,target:o,width:`${l}px`})}};yield*t.mapNodes(e),yield*t.mapEdges(r)}function hs(t){try{let e=Array.from(Kx(window.graph,t)),r=(0,ov.subgraph)(window.graph,e),n=Array.from(Zx(r));window.subgraph.remove("*"),window.subgraph.add(n),window.subgraph.layout(Jh()).run(),window.subgraph.getElementById(t).select()}catch(e){if(e instanceof av.NotFoundGraphError){alert(`The following node ID does not exist: ${t}`);return}}}function uv(t){window.graph=$x(t),window.show=hs}function lv(t){return un(this,null,function*(){return(yield fetch(t)).json()})}function cv(t){let e=Math.floor(Math.random()*t.length);return t[e]}function fv(){if(!window.location.pathname.replace(/\.html$/,"").endsWith("graph"))return{type:"page"};let e=window.location.hash.slice(1);e.startsWith("/")&&(e=e.slice(1));let r=e.indexOf("/");r<0&&(r=e.length);let n=e.slice(0,r);return n.length>0&&window.graph.hasNode(n)?{type:"graph",value:n}:{type:"graph",value:cv(window.graph.nodes())}}var Qx=/[\]\\/#$%&+,:;<=>?@[^`{|}' ]+/;function hv(t){let{word:e,sense:r}=t,n=`${e}-${r}`;for(;;){let a=n.replace(Qx,"-");if(n===a)break;n=a}return encodeURIComponent(n)}var gv=yr(Xi());var Jx=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):a(c.value).then(s,l)}u((n=n.apply(t,e||[])).next())})},Gn;(function(t){t[t.Fail=0]="Fail",t[t.Pending=1]="Pending",t[t.Success=2]="Success"})(Gn||(Gn={}));function dv(t,e=50){let r=0,n=new Map;return t.onmessage=a=>{let i=a.data;n.set(i.id,i),i.status===Gn.Pending&&(i.status=Gn.Fail)},a=>Jx(this,void 0,void 0,function*(){let i=r++,o=a.pollingCycle==null?e:a.pollingCycle,s={id:i,name:a.name,value:a.value,status:Gn.Pending};for(n.set(i,s),t.postMessage(s);;){let l=n.get(i);if(l.status!==Gn.Pending)return n.delete(i),Promise.resolve(l);yield new Promise(u=>setTimeout(u,o))}})}var ds=class extends gv.Searcher{constructor(e=[]){let r=[{name:"data.word",weight:2},{name:"data.sense",weight:1}];super(r,e)}};function vv(t){let{id:e,word:r,sense:n}=t.data;return{title:r,body:n,url:`/graph#/${e}`}}function pv(t){if(!window.Worker){let n=new ds(t);return function(i){let o=n.search(i);return Promise.resolve(o.map(vv))}}let e=new Worker("/worker.js"),r=dv(e);return r({name:"index",value:t}).then(),n=>un(this,null,function*(){return(yield r({name:"search",value:n})).value.map(vv)})}function jx(t){let e=window.graph.getNodeAttributes(t),r=`/graph#/${t}/${hv(e)}`;history.replaceState(null,"",r);let{word:n,sense:a}=e;document.title=`${n} | ${a}`}function yv(){let t=fv();if(t.type!=="graph")return;let e=t.value;jx(e),hs(e)}function eC(){return un(this,null,function*(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/serviceWorker.js")}),tC(),window.addEventListener("hashchange",yv);let t=yield lv("/data/graph.json");uv(t);let e=document.getElementById("cytoscape-container");e&&Qh(e);let r=pv(t.elements.nodes),n=document.getElementById("placeholder-search-box");(0,mv.initSearchBox)(n,r),yv()})}function tC(){let t=document.querySelector("header > nav > a.logo");t==null||t.addEventListener("copy",e=>{var r;(r=e.clipboardData)==null||r.setData("text/plain","palasimi"),e.preventDefault()})}eC();})();
/*! Bundled license information:

cytoscape/dist/cytoscape.cjs.js:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
  Event object based on jQuery events, MIT license
  
  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
*/
//# sourceMappingURL=index.js.map
