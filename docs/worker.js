"use strict";(()=>{var ot=Object.create;var be=Object.defineProperty;var ct=Object.getOwnPropertyDescriptor;var ut=Object.getOwnPropertyNames;var ht=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty;var N=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var ft=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of ut(n))!lt.call(t,i)&&i!==e&&be(t,i,{get:()=>n[i],enumerable:!(r=ct(n,i))||r.enumerable});return t};var dt=(t,n,e)=>(e=t!=null?ot(ht(t)):{},ft(n||!t||!t.__esModule?be(e,"default",{value:t,enumerable:!0}):e,t));var ue=N((In,gt)=>{gt.exports={}});var he=N((An,pt)=>{pt.exports={}});var Ve=N((On,He)=>{"use strict";function Ae(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),e.push.apply(e,r)}return e}function V(t){for(var n=1;n<arguments.length;n++){var e=arguments[n]!=null?arguments[n]:{};n%2?Ae(Object(e),!0).forEach(function(r){de(t,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ae(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}return t}function fe(t){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},fe(t)}function k(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Oe(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,n,e){return n&&Oe(t.prototype,n),e&&Oe(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function de(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function F(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),n&&ve(t,n)}function te(t){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},te(t)}function ve(t,n){return ve=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},ve(t,n)}function mt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _t(t,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yt(t)}function P(t){var n=mt();return function(){var r=te(t),i;if(n){var a=te(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return _t(this,i)}}function K(t){return Mt(t)||St(t)||xt(t)||Lt()}function Mt(t){if(Array.isArray(t))return ge(t)}function St(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xt(t,n){if(t){if(typeof t=="string")return ge(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return ge(t,n)}}function ge(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Lt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(t){return Array.isArray?Array.isArray(t):je(t)==="[object Array]"}var kt=1/0;function Et(t){if(typeof t=="string")return t;var n=t+"";return n=="0"&&1/t==-kt?"-0":n}function wt(t){return t==null?"":Et(t)}function O(t){return typeof t=="string"}function Re(t){return typeof t=="number"}function bt(t){return t===!0||t===!1||It(t)&&je(t)=="[object Boolean]"}function Te(t){return fe(t)==="object"}function It(t){return Te(t)&&t!==null}function w(t){return t!=null}function le(t){return!t.trim().length}function je(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var At="Incorrect 'index' type",Ot=function(n){return"Invalid value for key ".concat(n)},Ct=function(n){return"Pattern length exceeds max of ".concat(n,".")},$t=function(n){return"Missing ".concat(n," property in key")},Nt=function(n){return"Property 'weight' in key '".concat(n,"' must be a positive integer")},Ce=Object.prototype.hasOwnProperty,Ft=function(){function t(n){var e=this;k(this,t),this._keys=[],this._keyMap={};var r=0;n.forEach(function(i){var a=De(i);r+=a.weight,e._keys.push(a),e._keyMap[a.id]=a,r+=a.weight}),this._keys.forEach(function(i){i.weight/=r})}return E(t,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),t}();function De(t){var n=null,e=null,r=null,i=1,a=null;if(O(t)||C(t))r=t,n=$e(t),e=pe(t);else{if(!Ce.call(t,"name"))throw new Error($t("name"));var o=t.name;if(r=o,Ce.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(Nt(o));n=$e(o),e=pe(o),a=t.getFn}return{path:n,id:e,weight:i,src:r,getFn:a}}function $e(t){return C(t)?t:t.split(".")}function pe(t){return C(t)?t.join("."):t}function Pt(t,n){var e=[],r=!1,i=function a(o,c,h){if(w(o))if(!c[h])e.push(o);else{var l=c[h],s=o[l];if(!w(s))return;if(h===c.length-1&&(O(s)||Re(s)||bt(s)))e.push(wt(s));else if(C(s)){r=!0;for(var u=0,f=s.length;u<f;u+=1)a(s[u],c,h+1)}else c.length&&a(s,c,h+1)}};return i(t,O(n)?n.split("."):n,0),r?e:e[0]}var Rt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Tt={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(n,e){return n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1}},jt={location:0,threshold:.6,distance:100},Dt={useExtendedSearch:!1,getFn:Pt,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},d=V(V(V(V({},Tt),Rt),jt),Dt),Bt=/[^ ]+/g;function Wt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,e=new Map,r=Math.pow(10,n);return{get:function(a){var o=a.match(Bt).length;if(e.has(o))return e.get(o);var c=1/Math.pow(o,.5*t),h=parseFloat(Math.round(c*r)/r);return e.set(o,h),h},clear:function(){e.clear()}}}var Se=function(){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.getFn,r=e===void 0?d.getFn:e,i=n.fieldNormWeight,a=i===void 0?d.fieldNormWeight:i;k(this,t),this.norm=Wt(a,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return E(t,[{key:"setSources",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=r,this._keysMap={},r.forEach(function(i,a){e._keysMap[i.id]=a})}},{key:"create",value:function(){var e=this;this.isCreated||!this.docs.length||(this.isCreated=!0,O(this.docs[0])?this.docs.forEach(function(r,i){e._addString(r,i)}):this.docs.forEach(function(r,i){e._addObject(r,i)}),this.norm.clear())}},{key:"add",value:function(e){var r=this.size();O(e)?this._addString(e,r):this._addObject(e,r)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var r=e,i=this.size();r<i;r+=1)this.records[r].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,r){return e[this._keysMap[r]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,r){if(!(!w(e)||le(e))){var i={v:e,i:r,n:this.norm.get(e)};this.records.push(i)}}},{key:"_addObject",value:function(e,r){var i=this,a={i:r,$:{}};this.keys.forEach(function(o,c){var h=o.getFn?o.getFn(e):i.getFn(e,o.path);if(w(h)){if(C(h))(function(){for(var s=[],u=[{nestedArrIndex:-1,value:h}];u.length;){var f=u.pop(),v=f.nestedArrIndex,g=f.value;if(w(g))if(O(g)&&!le(g)){var m={v:g,i:v,n:i.norm.get(g)};s.push(m)}else C(g)&&g.forEach(function(p,y){u.push({nestedArrIndex:y,value:p})})}a.$[c]=s})();else if(O(h)&&!le(h)){var l={v:h,n:i.norm.get(h)};a.$[c]=l}}}),this.records.push(a)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),t}();function Be(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.getFn,i=r===void 0?d.getFn:r,a=e.fieldNormWeight,o=a===void 0?d.fieldNormWeight:a,c=new Se({getFn:i,fieldNormWeight:o});return c.setKeys(t.map(De)),c.setSources(n),c.create(),c}function Kt(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=n.getFn,r=e===void 0?d.getFn:e,i=n.fieldNormWeight,a=i===void 0?d.fieldNormWeight:i,o=t.keys,c=t.records,h=new Se({getFn:r,fieldNormWeight:a});return h.setKeys(o),h.setIndexRecords(c),h}function ee(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=n.errors,r=e===void 0?0:e,i=n.currentLocation,a=i===void 0?0:i,o=n.expectedLocation,c=o===void 0?0:o,h=n.distance,l=h===void 0?d.distance:h,s=n.ignoreLocation,u=s===void 0?d.ignoreLocation:s,f=r/t.length;if(u)return f;var v=Math.abs(c-a);return l?f+v/l:v?1:f}function Gt(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d.minMatchCharLength,e=[],r=-1,i=-1,a=0,o=t.length;a<o;a+=1){var c=t[a];c&&r===-1?r=a:!c&&r!==-1&&(i=a-1,i-r+1>=n&&e.push([r,i]),r=-1)}return t[a-1]&&a-r>=n&&e.push([r,a-1]),e}var W=32;function zt(t,n,e){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r.location,a=i===void 0?d.location:i,o=r.distance,c=o===void 0?d.distance:o,h=r.threshold,l=h===void 0?d.threshold:h,s=r.findAllMatches,u=s===void 0?d.findAllMatches:s,f=r.minMatchCharLength,v=f===void 0?d.minMatchCharLength:f,g=r.includeMatches,m=g===void 0?d.includeMatches:g,p=r.ignoreLocation,y=p===void 0?d.ignoreLocation:p;if(n.length>W)throw new Error(Ct(W));for(var M=n.length,x=t.length,_=Math.max(0,Math.min(a,x)),S=l,L=_,b=v>1||m,D=b?Array(x):[],I;(I=t.indexOf(n,L))>-1;){var Le=ee(n,{currentLocation:I,expectedLocation:_,distance:c,ignoreLocation:y});if(S=Math.min(Le,S),L=I+M,b)for(var G=0;G<M;)D[I+G]=1,G+=1}L=-1;for(var z=[],Q=1,X=M+x,it=1<<M-1,B=0;B<M;B+=1){for(var q=0,$=X;q<$;){var at=ee(n,{errors:B,currentLocation:_+$,expectedLocation:_,distance:c,ignoreLocation:y});at<=S?q=$:X=$,$=Math.floor((X-q)/2+q)}X=$;var ke=Math.max(1,_-$+1),oe=u?x:Math.min(_+$,x)+M,H=Array(oe+2);H[oe+1]=(1<<B)-1;for(var A=oe;A>=ke;A-=1){var Z=A-1,Ee=e[t.charAt(Z)];if(b&&(D[Z]=+!!Ee),H[A]=(H[A+1]<<1|1)&Ee,B&&(H[A]|=(z[A+1]|z[A])<<1|1|z[A+1]),H[A]&it&&(Q=ee(n,{errors:B,currentLocation:Z,expectedLocation:_,distance:c,ignoreLocation:y}),Q<=S)){if(S=Q,L=Z,L<=_)break;ke=Math.max(1,2*_-L)}}var st=ee(n,{errors:B+1,currentLocation:_,expectedLocation:_,distance:c,ignoreLocation:y});if(st>S)break;z=H}var ce={isMatch:L>=0,score:Math.max(.001,Q)};if(b){var we=Gt(D,v);we.length?m&&(ce.indices=we):ce.isMatch=!1}return ce}function Ht(t){for(var n={},e=0,r=t.length;e<r;e+=1){var i=t.charAt(e);n[i]=(n[i]||0)|1<<r-e-1}return n}var We=function(){function t(n){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.location,a=i===void 0?d.location:i,o=r.threshold,c=o===void 0?d.threshold:o,h=r.distance,l=h===void 0?d.distance:h,s=r.includeMatches,u=s===void 0?d.includeMatches:s,f=r.findAllMatches,v=f===void 0?d.findAllMatches:f,g=r.minMatchCharLength,m=g===void 0?d.minMatchCharLength:g,p=r.isCaseSensitive,y=p===void 0?d.isCaseSensitive:p,M=r.ignoreLocation,x=M===void 0?d.ignoreLocation:M;if(k(this,t),this.options={location:a,threshold:c,distance:l,includeMatches:u,findAllMatches:v,minMatchCharLength:m,isCaseSensitive:y,ignoreLocation:x},this.pattern=y?n:n.toLowerCase(),this.chunks=[],!!this.pattern.length){var _=function(G,z){e.chunks.push({pattern:G,alphabet:Ht(G),startIndex:z})},S=this.pattern.length;if(S>W){for(var L=0,b=S%W,D=S-b;L<D;)_(this.pattern.substr(L,W),L),L+=W;if(b){var I=S-W;_(this.pattern.substr(I),I)}}else _(this.pattern,0)}}return E(t,[{key:"searchIn",value:function(e){var r=this.options,i=r.isCaseSensitive,a=r.includeMatches;if(i||(e=e.toLowerCase()),this.pattern===e){var o={isMatch:!0,score:0};return a&&(o.indices=[[0,e.length-1]]),o}var c=this.options,h=c.location,l=c.distance,s=c.threshold,u=c.findAllMatches,f=c.minMatchCharLength,v=c.ignoreLocation,g=[],m=0,p=!1;this.chunks.forEach(function(M){var x=M.pattern,_=M.alphabet,S=M.startIndex,L=zt(e,x,_,{location:h+S,distance:l,threshold:s,findAllMatches:u,minMatchCharLength:f,includeMatches:a,ignoreLocation:v}),b=L.isMatch,D=L.score,I=L.indices;b&&(p=!0),m+=D,b&&I&&(g=[].concat(K(g),K(I)))});var y={isMatch:p,score:p?m/this.chunks.length:1};return p&&a&&(y.indices=g),y}}]),t}(),R=function(){function t(n){k(this,t),this.pattern=n}return E(t,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return Ne(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return Ne(e,this.singleRegex)}}]),t}();function Ne(t,n){var e=t.match(n);return e?e[1]:null}var Vt=function(t){F(e,t);var n=P(e);function e(r){return k(this,e),n.call(this,r)}return E(e,[{key:"search",value:function(i){var a=i===this.pattern;return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),e}(R),Yt=function(t){F(e,t);var n=P(e);function e(r){return k(this,e),n.call(this,r)}return E(e,[{key:"search",value:function(i){var a=i.indexOf(this.pattern),o=a===-1;return{isMatch:o,score:o?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),e}(R),Ut=function(t){F(e,t);var n=P(e);function e(r){return k(this,e),n.call(this,r)}return E(e,[{key:"search",value:function(i){var a=i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),e}(R),Jt=function(t){F(e,t);var n=P(e);function e(r){return k(this,e),n.call(this,r)}return E(e,[{key:"search",value:function(i){var a=!i.startsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),e}(R),Qt=function(t){F(e,t);var n=P(e);function e(r){return k(this,e),n.call(this,r)}return E(e,[{key:"search",value:function(i){var a=i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[i.length-this.pattern.length,i.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),e}(R),Xt=function(t){F(e,t);var n=P(e);function e(r){return k(this,e),n.call(this,r)}return E(e,[{key:"search",value:function(i){var a=!i.endsWith(this.pattern);return{isMatch:a,score:a?0:1,indices:[0,i.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),e}(R),Ke=function(t){F(e,t);var n=P(e);function e(r){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.location,c=o===void 0?d.location:o,h=a.threshold,l=h===void 0?d.threshold:h,s=a.distance,u=s===void 0?d.distance:s,f=a.includeMatches,v=f===void 0?d.includeMatches:f,g=a.findAllMatches,m=g===void 0?d.findAllMatches:g,p=a.minMatchCharLength,y=p===void 0?d.minMatchCharLength:p,M=a.isCaseSensitive,x=M===void 0?d.isCaseSensitive:M,_=a.ignoreLocation,S=_===void 0?d.ignoreLocation:_;return k(this,e),i=n.call(this,r),i._bitapSearch=new We(r,{location:c,threshold:l,distance:u,includeMatches:v,findAllMatches:m,minMatchCharLength:y,isCaseSensitive:x,ignoreLocation:S}),i}return E(e,[{key:"search",value:function(i){return this._bitapSearch.searchIn(i)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),e}(R),Ge=function(t){F(e,t);var n=P(e);function e(r){return k(this,e),n.call(this,r)}return E(e,[{key:"search",value:function(i){for(var a=0,o,c=[],h=this.pattern.length;(o=i.indexOf(this.pattern,a))>-1;)a=o+h,c.push([o,a-1]);var l=!!c.length;return{isMatch:l,score:l?0:1,indices:c}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),e}(R),me=[Vt,Ge,Ut,Jt,Xt,Qt,Yt,Ke],Fe=me.length,qt=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Zt="|";function en(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.split(Zt).map(function(e){for(var r=e.trim().split(qt).filter(function(g){return g&&!!g.trim()}),i=[],a=0,o=r.length;a<o;a+=1){for(var c=r[a],h=!1,l=-1;!h&&++l<Fe;){var s=me[l],u=s.isMultiMatch(c);u&&(i.push(new s(u,n)),h=!0)}if(!h)for(l=-1;++l<Fe;){var f=me[l],v=f.isSingleMatch(c);if(v){i.push(new f(v,n));break}}}return i})}var tn=new Set([Ke.type,Ge.type]),nn=function(){function t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.isCaseSensitive,i=r===void 0?d.isCaseSensitive:r,a=e.includeMatches,o=a===void 0?d.includeMatches:a,c=e.minMatchCharLength,h=c===void 0?d.minMatchCharLength:c,l=e.ignoreLocation,s=l===void 0?d.ignoreLocation:l,u=e.findAllMatches,f=u===void 0?d.findAllMatches:u,v=e.location,g=v===void 0?d.location:v,m=e.threshold,p=m===void 0?d.threshold:m,y=e.distance,M=y===void 0?d.distance:y;k(this,t),this.query=null,this.options={isCaseSensitive:i,includeMatches:o,minMatchCharLength:h,findAllMatches:f,ignoreLocation:s,location:g,threshold:p,distance:M},this.pattern=i?n:n.toLowerCase(),this.query=en(this.pattern,this.options)}return E(t,[{key:"searchIn",value:function(e){var r=this.query;if(!r)return{isMatch:!1,score:1};var i=this.options,a=i.includeMatches,o=i.isCaseSensitive;e=o?e:e.toLowerCase();for(var c=0,h=[],l=0,s=0,u=r.length;s<u;s+=1){var f=r[s];h.length=0,c=0;for(var v=0,g=f.length;v<g;v+=1){var m=f[v],p=m.search(e),y=p.isMatch,M=p.indices,x=p.score;if(y){if(c+=1,l+=x,a){var _=m.constructor.type;tn.has(_)?h=[].concat(K(h),K(M)):h.push(M)}}else{l=0,c=0,h.length=0;break}}if(c){var S={isMatch:!0,score:l/c};return a&&(S.indices=h),S}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,r){return r.useExtendedSearch}}]),t}(),ne=[];function rn(){ne.push.apply(ne,arguments)}function ye(t,n){for(var e=0,r=ne.length;e<r;e+=1){var i=ne[e];if(i.condition(t,n))return new i(t,n)}return new We(t,n)}var re={AND:"$and",OR:"$or"},_e={PATH:"$path",PATTERN:"$val"},Me=function(n){return!!(n[re.AND]||n[re.OR])},an=function(n){return!!n[_e.PATH]},sn=function(n){return!C(n)&&Te(n)&&!Me(n)},Pe=function(n){return de({},re.AND,Object.keys(n).map(function(e){return de({},e,n[e])}))};function ze(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.auto,i=r===void 0?!0:r,a=function o(c){var h=Object.keys(c),l=an(c);if(!l&&h.length>1&&!Me(c))return o(Pe(c));if(sn(c)){var s=l?c[_e.PATH]:h[0],u=l?c[_e.PATTERN]:c[s];if(!O(u))throw new Error(Ot(s));var f={keyId:pe(s),pattern:u};return i&&(f.searcher=ye(u,n)),f}var v={children:[],operator:h[0]};return h.forEach(function(g){var m=c[g];C(m)&&m.forEach(function(p){v.children.push(o(p))})}),v};return Me(t)||(t=Pe(t)),a(t)}function on(t,n){var e=n.ignoreFieldNorm,r=e===void 0?d.ignoreFieldNorm:e;t.forEach(function(i){var a=1;i.matches.forEach(function(o){var c=o.key,h=o.norm,l=o.score,s=c?c.weight:null;a*=Math.pow(l===0&&s?Number.EPSILON:l,(s||1)*(r?1:h))}),i.score=a})}function cn(t,n){var e=t.matches;n.matches=[],w(e)&&e.forEach(function(r){if(!(!w(r.indices)||!r.indices.length)){var i=r.indices,a=r.value,o={indices:i,value:a};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),n.matches.push(o)}})}function un(t,n){n.score=t.score}function hn(t,n){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=e.includeMatches,i=r===void 0?d.includeMatches:r,a=e.includeScore,o=a===void 0?d.includeScore:a,c=[];return i&&c.push(cn),o&&c.push(un),t.map(function(h){var l=h.idx,s={item:n[l],refIndex:l};return c.length&&c.forEach(function(u){u(h,s)}),s})}var Y=function(){function t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;k(this,t),this.options=V(V({},d),e),this.options.useExtendedSearch,this._keyStore=new Ft(this.options.keys),this.setCollection(n,r)}return E(t,[{key:"setCollection",value:function(e,r){if(this._docs=e,r&&!(r instanceof Se))throw new Error(At);this._myIndex=r||Be(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){w(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},r=[],i=0,a=this._docs.length;i<a;i+=1){var o=this._docs[i];e(o,i)&&(this.removeAt(i),i-=1,a-=1,r.push(o))}return r}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.limit,a=i===void 0?-1:i,o=this.options,c=o.includeMatches,h=o.includeScore,l=o.shouldSort,s=o.sortFn,u=o.ignoreFieldNorm,f=O(e)?O(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return on(f,{ignoreFieldNorm:u}),l&&f.sort(s),Re(a)&&a>-1&&(f=f.slice(0,a)),hn(f,this._docs,{includeMatches:c,includeScore:h})}},{key:"_searchStringList",value:function(e){var r=ye(e,this.options),i=this._myIndex.records,a=[];return i.forEach(function(o){var c=o.v,h=o.i,l=o.n;if(w(c)){var s=r.searchIn(c),u=s.isMatch,f=s.score,v=s.indices;u&&a.push({item:c,idx:h,matches:[{score:f,value:c,norm:l,indices:v}]})}}),a}},{key:"_searchLogical",value:function(e){var r=this,i=ze(e,this.options),a=function l(s,u,f){if(!s.children){var v=s.keyId,g=s.searcher,m=r._findMatches({key:r._keyStore.get(v),value:r._myIndex.getValueForItemAtKeyId(u,v),searcher:g});return m&&m.length?[{idx:f,item:u,matches:m}]:[]}for(var p=[],y=0,M=s.children.length;y<M;y+=1){var x=s.children[y],_=l(x,u,f);if(_.length)p.push.apply(p,K(_));else if(s.operator===re.AND)return[]}return p},o=this._myIndex.records,c={},h=[];return o.forEach(function(l){var s=l.$,u=l.i;if(w(s)){var f=a(i,s,u);f.length&&(c[u]||(c[u]={idx:u,item:s,matches:[]},h.push(c[u])),f.forEach(function(v){var g,m=v.matches;(g=c[u].matches).push.apply(g,K(m))}))}}),h}},{key:"_searchObjectList",value:function(e){var r=this,i=ye(e,this.options),a=this._myIndex,o=a.keys,c=a.records,h=[];return c.forEach(function(l){var s=l.$,u=l.i;if(w(s)){var f=[];o.forEach(function(v,g){f.push.apply(f,K(r._findMatches({key:v,value:s[g],searcher:i})))}),f.length&&h.push({idx:u,item:s,matches:f})}}),h}},{key:"_findMatches",value:function(e){var r=e.key,i=e.value,a=e.searcher;if(!w(i))return[];var o=[];if(C(i))i.forEach(function(v){var g=v.v,m=v.i,p=v.n;if(w(g)){var y=a.searchIn(g),M=y.isMatch,x=y.score,_=y.indices;M&&o.push({score:x,key:r,value:g,idx:m,norm:p,indices:_})}});else{var c=i.v,h=i.n,l=a.searchIn(c),s=l.isMatch,u=l.score,f=l.indices;s&&o.push({score:u,key:r,value:c,norm:h,indices:f})}return o}}]),t}();Y.version="6.6.2";Y.createIndex=Be;Y.parseIndex=Kt;Y.config=d;Y.parseQuery=ze;rn(nn);var ln=Y;He.exports=ln});var Ue=N(U=>{"use strict";var fn=U&&U.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(U,"__esModule",{value:!0});U.Searcher=void 0;var Ye=fn(Ve()),xe=class{constructor(n,e=[]){this.keys=n,this.index(e)}index(n){let e=this.keys,r={keys:e,threshold:.3,ignoreLocation:!0},i=Ye.default.createIndex(e,n);this.fuse=new Ye.default(n,r,i)}search(n){return this.fuse.search(n).map(e=>e.item)}};U.Searcher=xe});var Je=N(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.debounce=void 0;function dn(t,n=250){let e=null;return r=>{e!=null&&(clearTimeout(e),e=null),e=setTimeout(()=>{t(r),e=null},n)}}ie.debounce=dn});var Xe=N(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.createSuggestionsDiv=void 0;he();function vn(t){let n=document.createElement("div");return n.classList.add("suggestion-title"),n.textContent=t,n}function gn(t){let n=document.createElement("div");return n.classList.add("suggestion-body"),n.textContent=t,n}function Qe(t){window.location.href=t.url}function pn(t,n=Qe){let e=document.createElement("div");return e.classList.add("suggestion"),e.appendChild(vn(t.title)),e.appendChild(gn(t.body)),e.addEventListener("click",()=>n(t)),e.addEventListener("mouseenter",()=>{let r=new CustomEvent("palasimi-select-suggestion",{bubbles:!0,detail:e});e.dispatchEvent(r)}),e}function mn(){let t=document.createElement("div");return t.classList.add("suggestion"),t.textContent="No results found.",t}function yn(t=Qe){let n=document.createElement("div");n.classList.add("suggestions");let e=(s,u)=>{if(s.length===0){n.replaceChildren();return}if(u.length===0){n.replaceChildren(mn());return}let f=u.slice(0,200).map(v=>pn(v,t));f[0].classList.add("selected"),n.replaceChildren(...f)},r=()=>n.querySelector(".selected.suggestion"),i=s=>{let u=n.getBoundingClientRect(),f=s.getBoundingClientRect();return!(f.top<u.top||f.bottom>u.bottom)},a=s=>{i(s)||s.scrollIntoView({behavior:"smooth",block:"nearest"})},o=s=>{for(let u of n.querySelectorAll(".selected"))u.classList.remove("selected");s.classList.add("selected")},c=()=>{if(n.childElementCount===0)return;let s=r(),u=s?.nextElementSibling||n.firstElementChild;u!=null&&(o(u),a(u))},h=()=>{if(n.childElementCount===0)return;let s=r(),u=s?.previousElementSibling||n.lastElementChild;u!=null&&(o(u),a(u))},l=()=>{let s=r();if(s==null)return;s.click();let u=document.activeElement;u instanceof HTMLInputElement&&u.blur()};return n.addEventListener("palasimi-select-suggestion",s=>{s.target!=null&&o(s.target)}),[n,e,c,h,l]}ae.createSuggestionsDiv=yn});var Ze=N(T=>{"use strict";var _n=T&&T.__awaiter||function(t,n,e,r){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function c(s){try{l(r.next(s))}catch(u){o(u)}}function h(s){try{l(r.throw(s))}catch(u){o(u)}}function l(s){s.done?a(s.value):i(s.value).then(c,h)}l((r=r.apply(t,n||[])).next())})};Object.defineProperty(T,"__esModule",{value:!0});T.initSearchBox=T.createSearchBox=void 0;ue();var Mn=Je(),Sn=Xe();function xn(t){t.addEventListener("keydown",n=>{switch(n.keyCode){case 13:case 38:case 40:n.preventDefault();break;case 27:t.blur();break;default:break}})}function Ln(t="Search concepts"){let n=document.createElement("div");n.classList.add("search-box"),n.innerHTML=`
		<div class="search-input">
			<input autocapitalize="none">
		</div>
	`;let e=n.querySelector("input");return e.placeholder=t,n}function kn(t,n={}){let e=Ln(n.placeholder);return qe(e,t,n),e}T.createSearchBox=kn;function qe(t,n,e={}){let[r,i,a,o,c]=(0,Sn.createSuggestionsDiv)(e.follow);t.append(r);let l=t.querySelector(".search-input").querySelector("input");xn(l);function s(){return _n(this,void 0,void 0,function*(){let u=l.value,f=yield n(u);i(u,f)})}t.addEventListener("input",(0,Mn.debounce)(s,e.debounceDelay)),t.addEventListener("keydown",u=>{switch(u.keyCode){case 13:c();break;case 38:o();break;case 40:a();break;default:break}})}T.initSearchBox=qe});var tt=N(j=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});j.initSearchBox=j.createSearchBox=j.Searcher=void 0;ue();he();var En=Ue();Object.defineProperty(j,"Searcher",{enumerable:!0,get:function(){return En.Searcher}});var et=Ze();Object.defineProperty(j,"createSearchBox",{enumerable:!0,get:function(){return et.createSearchBox}});Object.defineProperty(j,"initSearchBox",{enumerable:!0,get:function(){return et.initSearchBox}})});var J;(function(t){t[t.Fail=0]="Fail",t[t.Pending=1]="Pending",t[t.Success=2]="Success"})(J||(J={}));function vt(t,n){let{id:e,name:r,value:i}=n,a=t[r];if(a==null){let o=new Error(`unknown command: ${r}`);return{id:e,name:r,value:o,status:J.Fail}}try{return{id:e,name:r,value:a(i),status:J.Success}}catch(o){return{id:e,name:r,value:o,status:J.Fail}}}function Ie(t){self.onmessage=n=>{let e=vt(t,n.data);self.postMessage(e)}}var nt=dt(tt());var se=class extends nt.Searcher{constructor(n=[]){let e=[{name:"data.word",weight:2},{name:"data.sense",weight:1}];super(e,n)}};var rt=new se;Ie({index:t=>rt.index(t),search:t=>rt.search(t)});})();
//# sourceMappingURL=worker.js.map
